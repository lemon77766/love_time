<view class="hundred-page" style="{{'padding-top:' + ar}}"><view class="custom-navbar"><view class="navbar-gradient-bg"></view><view class="status-bar" style="{{'height:' + a}}"></view><view class="navbar-content" style="{{'height:' + c}}"><view class="navbar-left" bindtap="{{b}}"><text class="back-icon">←</text></view><view class="navbar-title"><text class="title-text">一百件小事</text></view><view class="navbar-right"></view></view></view><view class="header-section"><text class="main-title">情侣100件小事挑战</text><view class="progress-area"><view class="progress-bar"><view class="progress-fill" style="{{'width:' + d}}"></view></view><text class="progress-text">{{e}}/100</text><view class="filter-dropdown" bindtap="{{h}}"><text class="filter-label">{{f}}</text><text class="dropdown-icon">{{g}}</text></view></view><view wx:if="{{i}}" class="dropdown-menu"><view wx:for="{{j}}" wx:for-item="option" wx:key="c" class="{{['dropdown-item', option.d && 'active']}}" bindtap="{{option.e}}"><text class="item-label">{{option.a}}</text><text wx:if="{{option.b}}" class="check-icon">✓</text></view></view></view><view class="event-grid"><view wx:for="{{k}}" wx:for-item="item" wx:key="p" class="event-card"><view class="action-buttons"><view class="delete-icon" catchtap="{{item.a}}"><text>🗑️</text></view><view class="favorite-icon" catchtap="{{item.d}}"><text class="{{[item.c && 'favorite-active']}}">{{item.b}}</text></view></view><view class="event-image" bindtap="{{item.i}}"><image wx:if="{{item.e}}" src="{{item.f}}" mode="aspectFill" binderror="{{item.g}}" bindload="{{item.h}}"></image><view wx:else class="placeholder-icon">📸+</view></view><view class="event-title-wrapper" bindtap="{{item.n}}" bindlongpress="{{item.o}}"><text class="{{['event-title', item.k && 'done']}}">{{item.j}}</text><view wx:if="{{item.l}}" class="record-indicator" catchtap="{{item.m}}"><text class="record-icon">📝</text></view></view></view></view><view class="fab-add" bindtap="{{l}}"><text class="fab-icon">+</text></view><view wx:if="{{m}}" class="modal-mask" bindtap="{{s}}"><view class="modal" catchtap="{{r}}"><text class="modal-title">添加小事</text><view class="form"><input class="input" placeholder="例如：一起看日出" value="{{n}}" bindinput="{{o}}"/></view><view class="modal-actions"><button class="btn secondary" bindtap="{{p}}">取消</button><button class="btn primary" bindtap="{{q}}">保存</button></view></view></view><view wx:if="{{t}}" class="modal-mask" bindtap="{{B}}"><view class="modal" catchtap="{{A}}"><text class="modal-title">编辑小事</text><view class="form"><input class="input" placeholder="修改事件名称" value="{{v}}" bindinput="{{w}}"/></view><view class="modal-actions"><button class="btn danger" bindtap="{{x}}">删除</button><button class="btn secondary" bindtap="{{y}}">取消</button><button class="btn primary" bindtap="{{z}}">保存</button></view></view></view><view wx:if="{{C}}" class="modal-mask" bindtap="{{aa}}"><view class="record-modal" catchtap="{{Z}}"><text class="modal-title">{{D}}</text><scroll-view class="record-form" scroll-y="true"><view class="record-section"><text class="section-title">照片记录</text><view class="photo-section" bindtap="{{G}}"><image wx:if="{{E}}" src="{{F}}" mode="aspectFill" class="record-photo"/><view wx:else class="photo-placeholder"><text class="placeholder-icon">📸</text><text class="placeholder-text">点击上传照片</text></view></view></view><view class="record-section"><text class="section-title">时间地点</text><view class="form-row"><view class="form-item half"><text class="form-label">完成日期</text><picker mode="date" value="{{I}}" bindchange="{{J}}"><view class="form-input">{{H}}</view></picker></view><view class="form-item half"><text class="form-label">完成时间</text><picker mode="time" value="{{L}}" bindchange="{{M}}"><view class="form-input">{{K}}</view></picker></view></view><view class="form-item"><text class="form-label">完成地点</text><input class="form-input" placeholder="记录美好的发生地" value="{{N}}" bindinput="{{O}}"/></view><view class="form-item"><text class="form-label">天气状况</text><picker range="{{Q}}" bindchange="{{R}}"><view class="form-input">{{P}}</view></picker></view></view><view class="record-section"><text class="section-title">感受评价</text><view class="form-item"><text class="form-label">心情感受</text><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="记录当时的心情和感受..." maxlength="200" value="{{S}}" bindinput="{{T}}"/></block><text class="char-count">{{U}}/200</text></view></view></scroll-view><view class="modal-actions"><button class="btn secondary" bindtap="{{V}}">取消</button><button wx:if="{{W}}" class="btn primary" bindtap="{{X}}">保存记录</button><button wx:else class="btn primary" bindtap="{{Y}}">编辑记录</button></view></view></view><view wx:if="{{ab}}" class="modal-mask" bindtap="{{aq}}"><view class="detail-modal" catchtap="{{ap}}"><text class="modal-title">完成记录详情</text><scroll-view class="detail-content" scroll-y="true"><view wx:if="{{ac}}" class="detail-section"><image src="{{ad}}" mode="aspectFill" class="detail-photo" bindtap="{{ae}}"/></view><view class="detail-section"><view class="detail-info"><text class="info-label">完成时间：</text><text class="info-value">{{af}} {{ag}}</text></view><view wx:if="{{ah}}" class="detail-info"><text class="info-label">地点：</text><text class="info-value">{{ai}}</text></view><view wx:if="{{aj}}" class="detail-info"><text class="info-label">天气：</text><text class="info-value">{{ak}}</text></view></view><view wx:if="{{al}}" class="detail-section"><view class="detail-info"><text class="info-label">感受：</text><text class="info-value">{{am}}</text></view></view></scroll-view><view class="modal-actions"><button class="btn secondary" bindtap="{{an}}">编辑记录</button><button class="btn primary" bindtap="{{ao}}">关闭</button></view></view></view></view>