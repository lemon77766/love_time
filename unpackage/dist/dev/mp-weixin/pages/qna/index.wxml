<view class="qna-page"><view class="header"><text class="title">甜蜜问答</text><text class="subtitle">用问题和答案更了解彼此</text><view class="header-actions"><button class="btn-custom" bindtap="{{a}}">+ 自定义问题</button></view></view><view class="question-card"><text class="q-text">{{b}}</text></view><view class="answer-card"><text class="a-label">我的回答</text><block wx:if="{{r0}}"><textarea class="a-input" placeholder="输入你的答案..." value="{{c}}" bindinput="{{d}}"/></block><view class="actions"><button class="btn primary" bindtap="{{e}}">提交答案</button><button class="btn secondary" bindtap="{{f}}">下一题</button></view></view><view wx:if="{{g}}" class="partner-card"><text class="p-label">TA 的答案</text><text class="p-text">{{h}}</text></view><view class="floating" bindtap="{{i}}"><text class="float-icon">🕘</text><text class="float-text">历史回答</text></view><view wx:if="{{j}}" class="modal-mask" bindtap="{{o}}"><view class="modal" catchtap="{{n}}"><text class="modal-title">历史回答记录</text><scroll-view class="history-list" scroll-y="true"><view wx:for="{{k}}" wx:for-item="item" wx:key="e" class="history-item"><text class="h-q">Q: {{item.a}}</text><text class="h-me">我: {{item.b}}</text><text class="h-ta">TA: {{item.c}}</text><text class="h-time">{{item.d}}</text></view></scroll-view><view class="modal-actions"><button class="btn secondary" bindtap="{{l}}">关闭</button><button class="btn" bindtap="{{m}}">清空记录</button></view></view></view><view wx:if="{{p}}" class="modal-mask" bindtap="{{B}}"><view class="modal custom-modal" catchtap="{{A}}"><text class="modal-title">管理问题库</text><view class="add-question"><block wx:if="{{r0}}"><textarea class="q-input" placeholder="输入你想问的问题..." maxlength="100" value="{{q}}" bindinput="{{r}}"/></block><button class="btn primary small" bindtap="{{s}}">添加问题</button></view><scroll-view class="question-list" scroll-y="true"><view class="section-title">预设问题 ({{t}})</view><view wx:for="{{v}}" wx:for-item="q" wx:key="c" class="question-item"><text class="q-num">{{q.a}}.</text><text class="q-content">{{q.b}}</text></view><view class="section-title" style="margin-top:20rpx">自定义问题 ({{w}})</view><view wx:for="{{x}}" wx:for-item="q" wx:key="d" class="question-item custom"><text class="q-num">{{q.a}}.</text><text class="q-content">{{q.b}}</text><text class="q-delete" bindtap="{{q.c}}">删除</text></view><view wx:if="{{y}}" class="empty-hint"><text>暂无自定义问题</text></view></scroll-view><view class="modal-actions"><button class="btn secondary" bindtap="{{z}}">关闭</button></view></view></view></view>