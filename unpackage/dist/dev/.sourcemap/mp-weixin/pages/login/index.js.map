{"version":3,"file":"index.js","sources":["pages/login/index.vue","D:/softcaree/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"login-page\">\r\n    <!-- ËÉåÊôØÂõæÁâá -->\r\n    <image class=\"bg-image\" src=\"/static/login/beijing.jpg\" mode=\"aspectFill\" />\r\n    \r\n    <!-- ËÉåÊôØËíôÁâàÔºàÂ¢ûÂä†ÂèØËØªÊÄßÔºâ -->\r\n    <view class=\"bg-overlay\"></view>\r\n\r\n    <!-- ÂÜÖÂÆπÂ±Ç -->\r\n    <view class=\"content-wrapper\">\r\n\r\n    <!-- Logo ÂíåÊ†áÈ¢ò -->\r\n    <view class=\"logo-section\">\r\n      <image class=\"logo\" src=\"/static/zhuye/yellow_love.png\" mode=\"aspectFit\" />\r\n      <text class=\"app-name\">ÁîúËúúÊó∂ÂÖâ</text>\r\n      <text class=\"app-slogan\">ËÆ∞ÂΩïÊØè‰∏Ä‰∏™Áà±ÁöÑÁû¨Èó¥</text>\r\n    </view>\r\n\r\n    <!-- ÁôªÂΩïÂå∫ÂüüÔºàÊó†Âç°ÁâáÔºâ -->\r\n    <view class=\"login-area\">\r\n      <!-- Áî®Êà∑‰ø°ÊÅØÈ¢ÑËßàÔºàÊéàÊùÉÂêéÊòæÁ§∫Ôºâ -->\r\n      <view v-if=\"userInfo.nickName\" class=\"user-preview\">\r\n        <image class=\"avatar\" :src=\"userInfo.avatarUrl\" mode=\"aspectFill\" />\r\n        <text class=\"nickname\">{{ userInfo.nickName }}</text>\r\n      </view>\r\n\r\n      <!-- ÁôªÂΩïÊåâÈíÆ -->\r\n      <button \r\n        v-if=\"!isLoggedIn\" \r\n        class=\"login-btn\" \r\n        @click=\"handleWxLogin\"\r\n        :loading=\"isLoading\"\r\n      >\r\n        <text class=\"btn-icon\">üì±</text>\r\n        <text class=\"btn-text\">ÂæÆ‰ø°ÊéàÊùÉÁôªÂΩï</text>\r\n      </button>\r\n\r\n      <!-- Ê∏∏ÂÆ¢ÁôªÂΩïÊåâÈíÆ -->\r\n      <button \r\n        v-if=\"!isLoggedIn\" \r\n        class=\"guest-btn\" \r\n        @click=\"handleGuestLogin\"\r\n      >\r\n        <text class=\"btn-icon\">üë§</text>\r\n        <text class=\"btn-text\">Ê∏∏ÂÆ¢ÁôªÂΩï</text>\r\n      </button>\r\n\r\n      <!-- Â§¥ÂÉèËé∑ÂèñÊåâÈíÆÔºàÊñ∞Â¢ûÔºâ -->\r\n      <button\r\n        v-if=\"needAvatar\"\r\n        class=\"avatar-btn\"\r\n        open-type=\"chooseAvatar\"\r\n        @chooseavatar=\"onChooseAvatar\"\r\n      >\r\n        ÈÄâÊã©Â§¥ÂÉè\r\n      </button>\r\n\r\n\r\n      <!-- ÊèêÁ§∫‰ø°ÊÅØ -->\r\n      <view class=\"tips\">\r\n        <text class=\"tip-text\">ÁôªÂΩïÂç≥Ë°®Á§∫ÂêåÊÑè</text>\r\n        <text class=\"link-text\">„ÄäÁî®Êà∑ÂçèËÆÆ„Äã</text>\r\n        <text class=\"tip-text\">Âíå</text>\r\n        <text class=\"link-text\">„ÄäÈöêÁßÅÊîøÁ≠ñ„Äã</text>\r\n      </view>\r\n    </view>\r\n    </view>\r\n\r\n    <!-- Áî®Êà∑ËµÑÊñôÁ°ÆËÆ§ÂºπÁ™ó -->\r\n    <view v-if=\"showProfileModal\" class=\"modal-overlay\" @click=\"closeModal\">\r\n      <view class=\"modal-content\" @click.stop>\r\n        <!-- ÂÖ≥Èó≠ÊåâÈíÆ -->\r\n        <view class=\"modal-close\" @click=\"closeModal\">‚úï</view>\r\n\r\n        <!-- Ê†áÈ¢ò -->\r\n        <text class=\"modal-title\">Á°ÆËÆ§ÊÇ®ÁöÑËµÑÊñô</text>\r\n        <text class=\"modal-subtitle\">ÈÄâÊã©Ë¶ÅÂú®Â∞èÁ®ãÂ∫è‰∏≠ÊòæÁ§∫ÁöÑÂ§¥ÂÉèÂíåÊòµÁß∞</text>\r\n\r\n        <!-- Â§¥ÂÉèÈÄâÊã©Âå∫Âüü -->\r\n        <view class=\"avatar-section\">\r\n          <text class=\"section-label\">Â§¥ÂÉèÈÄâÊã©</text>\r\n          \r\n          <!-- ÂæÆ‰ø°Â§¥ÂÉèÈÄâÈ°π -->\r\n          <view class=\"option-item\" @click=\"selectWechatAvatar\">\r\n            <view class=\"option-avatar\">\r\n              <image :src=\"userInfo.avatarUrl\" mode=\"aspectFill\" />\r\n            </view>\r\n            <view class=\"option-info\">\r\n              <text class=\"option-title\">‰ΩøÁî®ÂæÆ‰ø°Â§¥ÂÉè</text>\r\n              <text class=\"option-desc\">ÊÇ®ÁöÑÂæÆ‰ø°Â§¥ÂÉè</text>\r\n            </view>\r\n            <view class=\"option-radio\" :class=\"{ active: profileData.avatarType === 'wechat' }\"></view>\r\n          </view>\r\n\r\n          <!-- Ëá™ÂÆö‰πâÂ§¥ÂÉèÈÄâÈ°π -->\r\n          <view class=\"option-item\" @click=\"uploadCustomAvatar\">\r\n            <view class=\"option-avatar placeholder\">\r\n              <text>+</text>\r\n            </view>\r\n            <view class=\"option-info\">\r\n              <text class=\"option-title\">‰∏ä‰º†Ëá™ÂÆö‰πâÂ§¥ÂÉè</text>\r\n              <text class=\"option-desc\">ÈÄâÊã©Êú¨Âú∞ÂõæÁâá</text>\r\n            </view>\r\n            <view class=\"option-radio\" :class=\"{ active: profileData.avatarType === 'custom' }\"></view>\r\n          </view>\r\n        </view>\r\n\r\n        <!-- ÊòµÁß∞ÁºñËæëÂå∫Âüü -->\r\n        <view class=\"nickname-section\">\r\n          <text class=\"section-label\">ÊòµÁß∞ËÆæÁΩÆ</text>\r\n          \r\n          <!-- ‰ΩøÁî®ÂæÆ‰ø°ÊòµÁß∞ -->\r\n          <view class=\"checkbox-item\" @click=\"toggleUseWechatNickname\">\r\n            <view class=\"checkbox\" :class=\"{ checked: profileData.useWechatNickname }\"></view>\r\n            <text class=\"checkbox-text\">‰ΩøÁî®ÂæÆ‰ø°ÊòµÁß∞</text>\r\n            <text class=\"nickname-display\">{{ userInfo.nickName }}</text>\r\n          </view>\r\n\r\n          <!-- Ëá™ÂÆö‰πâÊòµÁß∞ -->\r\n          <view class=\"custom-nickname-box\" v-if=\"!profileData.useWechatNickname\">\r\n            <text class=\"input-label\">Ëá™ÂÆö‰πâÊòµÁß∞</text>\r\n            <input \r\n              v-model=\"profileData.customNickname\" \r\n              type=\"text\" \r\n              maxlength=\"20\"\r\n              placeholder=\"ËØ∑ËæìÂÖ•ÊòµÁß∞ÔºàÊúÄÂ§ö20‰∏™Â≠óÔºâ\"\r\n              class=\"nickname-input\"\r\n            />\r\n            <text class=\"char-count\">{{ profileData.customNickname.length }}/20</text>\r\n          </view>\r\n        </view>\r\n\r\n        <!-- Êìç‰ΩúÊåâÈíÆ -->\r\n        <view class=\"modal-actions\">\r\n          <button class=\"btn-cancel\" @click=\"skipSetup\">ÊöÇÊó∂Ë∑≥Ëøá</button>\r\n          <button class=\"btn-confirm\" @click=\"confirmProfile\">ÂÆåÊàêËÆæÁΩÆ</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { wxLogin } from '@/api/login.js';\r\nimport config from '@/utils/config.js';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLoggedIn: false,\r\n      isLoading: false,\r\n      showProfileModal: false,  // ÊéßÂà∂‰∏¢‰∏¢‰∏¢ÊòØÂê¶ÊòæÁ§∫\r\n      needAvatar: false,  // Êñ∞Â¢ûÔºöÊòØÂê¶ÈúÄË¶ÅËé∑ÂèñÂ§¥ÂÉè\r\n      userInfo: {\r\n        nickName: '',\r\n        avatarUrl: ''\r\n      },\r\n      profileData: {\r\n        avatarType: 'wechat',      // 'wechat' Êàñ 'custom'\r\n        useWechatNickname: true,   // ÊòØÂê¶‰ΩøÁî®ÂæÆ‰ø°ÊòµÁß∞\r\n        customNickname: '',        // Ëá™ÂÆö‰πâÊòµÁß∞\r\n        customAvatarUrl: ''        // Ëá™ÂÆö‰πâÂ§¥ÂÉè URL\r\n      }\r\n    };\r\n  },\r\n  onLoad() {\r\n    // Ê£ÄÊü•ÊòØÂê¶Â∑≤ÁôªÂΩï\r\n    this.checkLoginStatus();\r\n  },\r\n  methods: {\r\n    // Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ\r\n    checkLoginStatus() {\r\n      try {\r\n        const loginInfo = uni.getStorageSync('login_info');\r\n        if (loginInfo && loginInfo.isLoggedIn) {\r\n          console.log('Ê£ÄÊµãÂà∞Â∑≤ÁôªÂΩïÔºåËá™Âä®Ë∑≥ËΩ¨Âà∞È¶ñÈ°µ');\r\n          this.isLoggedIn = true;\r\n          this.userInfo = loginInfo.userInfo || {};\r\n          // ‚úÖ Á´ãÂç≥Ë∑≥ËΩ¨Âà∞È¶ñÈ°µÔºå‰∏çÊòæÁ§∫ÁôªÂΩïÈ°µÈù¢\r\n          setTimeout(() => {\r\n            uni.reLaunch({\r\n              url: '/pages/index/index'\r\n            });\r\n          }, 300);\r\n        }\r\n      } catch (e) {\r\n        console.error('Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅÂ§±Ë¥•', e);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Ê∏∏ÂÆ¢ÁôªÂΩïÂ§ÑÁêÜ\r\n     * Êó†ÈúÄÊéàÊùÉÔºåÁõ¥Êé•‰ΩøÁî®ÈªòËÆ§Áî®Êà∑‰ø°ÊÅØËøõÂÖ•Â∫îÁî®\r\n     */\r\n    handleGuestLogin() {\r\n      // ÂàõÂª∫Ê∏∏ÂÆ¢Áî®Êà∑‰ø°ÊÅØ\r\n      const guestUserInfo = {\r\n        nickName: 'Ê∏∏ÂÆ¢Áî®Êà∑',\r\n        avatarUrl: '/static/zhuye/smile.png',\r\n        displayName: 'Ê∏∏ÂÆ¢Áî®Êà∑',\r\n        displayAvatar: '/static/zhuye/smile.png',\r\n        isGuest: true\r\n      };\r\n\r\n      // ‰øùÂ≠òÊ∏∏ÂÆ¢ÁôªÂΩï‰ø°ÊÅØ\r\n      const loginInfo = {\r\n        isLoggedIn: true,\r\n        userInfo: guestUserInfo,\r\n        isGuest: true, // Ê†áËÆ∞‰∏∫Ê∏∏ÂÆ¢ÁôªÂΩï\r\n        loginTime: new Date().toISOString()\r\n      };\r\n      \r\n      try {\r\n        uni.setStorageSync('login_info', loginInfo);\r\n        \r\n        // ÊèêÁ§∫ÁôªÂΩïÊàêÂäü\r\n        uni.showToast({\r\n          title: 'Ê∏∏ÂÆ¢ÁôªÂΩïÊàêÂäü',\r\n          icon: 'success',\r\n          duration: 1500\r\n        });\r\n\r\n        // Âª∂ËøüË∑≥ËΩ¨Âà∞È¶ñÈ°µ\r\n        setTimeout(() => {\r\n          this.enterApp();\r\n        }, 1500);\r\n        \r\n      } catch (error) {\r\n        console.error('Ê∏∏ÂÆ¢ÁôªÂΩïÂ§±Ë¥•', error);\r\n        uni.showToast({\r\n          title: 'ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\r\n          icon: 'none'\r\n        });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * ÂæÆ‰ø°ÊéàÊùÉÁôªÂΩï‰∏ªÊµÅÁ®ã\r\n     * ÊµÅÁ®ãËØ¥ÊòéÔºö\r\n     * 1. Ë∞ÉÁî® uni.getUserProfile Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÔºàÊòµÁß∞„ÄÅÂ§¥ÂÉèÔºâ- ÂøÖÈ°ªÁî±Áî®Êà∑ÁÇπÂáªÁõ¥Êé•Ëß¶Âèë\r\n     * 2. Ë∞ÉÁî® wx.login Ëé∑Âèñ‰∏¥Êó∂ÁôªÂΩïÂá≠ËØÅ code\r\n     * 3. Â∞Ü code ÂíåÁî®Êà∑‰ø°ÊÅØÂèëÈÄÅÂà∞ÂêéÁ´ØÊúçÂä°Âô®\r\n     * 4. ÂêéÁ´ØÈ™åËØÅÂêéËøîÂõû session_key Âíå openid\r\n     * 5. ÂâçÁ´Ø‰øùÂ≠òÁôªÂΩïÁä∂ÊÄÅÂíåÁî®Êà∑‰ø°ÊÅØ\r\n     */\r\n    async handleWxLogin() {\r\n      this.isLoading = true;\r\n\r\n      try {\r\n        // Ê≠•È™§1ÔºöËé∑ÂèñÁî®Êà∑‰ø°ÊÅØÔºà‰∏çÂåÖÂê´Â§¥ÂÉèÔºâ\r\n        const userProfile = await uni.getUserProfile({\r\n          desc: 'Áî®‰∫éÂÆåÂñÑÁî®Êà∑ËµÑÊñô'\r\n        });\r\n        \r\n        // Ê≠•È™§2ÔºöÊòæÁ§∫Â§¥ÂÉèÈÄâÊã©ÊåâÈíÆ\r\n        this.needAvatar = true;\r\n        \r\n        // Ê≠•È™§3ÔºöËé∑ÂèñÁôªÂΩïÂá≠ËØÅcode\r\n        const loginCode = await this.getWxLoginCode();\r\n        \r\n        // ‰øùÂ≠òÂü∫Êú¨Áî®Êà∑‰ø°ÊÅØ\r\n        this.userInfo = {\r\n          nickName: userProfile.userInfo.nickName,\r\n          avatarUrl: '' // Â§¥ÂÉèURLÂ∞ÜÂú®Áî®Êà∑ÈÄâÊã©ÂêéÊõ¥Êñ∞\r\n        };\r\n        \r\n        // Á≠âÂæÖÁî®Êà∑ÈÄâÊã©Â§¥ÂÉè\r\n        uni.showToast({\r\n          title: 'ËØ∑ÈÄâÊã©ÊÇ®ÁöÑÂ§¥ÂÉè',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n        \r\n      } catch (e) {\r\n        console.error('ÁôªÂΩïÂ§±Ë¥•', e);\r\n        uni.showToast({\r\n          title: e.errMsg || 'ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\r\n          icon: 'none'\r\n        });\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n\r\n    // Êñ∞Â¢ûÔºöÂ§ÑÁêÜÂ§¥ÂÉèÈÄâÊã©ÂõûË∞É\r\n    async onChooseAvatar(e) {\r\n      try {\r\n        const { avatarUrl } = e.detail;\r\n        \r\n        // ÊòæÁ§∫‰∏ä‰º†‰∏≠ÊèêÁ§∫\r\n        uni.showLoading({\r\n          title: 'Â§ÑÁêÜÂ§¥ÂÉè‰∏≠...',\r\n          mask: true\r\n        });\r\n        \r\n        // ÂéãÁº©ÂõæÁâá\r\n        const compressedImage = await this.compressImage(avatarUrl);\r\n        \r\n        // ‰∏ä‰º†Â§¥ÂÉè\r\n        const uploadResult = await http.upload({\r\n          url: config.API.USER.AVATAR_UPLOAD,\r\n          filePath: compressedImage,\r\n          name: 'avatar',\r\n          formData: {\r\n            type: 'avatar'\r\n          }\r\n        });\r\n        \r\n        // Êõ¥Êñ∞Â§¥ÂÉèURL\r\n        this.userInfo.avatarUrl = uploadResult.url || avatarUrl;\r\n        this.needAvatar = false;\r\n        \r\n        // ÁªßÁª≠ÁôªÂΩïÊµÅÁ®ã\r\n        await this.continueLogin();\r\n        \r\n      } catch (error) {\r\n        console.error('Â§ÑÁêÜÂ§¥ÂÉèÈÄâÊã©Â§±Ë¥•', error);\r\n        \r\n        // Â¶ÇÊûúÊòØÁΩëÁªúÈîôËØØÔºå‰ΩøÁî®Êú¨Âú∞Â§¥ÂÉèURLÁªßÁª≠\r\n        if (error.errMsg && error.errMsg.includes('fail')) {\r\n          console.warn('‰∏ä‰º†Â§±Ë¥•Ôºå‰ΩøÁî®Êú¨Âú∞Â§¥ÂÉèÁªßÁª≠');\r\n          this.userInfo.avatarUrl = e.detail.avatarUrl;\r\n          this.needAvatar = false;\r\n          \r\n          // ÁªßÁª≠ÁôªÂΩïÊµÅÁ®ã\r\n          await this.continueLogin();\r\n        } else {\r\n          uni.showToast({\r\n            title: 'Â§¥ÂÉèÂ§ÑÁêÜÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\r\n            icon: 'none',\r\n            duration: 2000\r\n          });\r\n        }\r\n      } finally {\r\n        uni.hideLoading();\r\n      }\r\n    },\r\n    \r\n    // ÂéãÁº©ÂõæÁâáÊñπÊ≥ï\r\n    async compressImage(tempFilePath) {\r\n      return new Promise((resolve, reject) => {\r\n        uni.compressImage({\r\n          src: tempFilePath,\r\n          quality: 80,\r\n          success: (res) => {\r\n            resolve(res.tempFilePath);\r\n          },\r\n          fail: (error) => {\r\n            console.warn('ÂõæÁâáÂéãÁº©Â§±Ë¥•Ôºå‰ΩøÁî®ÂéüÂõæ', error);\r\n            resolve(tempFilePath);\r\n          }\r\n        });\r\n      });\r\n    },\r\n    \r\n    // ÁªßÁª≠ÁôªÂΩïÊµÅÁ®ãÊñπÊ≥ï\r\n    async continueLogin() {\r\n      try {\r\n        // Ëé∑ÂèñÁôªÂΩïÂá≠ËØÅcodeÔºàÂ¶ÇÊûúËøòÊ≤°ÊúâËé∑ÂèñÔºâ\r\n        const loginCode = await this.getWxLoginCode();\r\n        \r\n        // ÂèëÈÄÅÁôªÂΩïËØ∑Ê±ÇÂà∞ÂêéÁ´ØÔºàÊ∑ªÂä†ÈáçËØïÊ¨°Êï∞Ôºâ\r\n        const loginResult = await http.post(config.API.LOGIN.WECHAT, {\r\n          code: loginCode,\r\n          nickName: this.userInfo.nickName,\r\n          avatarUrl: this.userInfo.avatarUrl\r\n        }, { retryCount: 3 });  // ËÆæÁΩÆ3Ê¨°ÈáçËØï\r\n        \r\n        // ‰øùÂ≠òÁôªÂΩï‰ø°ÊÅØ\r\n        const loginInfo = {\r\n          isLoggedIn: true,\r\n          userInfo: this.userInfo,\r\n          token: loginResult.token || '',\r\n          openid: loginResult.openid || '',\r\n          sessionKey: loginResult.session_key || '',\r\n          loginTime: new Date().toISOString()\r\n        };\r\n        uni.setStorageSync('login_info', loginInfo);\r\n\r\n        this.isLoggedIn = true;\r\n\r\n        // ÊèêÁ§∫ÁôªÂΩïÊàêÂäü\r\n        uni.showToast({\r\n          title: 'ÁôªÂΩïÊàêÂäü',\r\n          icon: 'success',\r\n          duration: 1500\r\n        });\r\n\r\n        // ÊòæÁ§∫ËµÑÊñôÁ°ÆËÆ§ÂºπÁ™ó\r\n        setTimeout(() => {\r\n          this.showProfileModal = true;\r\n        }, 1500);\r\n        \r\n      } catch (error) {\r\n        console.error('ÁôªÂΩïÂ§±Ë¥•', error);\r\n        uni.showToast({\r\n          title: 'ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Ë∞ÉÁî®ÂæÆ‰ø° wx.login Êé•Âè£Ëé∑Âèñ‰∏¥Êó∂ÁôªÂΩïÂá≠ËØÅ code\r\n     * @returns {Promise<string>} ËøîÂõû codeÂ≠óÁ¨¶‰∏≤\r\n     */\r\n    getWxLoginCode() {\r\n      return new Promise((resolve, reject) => {\r\n        // #ifdef MP-WEIXIN\r\n        uni.login({\r\n          provider: 'weixin',\r\n          success: (res) => {\r\n            if (res.code) {\r\n              resolve(res.code);\r\n            } else {\r\n              reject(new Error('Ëé∑ÂèñcodeÂ§±Ë¥•'));\r\n            }\r\n          },\r\n          fail: (err) => {\r\n            reject(err);\r\n          }\r\n        });\r\n        // #endif\r\n\r\n        // #ifndef MP-WEIXIN\r\n        // H5 ÊàñÂÖ∂‰ªñÂπ≥Âè∞ËøîÂõûÊ®°Êãü code\r\n        resolve('mock_code_' + Date.now());\r\n        // #endif\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÔºàÂæÆ‰ø°Â∞èÁ®ãÂ∫èÔºâ\r\n     * @returns {Promise<Object>} ËøîÂõûÁî®Êà∑‰ø°ÊÅØÂØπË±°\r\n     */\r\n    getUserProfile() {\r\n      return new Promise((resolve, reject) => {\r\n        // #ifdef MP-WEIXIN\r\n        uni.getUserProfile({\r\n          desc: 'Áî®‰∫éÂÆåÂñÑÁî®Êà∑ËµÑÊñô',\r\n          success: (res) => {\r\n            resolve(res.userInfo);\r\n          },\r\n          fail: (err) => {\r\n            reject(err);\r\n          }\r\n        });\r\n        // #endif\r\n\r\n        // #ifndef MP-WEIXIN\r\n        // H5 ÊàñÂÖ∂‰ªñÂπ≥Âè∞‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ\r\n        resolve({\r\n          nickName: 'Ê∏∏ÂÆ¢Áî®Êà∑',\r\n          avatarUrl: '/static/zhuye/smile.png'\r\n        });\r\n        // #endif\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Â∞ÜÁôªÂΩï‰ø°ÊÅØÂèëÈÄÅÂà∞ÂêéÁ´ØÊúçÂä°Âô®Ôºà‰ΩøÁî®Â∞ÅË£ÖÂ•ΩÁöÑAPIÔºâ\r\n     * @param {string} code - ÂæÆ‰ø°ÁôªÂΩïÂá≠ËØÅ\r\n     * @param {Object} userInfo - Áî®Êà∑‰ø°ÊÅØ\r\n     * @returns {Promise<Object>} ËøîÂõûÂêéÁ´ØÂìçÂ∫îÊï∞ÊçÆ\r\n     */\r\n    async sendLoginToBackend(code, userInfo) {\r\n      try {\r\n        // Ë∞ÉÁî®Â∞ÅË£ÖÂ•ΩÁöÑÁôªÂΩïAPI\r\n        const result = await wxLogin(code, userInfo);\r\n        return result;\r\n      } catch (error) {\r\n        // Áõ¥Êé•ÊäõÂá∫ÈîôËØØÔºå‰∏çËøîÂõûÊ®°ÊãüÊï∞ÊçÆ\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // ËøõÂÖ•Â∫îÁî®\r\n    enterApp() {\r\n      uni.reLaunch({\r\n        url: '/pages/index/index'\r\n      });\r\n    },\r\n\r\n    // ========== ËµÑÊñôÁ°ÆËÆ§Áõ∏ÂÖ≥ÊñπÊ≥ï ==========\r\n\r\n    // ÈÄâÊã©ÂæÆ‰ø°Â§¥ÂÉè\r\n    selectWechatAvatar() {\r\n      this.profileData.avatarType = 'wechat';\r\n    },\r\n\r\n    // ‰∏ä‰º†Ëá™ÂÆö‰πâÂ§¥ÂÉè\r\n    uploadCustomAvatar() {\r\n      uni.chooseImage({\r\n        count: 1,\r\n        sizeType: ['compressed'],\r\n        sourceType: ['album', 'camera'],\r\n        success: (res) => {\r\n          const tempFilePath = res.tempFilePaths[0];\r\n          this.profileData.customAvatarUrl = tempFilePath;\r\n          this.profileData.avatarType = 'custom';\r\n        },\r\n        fail: (err) => {\r\n          console.error('ÈÄâÊã©ÂõæÁâáÂ§±Ë¥•', err);\r\n        }\r\n      });\r\n    },\r\n\r\n    // ÂàáÊç¢ÊòØÂê¶‰ΩøÁî®ÂæÆ‰ø°ÊòµÁß∞\r\n    toggleUseWechatNickname() {\r\n      this.profileData.useWechatNickname = !this.profileData.useWechatNickname;\r\n    },\r\n\r\n    // ÊäΩÂ±ºËÆæÁΩÆ\r\n    skipSetup() {\r\n      // Á©∫‰ºö‰ºö‰πüË¶Å‰øùÂ≠òÁ¨¨‰∏ÄËé∑ÂæóÁöÑÂæÆ‰ø°‰ø°ÊÅØ\r\n      this.showProfileModal = false;\r\n      this.enterApp();\r\n    },\r\n\r\n    // ÂÆåÊàêËÆæÁΩÆ\r\n    confirmProfile() {\r\n      // È™åËØÅËá™ÂÆö‰πâÊòµÁß∞\r\n      if (!this.profileData.useWechatNickname && !this.profileData.customNickname.trim()) {\r\n        uni.showToast({\r\n          title: 'ËØ∑ËæìÂÖ•ÊòµÁß∞',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n\r\n      // ÊûÑÂª∫ÊúÄÁªàË¶Å‰øùÂ≠òÁöÑ‰∏ö‰∏™‰∏¢‰∏¢‰ø°ÊÅØ\r\n      const displayName = this.profileData.useWechatNickname \r\n        ? this.userInfo.nickName \r\n        : this.profileData.customNickname;\r\n\r\n      const displayAvatar = this.profileData.avatarType === 'wechat' \r\n        ? this.userInfo.avatarUrl \r\n        : this.profileData.customAvatarUrl;\r\n\r\n      // Êõ¥Êñ∞Êú¨Âú∞Â≠òÂÇ®ÁöÑÁôªÂΩï‰ø°ÊÅØ\r\n      const loginInfo = uni.getStorageSync('login_info') || {};\r\n      loginInfo.userInfo = {\r\n        ...loginInfo.userInfo,\r\n        displayName,        // Â∞èÁ®ãÂ∫è‰∏≠‰ΩøÁî®ÁöÑÊòµÁß∞\r\n        displayAvatar,      // Â∞èÁ®ãÂ∫è‰∏≠‰ΩøÁî®ÁöÑÂ§¥ÂÉè\r\n        originalNickName: this.userInfo.nickName,    // ÂéüÂßãÂæÆ‰ø°ÊòµÁß∞\r\n        originalAvatarUrl: this.userInfo.avatarUrl   // ÂéüÂßãÂæÆ‰ø°Â§¥ÂÉè\r\n      };\r\n      uni.setStorageSync('login_info', loginInfo);\r\n\r\n      // ÂÖ≥Èó≠modalÂπ∂Ë∑≥ËΩ¨È¶ñÈ°µ\r\n      this.showProfileModal = false;\r\n      this.enterApp();\r\n    },\r\n\r\n    // ÂÖ≥Èó≠modal\r\n    closeModal() {\r\n      // ÁÇπÂáªÊ†áÈ°é‰ΩìÂ§ñ‰ªûfalÂÖ≥Èó≠\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-page {\r\n  min-height: 100vh;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n/* ËÉåÊôØÂõæÁâá */\r\n.bg-image {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 0;\r\n}\r\n\r\n/* ËÉåÊôØËíôÁâàÔºàËÆ©ÊñáÂ≠óÊõ¥Ê∏ÖÊô∞Ôºâ */\r\n.bg-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(255, 255, 255, 0.15);\r\n  z-index: 1;\r\n}\r\n\r\n/* ÂÜÖÂÆπÂ±Ç */\r\n.content-wrapper {\r\n  position: relative;\r\n  z-index: 2;\r\n  min-height: 100vh;\r\n  padding: 40rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n/* ÁßªÈô§ÊóßÁöÑËÉåÊôØË£ÖÈ•∞ */\r\n.bg-decoration {\r\n  display: none;\r\n}\r\n\r\n.heart {\r\n  display: none;\r\n}\r\n\r\n/* Logo Âå∫Âüü */\r\n.logo-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 80rpx;\r\n}\r\n\r\n.logo {\r\n  width: 180rpx;\r\n  height: 180rpx;\r\n  margin-bottom: 30rpx;\r\n  animation: pulse 2s ease-in-out infinite;\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.05);\r\n  }\r\n}\r\n\r\n.app-name {\r\n  font-size: 48rpx;\r\n  font-weight: 700;\r\n  color: #2bad81;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.app-slogan {\r\n  font-size: 26rpx;\r\n  color: #4e3c3c;\r\n}\r\n\r\n/* ÁôªÂΩïÂå∫ÂüüÔºàÊó†Âç°ÁâáËÉåÊôØÔºâ */\r\n.login-area {\r\n  width: 70%;\r\n  max-width: 500rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n/* ÁßªÈô§ÊóßÁöÑÁôªÂΩïÂç°ÁâáÊ†∑Âºè */\r\n.login-card {\r\n  display: none;\r\n}\r\n\r\n/* ÁßªÈô§Ê¨¢ËøéÊñáÂ≠óÊ†∑Âºè */\r\n.welcome-text {\r\n  display: none;\r\n}\r\n\r\n.subtitle {\r\n  display: none;\r\n}\r\n\r\n/* Áî®Êà∑‰ø°ÊÅØÈ¢ÑËßà */\r\n.user-preview {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.avatar {\r\n  width: 120rpx;\r\n  height: 120rpx;\r\n  border-radius: 60rpx;\r\n  border: 4rpx solid #e5e5e5;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.nickname {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: 600;\r\n}\r\n\r\n/* ÁôªÂΩïÊåâÈíÆ */\r\n.login-btn, .enter-btn, .guest-btn {\r\n  width: 100%;\r\n  background: #2bad81;\r\n  border-radius: 48rpx;\r\n  padding: 28rpx 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 12rpx;\r\n  box-shadow: 0 8rpx 20rpx rgba(43, 173, 129, 0.25);\r\n  margin-bottom: 20rpx;\r\n  border: none;\r\n  color: #ffffff;\r\n}\r\n\r\n.login-btn::after, .enter-btn::after, .guest-btn::after {\r\n  border: none;\r\n}\r\n\r\n.login-btn:active, .enter-btn:active, .guest-btn:active {\r\n  opacity: 0.85;\r\n}\r\n\r\n.enter-btn {\r\n  background: #2bad81;\r\n  box-shadow: 0 8rpx 20rpx rgba(43, 173, 129, 0.25);\r\n}\r\n\r\n/* Ê∏∏ÂÆ¢ÁôªÂΩïÊåâÈíÆÊ†∑Âºè */\r\n.guest-btn {\r\n  background: #ff9800;\r\n  box-shadow: 0 8rpx 20rpx rgba(255, 152, 0, 0.25);\r\n}\r\n\r\n.btn-icon {\r\n  font-size: 32rpx;\r\n}\r\n\r\n.btn-text {\r\n  font-size: 30rpx;\r\n  font-weight: 600;\r\n  color: #ffffff;\r\n}\r\n\r\n/* ÊèêÁ§∫‰ø°ÊÅØ */\r\n.tips {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n  padding: 16rpx 32rpx;\r\n  background: rgba(255, 255, 255, 0.85);\r\n  border-radius: 20rpx;\r\n  backdrop-filter: blur(8px);\r\n}\r\n\r\n.tip-text {\r\n  font-size: 22rpx;\r\n  color: #666;\r\n}\r\n\r\n.link-text {\r\n  font-size: 22rpx;\r\n  color: #2bad81;\r\n}\r\n\r\n/* ËµÑÊñôÁ°ÆËÆ§‰ºπÂ™ó */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: flex-end;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  width: 100%;\r\n  background: #ffffff;\r\n  border-radius: 32rpx 32rpx 0 0;\r\n  padding: 40rpx 30rpx 60rpx 30rpx;\r\n  box-shadow: 0 -8rpx 24rpx rgba(0, 0, 0, 0.1);\r\n  position: relative;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.modal-close {\r\n  position: absolute;\r\n  top: 20rpx;\r\n  right: 20rpx;\r\n  font-size: 32rpx;\r\n  color: #999;\r\n  padding: 8rpx 16rpx;\r\n  border-radius: 50%;\r\n}\r\n\r\n.modal-title {\r\n  display: block;\r\n  font-size: 32rpx;\r\n  font-weight: 700;\r\n  color: #333;\r\n  margin-bottom: 12rpx;\r\n  text-align: center;\r\n}\r\n\r\n.modal-subtitle {\r\n  display: block;\r\n  font-size: 24rpx;\r\n  color: #999;\r\n  text-align: center;\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n/* Â§¥ÂÉèÈÄâÊã©Âå∫ */\r\n.avatar-section {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.section-label {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.option-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 20rpx;\r\n  background: #f8f8f8;\r\n  border-radius: 16rpx;\r\n  margin-bottom: 16rpx;\r\n  border: 2rpx solid transparent;\r\n}\r\n\r\n.option-item:active {\r\n  background: #f0f0f0;\r\n}\r\n\r\n.option-avatar {\r\n  width: 80rpx;\r\n  height: 80rpx;\r\n  border-radius: 16rpx;\r\n  overflow: hidden;\r\n  margin-right: 20rpx;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.option-avatar image {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.option-avatar.placeholder {\r\n  background: #e5e5e5;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 40rpx;\r\n  color: #999;\r\n}\r\n\r\n.option-info {\r\n  flex: 1;\r\n}\r\n\r\n.option-title {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: 600;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.option-desc {\r\n  display: block;\r\n  font-size: 22rpx;\r\n  color: #999;\r\n}\r\n\r\n.option-radio {\r\n  width: 28rpx;\r\n  height: 28rpx;\r\n  border: 3rpx solid #d0d0d0;\r\n  border-radius: 50%;\r\n  margin-left: 20rpx;\r\n  flex-shrink: 0;\r\n  background: #fff;\r\n  position: relative;\r\n}\r\n\r\n.option-radio.active {\r\n  border-color: #2bad81;\r\n  background: #2bad81;\r\n}\r\n\r\n.option-radio.active::after {\r\n  content: '';\r\n  position: absolute;\r\n  width: 14rpx;\r\n  height: 24rpx;\r\n  border: solid #fff;\r\n  border-width: 0 3rpx 3rpx 0;\r\n  transform: rotate(45deg);\r\n  top: 50%;\r\n  left: 50%;\r\n  margin-top: -14rpx;\r\n  margin-left: -10rpx;\r\n}\r\n\r\n/* ÊòµÁß∞ËÆæÁΩÆ */\r\n.nickname-section {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.checkbox-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 20rpx;\r\n  background: #f8f8f8;\r\n  border-radius: 16rpx;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.checkbox {\r\n  width: 28rpx;\r\n  height: 28rpx;\r\n  border: 2rpx solid #d0d0d0;\r\n  border-radius: 6rpx;\r\n  margin-right: 12rpx;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.checkbox.checked {\r\n  background: #2bad81;\r\n  border-color: #2bad81;\r\n}\r\n\r\n.checkbox.checked::after {\r\n  content: '';\r\n  position: absolute;\r\n  width: 12rpx;\r\n  height: 20rpx;\r\n  border: solid #fff;\r\n  border-width: 0 2rpx 2rpx 0;\r\n  transform: rotate(45deg);\r\n  top: 50%;\r\n  left: 50%;\r\n  margin-top: -10rpx;\r\n  margin-left: -8rpx;\r\n}\r\n\r\n.checkbox-text {\r\n  flex: 1;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.nickname-display {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.custom-nickname-box {\r\n  background: #f8f8f8;\r\n  border-radius: 16rpx;\r\n  padding: 20rpx;\r\n  margin-top: 16rpx;\r\n}\r\n\r\n.input-label {\r\n  display: block;\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.nickname-input {\r\n  width: 100%;\r\n  padding: 16rpx;\r\n  border: 1rpx solid #e5e5e5;\r\n  border-radius: 12rpx;\r\n  font-size: 26rpx;\r\n  background: #fff;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.char-count {\r\n  display: block;\r\n  font-size: 20rpx;\r\n  color: #999;\r\n  text-align: right;\r\n}\r\n\r\n/* Êìç‰ΩúÊåâÈíÆ */\r\n.modal-actions {\r\n  display: flex;\r\n  gap: 16rpx;\r\n  margin-top: 40rpx;\r\n}\r\n\r\n.btn-cancel {\r\n  flex: 1;\r\n  padding: 16rpx;\r\n  background: #f0f0f0;\r\n  border-radius: 24rpx;\r\n  border: none;\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-cancel:active {\r\n  background: #e0e0e0;\r\n}\r\n\r\n.btn-confirm {\r\n  flex: 1;\r\n  padding: 16rpx;\r\n  background: #2bad81;\r\n  border-radius: 24rpx;\r\n  border: none;\r\n  font-size: 28rpx;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  box-shadow: 0 4rpx 12rpx rgba(43, 173, 129, 0.3);\r\n}\r\n\r\n.btn-confirm:active {\r\n  opacity: 0.9;\r\n}\r\n\r\n/* Â∫ïÈÉ® */\r\n.footer {\r\n  position: relative;\r\n  margin-top: 40rpx;\r\n  text-align: center;\r\n}\r\n\r\n.footer-text {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  text-shadow: 0 2rpx 4rpx rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n/* Â§¥ÂÉèÈÄâÊã©ÊåâÈíÆÊ†∑Âºè */\r\n.avatar-btn {\r\n  margin-top: 20rpx;\r\n  width: 80%;\r\n  height: 88rpx;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border-radius: 44rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  border: 2rpx solid #e5e5e5;\r\n  \r\n  &::after {\r\n    border: none;\r\n  }\r\n  \r\n  &:active {\r\n    background: rgba(255, 255, 255, 0.7);\r\n  }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/Administrator/Desktop/love_time/pages/login/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","config","wxLogin"],"mappings":"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"}