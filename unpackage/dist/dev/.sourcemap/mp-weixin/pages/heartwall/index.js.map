{"version":3,"file":"index.js","sources":["pages/heartwall/index.vue","D:/softcaree/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaGVhcnR3YWxsL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"heartwall-page\">\r\n    <!-- 项目列表 -->\r\n    <view v-if=\"projects.length > 0\" class=\"projects-list\">\r\n      <view v-for=\"(project, index) in projects\" :key=\"index\" class=\"card\" @click=\"editProject(index)\">\r\n        <view class=\"cover\" :class=\"{ 'no-image': !project.cover }\">\r\n          <image v-if=\"project.cover\" class=\"cover-img\" :src=\"project.cover\" mode=\"aspectFill\" />\r\n          <text v-else class=\"cover-placeholder\">♥</text>\r\n        </view>\r\n        <view class=\"meta\">\r\n          <view class=\"row\"><text class=\"label\">创建人：</text><text class=\"value\">{{ project.creator || '未设置' }}</text></view>\r\n          <view class=\"row\"><text class=\"label\">进度：</text><text class=\"value bold\">{{ project.progress }}/{{ project.total }}</text></view>\r\n          <view class=\"row\"><text class=\"label\">创建时间：</text><text class=\"value\">{{ project.createdAt || '-' }}</text></view>\r\n        </view>\r\n        <view class=\"actions-cell\">\r\n          <text class=\"delete-btn\" @click.stop=\"deleteProject(index)\">删除</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"content-tip\" v-else>\r\n      🎨 暂无项目，点击下方按钮创建新项目\r\n    </view>\r\n\r\n    <view class=\"bottom\">\r\n      <button class=\"start-btn\" @click=\"startCreate\">+ 创建新项目</button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      projects: []\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loadProjects();\r\n  },\r\n  onShow() {\r\n    // 每次页面显示时重新加载项目数据\r\n    this.loadProjects();\r\n  },\r\n  methods: {\r\n    loadProjects() {\r\n      try {\r\n        const data = uni.getStorageSync('heartwall_projects');\r\n        this.projects = Array.isArray(data) ? data : [];\r\n      } catch (e) {\r\n        this.projects = [];\r\n      }\r\n    },\r\n    saveProjects() {\r\n      try { \r\n        uni.setStorageSync('heartwall_projects', this.projects); \r\n      } catch (e) {}\r\n    },\r\n    startCreate() {\r\n      // 清除当前编辑索引，表示创建新项目\r\n      uni.removeStorageSync('heartwall_editing_index');\r\n      uni.removeStorageSync('heartwall_grid_images');\r\n      uni.navigateTo({ url: '/pages/heartwall/create' });\r\n    },\r\n    editProject(index) {\r\n      // 保存正在编辑的项目索引\r\n      uni.setStorageSync('heartwall_editing_index', index);\r\n      uni.setStorageSync('heartwall_grid_images', this.projects[index].images || []);\r\n      uni.navigateTo({ url: '/pages/heartwall/create' });\r\n    },\r\n    deleteProject(index) {\r\n      uni.showModal({\r\n        title: '确认删除',\r\n        content: '确定要删除这个项目吗？删除后无法恢复。',\r\n        success: (res) => {\r\n          if (res.confirm) {\r\n            this.projects.splice(index, 1);\r\n            this.saveProjects();\r\n            uni.showToast({ title: '已删除', icon: 'success' });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.heartwall-page { min-height: 100vh; background: #f0f0f0; padding-bottom: 120rpx; }\r\n.projects-list { padding: 24rpx 24rpx 0 24rpx; }\r\n.card { margin-bottom: 24rpx; padding: 20rpx; background: #f7f7f7; border-radius: 24rpx; box-shadow: 0 6rpx 16rpx rgba(0,0,0,0.06); border: 1rpx solid #e5e5e5; display: flex; gap: 20rpx; position: relative; }\r\n.card:active { opacity: 0.8; }\r\n.cover { width: 160rpx; height: 160rpx; border-radius: 24rpx; background: #ffe4eb; display: flex; align-items: center; justify-content: center; overflow: hidden; flex-shrink: 0; }\r\n.cover-img { width: 100%; height: 100%; }\r\n.no-image { background: linear-gradient(135deg, #ffe4eb 0%, #ffc1d1 100%); }\r\n.cover-placeholder { font-size: 60rpx; color: #ff8fb3; }\r\n.meta { flex: 1; display: flex; flex-direction: column; gap: 12rpx; justify-content: center; }\r\n.row { display: flex; align-items: baseline; gap: 8rpx; }\r\n.label { color: #4e3c3c; font-size: 26rpx; }\r\n.value { color: #333; font-size: 26rpx; }\r\n.bold { font-weight: 700; }\r\n.actions-cell { position: absolute; top: 20rpx; right: 20rpx; }\r\n.delete-btn { font-size: 24rpx; color: #ff4d4f; background: rgba(255,77,79,0.1); padding: 8rpx 16rpx; border-radius: 20rpx; }\r\n.content-tip { margin: 32rpx 24rpx; color: #7a7a7a; font-size: 26rpx; text-align: center; }\r\n.bottom { position: fixed; left: 0; right: 0; bottom: 24rpx; display: flex; justify-content: center; }\r\n.start-btn { width: 80%; border-radius: 999rpx; padding: 18rpx 0; background: #ff8fb3; color: #ffffff; font-size: 28rpx; box-shadow: 0 6rpx 16rpx rgba(0,0,0,0.12); }\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/Administrator/Desktop/项目/love_time_fu/pages/heartwall/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA+BA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,UAAU,CAAC;AAAA;EAEd;AAAA,EACD,UAAU;AACR,SAAK,aAAY;AAAA,EAClB;AAAA,EACD,SAAS;AAEP,SAAK,aAAY;AAAA,EAClB;AAAA,EACD,SAAS;AAAA,IACP,eAAe;AACb,UAAI;AACF,cAAM,OAAOA,cAAAA,MAAI,eAAe,oBAAoB;AACpD,aAAK,WAAW,MAAM,QAAQ,IAAI,IAAI,OAAO;MAC/C,SAAS,GAAG;AACV,aAAK,WAAW;MAClB;AAAA,IACD;AAAA,IACD,eAAe;AACb,UAAI;AACFA,sBAAAA,MAAI,eAAe,sBAAsB,KAAK,QAAQ;AAAA,eAC/C,GAAG;AAAA,MAAC;AAAA,IACd;AAAA,IACD,cAAc;AAEZA,0BAAI,kBAAkB,yBAAyB;AAC/CA,0BAAI,kBAAkB,uBAAuB;AAC7CA,oBAAAA,MAAI,WAAW,EAAE,KAAK,0BAA2B,CAAA;AAAA,IAClD;AAAA,IACD,YAAY,OAAO;AAEjBA,oBAAAA,MAAI,eAAe,2BAA2B,KAAK;AACnDA,0BAAI,eAAe,yBAAyB,KAAK,SAAS,KAAK,EAAE,UAAU,CAAA,CAAE;AAC7EA,oBAAAA,MAAI,WAAW,EAAE,KAAK,0BAA2B,CAAA;AAAA,IAClD;AAAA,IACD,cAAc,OAAO;AACnBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACf,iBAAK,SAAS,OAAO,OAAO,CAAC;AAC7B,iBAAK,aAAY;AACjBA,0BAAG,MAAC,UAAU,EAAE,OAAO,OAAO,MAAM,UAAQ,CAAG;AAAA,UACjD;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;ACnFA,GAAG,WAAW,eAAe;"}