{"version":3,"file":"index.js","sources":["pages/heartwall/index.vue","D:/softcaree/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaGVhcnR3YWxsL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"heartwall-page\" :style=\"{ paddingTop: containerPaddingTop }\">\n    <!-- Ëá™ÂÆö‰πâÂØºËà™Ê†è -->\n    <view class=\"custom-navbar\">\n      <!-- Ê∏êÂèòËÉåÊôØ -->\n      <view class=\"navbar-gradient-bg\"></view>\n      <!-- Áä∂ÊÄÅÊ†èÂç†‰Ωç -->\n      <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\n      <!-- ÂØºËà™Ê†èÂÜÖÂÆπ -->\n      <view class=\"navbar-content\" :style=\"{ height: navBarHeight + 'px' }\">\n        <view class=\"navbar-left\" @click=\"goBack\">\n          <text class=\"back-icon\">‚Üê</text>\n        </view>\n        <view class=\"navbar-title\">\n          <text class=\"title-text\">Áà±ÂøÉÁÖßÁâáÂ¢ô</text>\n        </view>\n        <view class=\"navbar-right\"></view>\n      </view>\n    </view>\n\n    <!-- È°πÁõÆÂàóË°® -->\n    <view v-if=\"projects.length > 0\" class=\"projects-list\">\n      <view v-for=\"(project, index) in projects\" :key=\"index\" class=\"card\" @click=\"editProject(index)\">\n        <view class=\"cover\" :class=\"{ 'no-image': !project.cover }\">\n          <image v-if=\"project.cover\" class=\"cover-img\" :src=\"project.cover\" mode=\"aspectFill\" />\n          <text v-else class=\"cover-placeholder\">‚ô•</text>\n        </view>\n        <view class=\"meta\">\n          <view class=\"row\"><text class=\"label\">È°πÁõÆÂêçÁß∞Ôºö</text><text class=\"value\">{{ project.projectName || 'Êú™ËÆæÁΩÆ' }}</text></view>\n          <view class=\"row\"><text class=\"label\">ËøõÂ∫¶Ôºö</text><text class=\"value bold\">{{ project.progress }}/{{ project.total }}</text></view>\n          <view class=\"row\"><text class=\"label\">ÂàõÂª∫Êó∂Èó¥Ôºö</text><text class=\"value\">{{ project.createdAt || '-' }}</text></view>\n        </view>\n        <view class=\"actions-cell\">\n          <text class=\"delete-btn\" @click.stop=\"deleteProject(index)\">Âà†Èô§</text>\n        </view>\n      </view>\n    </view>\n\n    <view class=\"content-tip\" v-else>\n      üé® ÊöÇÊó†È°πÁõÆÔºåÁÇπÂáª‰∏ãÊñπÊåâÈíÆÂàõÂª∫Êñ∞È°πÁõÆ\n    </view>\n\n    <view class=\"bottom\">\n      <button class=\"start-btn\" @click=\"startCreate\">+ ÂàõÂª∫Êñ∞È°πÁõÆ</button>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { getProjects, deleteProject, getProjectPhotos } from '@/api/heartwall.js';\nimport config from '@/utils/config.js';\n\n// Â§ÑÁêÜÂõæÁâáURLÔºöÂ¶ÇÊûúÊòØÁõ∏ÂØπË∑ØÂæÑÔºåÊãºÊé•baseURL\nfunction processImageUrl(url) {\n  if (!url || url === '') {\n    return '';\n  }\n  \n  // Â¶ÇÊûúÂ∑≤ÁªèÊòØÂÆåÊï¥ÁöÑURLÔºàhttp:// Êàñ https://ÔºâÔºåÁõ¥Êé•ËøîÂõû\n  if (url.startsWith('http://') || url.startsWith('https://')) {\n    return url;\n  }\n  \n  // Â¶ÇÊûúÊòØÁõ∏ÂØπË∑ØÂæÑÔºà‰ª• / ÂºÄÂ§¥ÔºâÔºåÊãºÊé•baseURL\n  if (url.startsWith('/')) {\n    // ÁßªÈô§baseURLÊú´Â∞æÂèØËÉΩÂ≠òÂú®ÁöÑÊñúÊù†ÔºåÈÅøÂÖçÂèåÊñúÊù†\n    const baseUrl = config.baseURL.endsWith('/') ? config.baseURL.slice(0, -1) : config.baseURL;\n    return baseUrl + url;\n  }\n  \n  // ÂÖ∂‰ªñÊÉÖÂÜµÔºàÂèØËÉΩÊòØÁõ∏ÂØπË∑ØÂæÑ‰ΩÜ‰∏ç‰ª•/ÂºÄÂ§¥ÔºâÔºå‰πüÂ∞ùËØïÊãºÊé•\n  const baseUrl = config.baseURL.endsWith('/') ? config.baseURL.slice(0, -1) : config.baseURL;\n  return baseUrl + '/' + url;\n}\n\nexport default {\n  data() {\n    return {\n      statusBarHeight: 0,\n      navBarHeight: 44,\n      screenWidth: 375,\n      projects: [],\n      loading: false\n    };\n  },\n  computed: {\n    containerPaddingTop() {\n      const totalHeightPx = this.statusBarHeight + this.navBarHeight;\n      const pxToRpx = 750 / this.screenWidth;\n      const totalHeightRpx = totalHeightPx * pxToRpx;\n      return totalHeightRpx + 20 + 'rpx';\n    }\n  },\n  onLoad() {\n    this.getSystemInfo();\n  },\n  mounted() {\n    this.loadProjects();\n  },\n  onShow() {\n    // ÊØèÊ¨°È°µÈù¢ÊòæÁ§∫Êó∂ÈáçÊñ∞Âä†ËΩΩÈ°πÁõÆÊï∞ÊçÆÔºà‰ªéÂêéÁ´ØËé∑ÂèñÔºâ\n    // Ê∏ÖÈô§ÂèØËÉΩÁöÑÊóßÁºìÂ≠òÔºåÁ°Æ‰øù‰ΩøÁî®ÊúÄÊñ∞Êï∞ÊçÆ\n    try {\n      uni.removeStorageSync('heartwall_projects');\n    } catch (e) {\n      console.warn('‚ö†Ô∏è [Áà±ÂøÉÂ¢ôÈ°µÈù¢] Ê∏ÖÈô§ÁºìÂ≠òÂ§±Ë¥•:', e);\n    }\n    this.loadProjects();\n  },\n  methods: {\n    goBack() {\n      uni.navigateBack();\n    },\n    getSystemInfo() {\n      const systemInfo = uni.getSystemInfoSync();\n      this.statusBarHeight = systemInfo.statusBarHeight || 0;\n      this.screenWidth = systemInfo.windowWidth || 375;\n      // #ifdef MP-WEIXIN\n      this.navBarHeight = 44;\n      // #endif\n      // #ifdef H5\n      this.navBarHeight = 44;\n      // #endif\n    },\n    async loadProjects() {\n      if (this.loading) return;\n      this.loading = true;\n      \n      try {\n        console.log('üì° [Áà±ÂøÉÂ¢ôÈ°µÈù¢] ÂºÄÂßã‰ªéÂêéÁ´ØÂä†ËΩΩÈ°πÁõÆÂàóË°®');\n        \n        // Ë∞ÉÁî®ÂêéÁ´ØAPIËé∑ÂèñÈ°πÁõÆÂàóË°®\n        const response = await getProjects();\n        \n        console.log('üì° [Áà±ÂøÉÂ¢ôÈ°µÈù¢] ÂêéÁ´ØËøîÂõûÊï∞ÊçÆ:', response);\n        console.log('üì° [Áà±ÂøÉÂ¢ôÈ°µÈù¢] response.data:', response.data);\n        console.log('üì° [Áà±ÂøÉÂ¢ôÈ°µÈù¢] response.projects:', response.projects);\n        console.log('üì° [Áà±ÂøÉÂ¢ôÈ°µÈù¢] response.data[0]:', response.data && response.data[0]);\n        \n        // Â§ÑÁêÜÂìçÂ∫îÊï∞ÊçÆ\n        let projectsData = [];\n        if (response && response.data) {\n          // Â¶ÇÊûúÂìçÂ∫îÊòØ { data: [...] }\n          projectsData = Array.isArray(response.data) ? response.data : (response.data.projects || []);\n        } else if (Array.isArray(response)) {\n          // Â¶ÇÊûúÂìçÂ∫îÁõ¥Êé•ÊòØÊï∞ÁªÑ\n          projectsData = response;\n        } else if (response && response.projects) {\n          // Â¶ÇÊûúÂìçÂ∫îÊòØ { projects: [...] }\n          projectsData = response.projects;\n        }\n        \n        // ËΩ¨Êç¢ÂêéÁ´ØÊï∞ÊçÆÊ†ºÂºè‰∏∫ÂâçÁ´ØÊòæÁ§∫Ê†ºÂºè\n        console.log('üîç [Áà±ÂøÉÂ¢ôÈ°µÈù¢] ÂéüÂßãÈ°πÁõÆÊï∞ÊçÆ:', projectsData);\n        console.log('üîç [Áà±ÂøÉÂ¢ôÈ°µÈù¢] ÂéüÂßãÈ°πÁõÆÊï∞ÊçÆÈïøÂ∫¶:', projectsData.length);\n        if (projectsData.length > 0) {\n          console.log('üîç [Áà±ÂøÉÂ¢ôÈ°µÈù¢] Á¨¨‰∏Ä‰∏™È°πÁõÆÁöÑÊâÄÊúâÂ≠óÊÆµ:', Object.keys(projectsData[0]));\n          console.log('üîç [Áà±ÂøÉÂ¢ôÈ°µÈù¢] Á¨¨‰∏Ä‰∏™È°πÁõÆÁöÑÂÆåÊï¥Êï∞ÊçÆ:', JSON.stringify(projectsData[0], null, 2));\n        }\n        \n        this.projects = projectsData.map((project, index) => {\n          // Á°Æ‰øùÊ≠£Á°ÆÊèêÂèñ projectName\n          const projectName = project.projectName !== undefined && project.projectName !== null \n            ? String(project.projectName).trim() \n            : (project.name || 'Êú™ËÆæÁΩÆ');\n          \n          console.log(`üîç [Áà±ÂøÉÂ¢ôÈ°µÈù¢] È°πÁõÆ ${index} ÂéüÂßãÊï∞ÊçÆ:`, project);\n          console.log(`üîç [Áà±ÂøÉÂ¢ôÈ°µÈù¢] È°πÁõÆ ${index} projectName ÂéüÂßãÂÄº:`, project.projectName);\n          console.log(`üîç [Áà±ÂøÉÂ¢ôÈ°µÈù¢] È°πÁõÆ ${index} ÊèêÂèñÁöÑ projectName:`, projectName);\n          \n          const mappedProject = {\n            projectId: project.projectId || project.id,\n            cover: project.cover || project.coverImage || project.coverPhotoUrl || '',\n            projectName: projectName || 'Êú™ËÆæÁΩÆ',\n            progress: project.progress || project.photoCount || 0,\n            total: project.total || project.maxPhotos || 40,\n            createdAt: project.createdAt || project.createTime || project.created_time || '-',\n            // ‰øùÁïôÂêéÁ´ØÂéüÂßãÊï∞ÊçÆÁî®‰∫éÁºñËæëÊó∂‰ΩøÁî®\n            _original: project\n          };\n          console.log(`üîç [Áà±ÂøÉÂ¢ôÈ°µÈù¢] È°πÁõÆ ${index} Êò†Â∞ÑÂêéÁöÑÊï∞ÊçÆ:`, mappedProject);\n          return mappedProject;\n        });\n        \n        console.log(`‚úÖ [Áà±ÂøÉÂ¢ôÈ°µÈù¢] ÊàêÂäüÂä†ËΩΩ ${this.projects.length} ‰∏™È°πÁõÆ`);\n        console.log('üîç [Áà±ÂøÉÂ¢ôÈ°µÈù¢] ÊúÄÁªàÈ°πÁõÆÂàóË°®:', this.projects);\n        \n        // ‰∏∫Ê≤°ÊúâÂ∞ÅÈù¢ÂõæÁöÑÈ°πÁõÆËé∑ÂèñÁ¨¨‰∏ÄÂº†ÁÖßÁâá‰Ωú‰∏∫Â∞ÅÈù¢Âõæ\n        await this.loadProjectCovers();\n        \n        // ÂêåÊó∂Êõ¥Êñ∞Êú¨Âú∞ÁºìÂ≠òÔºà‰Ωú‰∏∫Â§á‰ªΩÔºâ\n        try {\n          uni.setStorageSync('heartwall_projects', this.projects);\n        } catch (e) {\n          console.warn('‚ö†Ô∏è [Áà±ÂøÉÂ¢ôÈ°µÈù¢] Êõ¥Êñ∞Êú¨Âú∞ÁºìÂ≠òÂ§±Ë¥•:', e);\n        }\n      } catch (error) {\n        console.error('‚ùå [Áà±ÂøÉÂ¢ôÈ°µÈù¢] Âä†ËΩΩÈ°πÁõÆÂàóË°®Â§±Ë¥•:', error);\n        \n        // Â¶ÇÊûúAPIË∞ÉÁî®Â§±Ë¥•ÔºåÂ∞ùËØï‰ªéÊú¨Âú∞ÁºìÂ≠òËØªÂèñÔºàÈôçÁ∫ßÂ§ÑÁêÜÔºâ\n        try {\n          const cached = uni.getStorageSync('heartwall_projects');\n          if (Array.isArray(cached) && cached.length > 0) {\n            console.warn('‚ö†Ô∏è [Áà±ÂøÉÂ¢ôÈ°µÈù¢] ‰ΩøÁî®Êú¨Âú∞ÁºìÂ≠òÊï∞ÊçÆ‰Ωú‰∏∫ÈôçÁ∫ßÊñπÊ°à');\n            this.projects = cached;\n            uni.showToast({ \n              title: 'ÁΩëÁªúÂºÇÂ∏∏ÔºåÂ∑≤Âä†ËΩΩÊú¨Âú∞Êï∞ÊçÆ', \n              icon: 'none',\n              duration: 2000\n            });\n          } else {\n            this.projects = [];\n          }\n        } catch (e) {\n          this.projects = [];\n        }\n        \n        // ÊòæÁ§∫ÈîôËØØÊèêÁ§∫\n        uni.showToast({ \n          title: 'Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªú', \n          icon: 'none',\n          duration: 2000\n        });\n      } finally {\n        this.loading = false;\n      }\n    },\n    // ‰∏∫Ê≤°ÊúâÂ∞ÅÈù¢ÂõæÁöÑÈ°πÁõÆËé∑ÂèñÁ¨¨‰∏ÄÂº†ÁÖßÁâá‰Ωú‰∏∫Â∞ÅÈù¢Âõæ\n    async loadProjectCovers() {\n      try {\n        console.log('üñºÔ∏è [Áà±ÂøÉÂ¢ôÈ°µÈù¢] ÂºÄÂßãÂä†ËΩΩÈ°πÁõÆÂ∞ÅÈù¢Âõæ');\n        \n        // ÊâæÂá∫ÊâÄÊúâÊ≤°ÊúâÂ∞ÅÈù¢ÂõæÁöÑÈ°πÁõÆ\n        const projectsWithoutCover = this.projects\n          .map((project, index) => ({ project, index }))\n          .filter(({ project }) => !project.cover || project.cover === '');\n        \n        console.log(`üñºÔ∏è [Áà±ÂøÉÂ¢ôÈ°µÈù¢] ÈúÄË¶ÅÂä†ËΩΩÂ∞ÅÈù¢ÂõæÁöÑÈ°πÁõÆÊï∞Èáè: ${projectsWithoutCover.length}`);\n        \n        if (projectsWithoutCover.length === 0) {\n          console.log('‚úÖ [Áà±ÂøÉÂ¢ôÈ°µÈù¢] ÊâÄÊúâÈ°πÁõÆÈÉΩÊúâÂ∞ÅÈù¢ÂõæÔºåÊó†ÈúÄÂä†ËΩΩ');\n          return;\n        }\n        \n        // Âπ∂Ë°åËé∑ÂèñÊâÄÊúâÈ°πÁõÆÁöÑÁ¨¨‰∏ÄÂº†ÁÖßÁâá\n        const coverPromises = projectsWithoutCover.map(async ({ project, index }) => {\n          try {\n            const projectId = project.projectId || project.id;\n            if (!projectId) {\n              console.warn(`‚ö†Ô∏è [Áà±ÂøÉÂ¢ôÈ°µÈù¢] È°πÁõÆ ${index} Ê≤°Êúâ projectIdÔºåË∑≥ËøáÂä†ËΩΩÂ∞ÅÈù¢Âõæ`);\n              return { index, cover: null };\n            }\n            \n            console.log(`üì∑ [Áà±ÂøÉÂ¢ôÈ°µÈù¢] Ëé∑ÂèñÈ°πÁõÆ ${index} (ID: ${projectId}) ÁöÑÁ¨¨‰∏ÄÂº†ÁÖßÁâá`);\n            \n            // Âè™Ëé∑ÂèñÁ¨¨‰∏ÄÂº†ÁÖßÁâáÔºàpageSize=1Ôºâ\n            const photosResponse = await getProjectPhotos(projectId, { page: 1, pageSize: 1 });\n            \n            // Â§ÑÁêÜÁÖßÁâáÊï∞ÊçÆ\n            let photosData = [];\n            if (photosResponse && photosResponse.data) {\n              photosData = Array.isArray(photosResponse.data) ? photosResponse.data : (photosResponse.data.photos || []);\n            } else if (Array.isArray(photosResponse)) {\n              photosData = photosResponse;\n            } else if (photosResponse && photosResponse.photos) {\n              photosData = photosResponse.photos;\n            }\n            \n            // Ëé∑ÂèñÁ¨¨‰∏ÄÂº†ÁÖßÁâáÁöÑURL\n            let coverUrl = '';\n            if (photosData.length > 0) {\n              const firstPhoto = photosData[0];\n              const rawUrl = firstPhoto.photoUrl || firstPhoto.photo_url || firstPhoto.thumbnailUrl || firstPhoto.thumbnail_url || '';\n              // Â§ÑÁêÜURLÔºöÂ¶ÇÊûúÊòØÁõ∏ÂØπË∑ØÂæÑÔºåÊãºÊé•baseURL\n              coverUrl = processImageUrl(rawUrl);\n              console.log(`‚úÖ [Áà±ÂøÉÂ¢ôÈ°µÈù¢] È°πÁõÆ ${index} ÊâæÂà∞Â∞ÅÈù¢Âõæ - ÂéüÂßãURL: ${rawUrl}, Â§ÑÁêÜÂêéURL: ${coverUrl}`);\n            } else {\n              console.log(`‚ö†Ô∏è [Áà±ÂøÉÂ¢ôÈ°µÈù¢] È°πÁõÆ ${index} Ê≤°ÊúâÁÖßÁâáÔºåÊó†Ê≥ïËÆæÁΩÆÂ∞ÅÈù¢Âõæ`);\n            }\n            \n            return { index, cover: coverUrl };\n          } catch (error) {\n            console.error(`‚ùå [Áà±ÂøÉÂ¢ôÈ°µÈù¢] Ëé∑ÂèñÈ°πÁõÆ ${index} Â∞ÅÈù¢ÂõæÂ§±Ë¥•:`, error);\n            return { index, cover: null };\n          }\n        });\n        \n        // Á≠âÂæÖÊâÄÊúâÂ∞ÅÈù¢ÂõæÂä†ËΩΩÂÆåÊàê\n        const coverResults = await Promise.all(coverPromises);\n        \n        // Êõ¥Êñ∞È°πÁõÆÁöÑÂ∞ÅÈù¢Âõæ\n        coverResults.forEach(({ index, cover }) => {\n          if (cover) {\n            // ‰ΩøÁî® Vue.set Á°Æ‰øùÂìçÂ∫îÂºèÊõ¥Êñ∞\n            this.$set(this.projects[index], 'cover', cover);\n            console.log(`‚úÖ [Áà±ÂøÉÂ¢ôÈ°µÈù¢] È°πÁõÆ ${index} Â∞ÅÈù¢ÂõæÂ∑≤Êõ¥Êñ∞:`, cover);\n          }\n        });\n        \n        // Êõ¥Êñ∞Êú¨Âú∞ÁºìÂ≠ò\n        try {\n          uni.setStorageSync('heartwall_projects', this.projects);\n        } catch (e) {\n          console.warn('‚ö†Ô∏è [Áà±ÂøÉÂ¢ôÈ°µÈù¢] Êõ¥Êñ∞Êú¨Âú∞ÁºìÂ≠òÂ§±Ë¥•:', e);\n        }\n        \n        console.log('‚úÖ [Áà±ÂøÉÂ¢ôÈ°µÈù¢] Â∞ÅÈù¢ÂõæÂä†ËΩΩÂÆåÊàê');\n      } catch (error) {\n        console.error('‚ùå [Áà±ÂøÉÂ¢ôÈ°µÈù¢] Âä†ËΩΩÂ∞ÅÈù¢ÂõæÂ§±Ë¥•:', error);\n        // ‰∏çÂΩ±Âìç‰∏ªÊµÅÁ®ãÔºåÂè™ËÆ∞ÂΩïÈîôËØØ\n      }\n    },\n    startCreate() {\n      // Ê∏ÖÈô§ÂΩìÂâçÁºñËæëÁ¥¢ÂºïÔºåË°®Á§∫ÂàõÂª∫Êñ∞È°πÁõÆ\n      uni.removeStorageSync('heartwall_editing_projectId');\n      uni.removeStorageSync('heartwall_grid_images');\n      uni.navigateTo({ url: '/pages/heartwall/create' });\n    },\n    editProject(index) {\n      // ‰øùÂ≠òÊ≠£Âú®ÁºñËæëÁöÑÈ°πÁõÆID\n      const project = this.projects[index];\n      if (project && project.projectId) {\n        uni.setStorageSync('heartwall_editing_projectId', project.projectId);\n        // Â¶ÇÊûúÊúâÂéüÂßãÊï∞ÊçÆÔºå‰πü‰øùÂ≠ò‰∏Ä‰ªΩ\n        if (project._original) {\n          uni.setStorageSync('heartwall_editing_project', JSON.stringify(project._original));\n        }\n      }\n      uni.navigateTo({ url: '/pages/heartwall/create' });\n    },\n    async deleteProject(index) {\n      const project = this.projects[index];\n      const projectId = project?.projectId || project?.id;\n      \n      uni.showModal({\n        title: 'Á°ÆËÆ§Âà†Èô§',\n        content: 'Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™È°πÁõÆÂêóÔºüÂà†Èô§ÂêéÊó†Ê≥ïÊÅ¢Â§ç„ÄÇ',\n        success: async (res) => {\n          if (res.confirm) {\n            try {\n              // Â¶ÇÊûúÊúâprojectIdÔºåË∞ÉÁî®ÂêéÁ´ØAPIÂà†Èô§\n              if (projectId) {\n                console.log(`üóëÔ∏è [Áà±ÂøÉÂ¢ôÈ°µÈù¢] ÂºÄÂßãÂà†Èô§È°πÁõÆ ID: ${projectId}`);\n                await deleteProject(projectId);\n                console.log(`‚úÖ [Áà±ÂøÉÂ¢ôÈ°µÈù¢] È°πÁõÆÂà†Èô§ÊàêÂäü ID: ${projectId}`);\n              }\n              \n              // ‰ªéÂàóË°®‰∏≠ÁßªÈô§\n              this.projects.splice(index, 1);\n              \n              // Êõ¥Êñ∞Êú¨Âú∞ÁºìÂ≠ò\n              try {\n                uni.setStorageSync('heartwall_projects', this.projects);\n              } catch (e) {}\n              \n              uni.showToast({ title: 'Â∑≤Âà†Èô§', icon: 'success' });\n            } catch (error) {\n              console.error('‚ùå [Áà±ÂøÉÂ¢ôÈ°µÈù¢] Âà†Èô§È°πÁõÆÂ§±Ë¥•:', error);\n              uni.showToast({ \n                title: error.message || 'Âà†Èô§Â§±Ë¥•ÔºåËØ∑ÈáçËØï', \n                icon: 'none' \n              });\n            }\n          }\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style>\n/* Ëá™ÂÆö‰πâÂØºËà™Ê†èÊ†∑Âºè */\n.custom-navbar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 9999;\n  background-color: #F8F0FC;\n  overflow: hidden;\n}\n\n.navbar-gradient-bg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 200%;\n  background: linear-gradient(180deg, #F8F0FC 0%, #F3E8FF 30%, #F0E0FF 60%, #F8F0FC 100%);\n  background: -webkit-linear-gradient(top, #F8F0FC 0%, #F3E8FF 30%, #F0E0FF 60%, #F8F0FC 100%);\n}\n\n.status-bar {\n  width: 100%;\n  background: transparent;\n  position: relative;\n  z-index: 1;\n}\n\n.navbar-content {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 30rpx;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1;\n}\n\n.navbar-title {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n}\n\n.title-text {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #6B5B95;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n.navbar-left {\n  width: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.back-icon {\n  font-size: 50rpx;\n  font-weight: 600;\n  color: #6B5B95;\n  line-height: 1;\n  cursor: pointer;\n  transition: opacity 0.3s;\n}\n\n.back-icon:active {\n  opacity: 0.6;\n}\n\n.navbar-right {\n  width: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.heartwall-page { \n  min-height: 100vh; \n  background: #F8F0FC; \n  padding-bottom: 120rpx; \n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n.projects-list { padding: 24rpx 24rpx 0 24rpx; }\n.card { \n  margin-bottom: 24rpx; \n  padding: 20rpx; \n  background: #ffffff; \n  border-radius: 24rpx; \n  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.06); \n  border: 1rpx solid #F3E8FF; \n  display: flex; \n  gap: 20rpx; \n  position: relative; \n}\n.card:active { opacity: 0.8; }\n.cover { \n  width: 160rpx; \n  height: 160rpx; \n  border-radius: 24rpx; \n  background: #F3E8FF; \n  display: flex; \n  align-items: center; \n  justify-content: center; \n  overflow: hidden; \n  flex-shrink: 0; \n}\n.cover-img { width: 100%; height: 100%; }\n.no-image { \n  background: linear-gradient(135deg, #F3E8FF 0%, #E9D5FF 100%); \n}\n.cover-placeholder { \n  font-size: 60rpx; \n  color: #DCC7E1; \n}\n.meta { \n  flex: 1; \n  display: flex; \n  flex-direction: column; \n  gap: 12rpx; \n  justify-content: center; \n}\n.row { \n  display: flex; \n  align-items: baseline; \n  gap: 8rpx; \n}\n.label { \n  color: #6B5B95; \n  font-size: 26rpx; \n  font-weight: 600;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n.value { \n  color: #9B8FB8; \n  font-size: 26rpx; \n  font-weight: 400;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n.bold { \n  font-weight: 600; \n  color: #6B5B95;\n}\n.actions-cell { \n  position: absolute; \n  top: 20rpx; \n  right: 20rpx; \n}\n.delete-btn { \n  font-size: 24rpx; \n  color: #ff6b6b; \n  background: rgba(255,107,107,0.1); \n  padding: 8rpx 16rpx; \n  border-radius: 20rpx; \n}\n.content-tip { \n  margin: 32rpx 24rpx; \n  color: #9B8FB8; \n  font-size: 26rpx; \n  text-align: center; \n  font-weight: 400;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n.bottom { \n  position: fixed; \n  left: 0; \n  right: 0; \n  bottom: 24rpx; \n  display: flex; \n  justify-content: center; \n}\n.start-btn { \n  width: 80%; \n  border-radius: 999rpx; \n  padding: 18rpx 0; \n  background: #DCC7E1; \n  color: #ffffff; \n  font-size: 28rpx; \n  box-shadow: 0 10rpx 24rpx rgba(220, 199, 225, 0.35); \n  font-weight: 600;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n</style>\n","import MiniProgramPage from 'C:/Users/Administrator/Desktop/È°πÁõÆ/love_time_fu/pages/heartwall/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["baseUrl","config","uni","getProjects","getProjectPhotos","deleteProject"],"mappings":"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"}