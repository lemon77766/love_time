{"version":3,"file":"index.js","sources":["pages/trajectory/index.vue","D:/softcaree/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdHJhamVjdG9yeS9pbmRleC52dWU"],"sourcesContent":["<template>\n  <view class=\"trajectory-page\">\n    <!-- 顶部标题 -->\n    <view class=\"header\">\n      <text class=\"title\">恋爱轨迹</text>\n      <text class=\"subtitle\">记录你们一起走过的点点滴滴</text>\n    </view>\n\n    <!-- 轨迹地图容器 -->\n    <view class=\"map-container\">\n      <image class=\"map-bg\" src=\"/static/trajectory/map-bg.jpg\" mode=\"aspectFill\" />\n      \n      <!-- 轨迹点 -->\n      <view \n        v-for=\"(point, index) in trajectoryPoints\" \n        :key=\"index\"\n        class=\"trajectory-point\"\n        :style=\"{ top: point.top + '%', left: point.left + '%' }\"\n        @click=\"showPointDetail(point)\"\n      >\n        <view class=\"point-marker\">\n          <text class=\"point-icon\">📍</text>\n        </view>\n        <view class=\"point-label\">{{ point.title }}</view>\n      </view>\n\n      <!-- 轨迹连线 -->\n      <view class=\"trajectory-line\" v-if=\"trajectoryPoints.length > 1\"></view>\n    </view>\n\n    <!-- 添加轨迹按钮 -->\n    <view class=\"add-button\" @click=\"showAddModal\">\n      <text class=\"add-icon\">+</text>\n      <text class=\"add-text\">添加轨迹点</text>\n    </view>\n\n    <!-- 轨迹点详情弹窗 -->\n    <view v-if=\"showDetail\" class=\"modal-mask\" @click=\"hidePointDetail\">\n      <view class=\"modal\" @click.stop>\n        <view class=\"modal-header\">\n          <text class=\"modal-title\">{{ currentPoint.title }}</text>\n          <text class=\"modal-date\">{{ currentPoint.date }}</text>\n        </view>\n        <view class=\"modal-content\">\n          <image v-if=\"currentPoint.image\" :src=\"currentPoint.image\" class=\"point-image\" mode=\"aspectFill\" />\n          <text class=\"point-description\">{{ currentPoint.description || '暂无描述' }}</text>\n        </view>\n        <view class=\"modal-actions\">\n          <button class=\"btn secondary\" @click=\"hidePointDetail\">关闭</button>\n        </view>\n      </view>\n    </view>\n\n    <!-- 添加轨迹点弹窗 -->\n    <view v-if=\"showAddModal\" class=\"modal-mask\" @click=\"hideAddModal\">\n      <view class=\"modal\" @click.stop>\n        <text class=\"modal-title\">添加轨迹点</text>\n        <view class=\"form\">\n          <view class=\"form-item\">\n            <text class=\"label\">地点名称</text>\n            <input class=\"input\" v-model=\"newPoint.title\" placeholder=\"如：第一次约会的地方\" />\n          </view>\n          <view class=\"form-item\">\n            <text class=\"label\">日期</text>\n            <input class=\"input\" v-model=\"newPoint.date\" placeholder=\"如：2023-05-20\" />\n          </view>\n          <view class=\"form-item\">\n            <text class=\"label\">描述</text>\n            <textarea class=\"textarea\" v-model=\"newPoint.description\" placeholder=\"记录这个地点的特别回忆...\"></textarea>\n          </view>\n          <view class=\"form-item\">\n            <text class=\"label\">在地图上选择位置</text>\n            <button class=\"btn primary\" @click=\"selectPosition\">选择位置</button>\n            <text v-if=\"newPoint.top !== null\" class=\"position-info\">已选择位置</text>\n          </view>\n        </view>\n        <view class=\"modal-actions\">\n          <button class=\"btn secondary\" @click=\"hideAddModal\">取消</button>\n          <button class=\"btn primary\" @click=\"addTrajectoryPoint\">保存</button>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      trajectoryPoints: [\n        {\n          title: \"初遇\",\n          date: \"2023-03-15\",\n          description: \"第一次见面的咖啡厅\",\n          top: 30,\n          left: 40,\n          image: \"/static/trajectory/meet.jpg\"\n        },\n        {\n          title: \"表白\",\n          date: \"2023-05-20\",\n          description: \"在公园的樱花树下表白\",\n          top: 50,\n          left: 60,\n          image: \"/static/trajectory/confess.jpg\"\n        },\n        {\n          title: \"旅行\",\n          date: \"2023-08-10\",\n          description: \"第一次一起旅行\",\n          top: 70,\n          left: 30,\n          image: \"/static/trajectory/travel.jpg\"\n        }\n      ],\n      showDetail: false,\n      currentPoint: {},\n      showAddModal: false,\n      newPoint: {\n        title: '',\n        date: '',\n        description: '',\n        top: null,\n        left: null,\n        image: ''\n      }\n    };\n  },\n  methods: {\n    showPointDetail(point) {\n      this.currentPoint = point;\n      this.showDetail = true;\n    },\n    hidePointDetail() {\n      this.showDetail = false;\n      this.currentPoint = {};\n    },\n    showAddModal() {\n      this.showAddModal = true;\n    },\n    hideAddModal() {\n      this.showAddModal = false;\n      this.newPoint = {\n        title: '',\n        date: '',\n        description: '',\n        top: null,\n        left: null,\n        image: ''\n      };\n    },\n    selectPosition() {\n      // 模拟位置选择\n      this.newPoint.top = Math.random() * 70 + 15;\n      this.newPoint.left = Math.random() * 70 + 15;\n      uni.showToast({ title: '位置已选择', icon: 'none' });\n    },\n    addTrajectoryPoint() {\n      if (!this.newPoint.title || !this.newPoint.date) {\n        uni.showToast({ title: '请填写地点名称和日期', icon: 'none' });\n        return;\n      }\n      \n      if (this.newPoint.top === null || this.newPoint.left === null) {\n        uni.showToast({ title: '请选择位置', icon: 'none' });\n        return;\n      }\n      \n      this.trajectoryPoints.push({\n        ...this.newPoint\n      });\n      \n      this.hideAddModal();\n      uni.showToast({ title: '轨迹点添加成功', icon: 'success' });\n    }\n  }\n};\n</script>\n\n<style>\n.trajectory-page {\n  min-height: 100vh;\n  background-color: #ffffff;\n  padding-bottom: 40rpx;\n}\n\n.header {\n  padding: 40rpx 30rpx 20rpx 30rpx;\n}\n.title {\n  font-size: 44rpx;\n  color: #2b2b2b;\n  font-weight: 700;\n  display: block;\n}\n.subtitle {\n  margin-top: 8rpx;\n  font-size: 26rpx;\n  color: #7a7a7a;\n  display: block;\n}\n\n/* 地图容器 */\n.map-container {\n  position: relative;\n  margin: 20rpx;\n  height: 600rpx;\n  border-radius: 24rpx;\n  overflow: hidden;\n  box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.06);\n}\n\n.map-bg {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n/* 轨迹点 */\n.trajectory-point {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  z-index: 2;\n}\n\n.point-marker {\n  width: 60rpx;\n  height: 60rpx;\n  background: rgba(255, 255, 255, 0.9);\n  border-radius: 30rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.15);\n}\n\n.point-icon {\n  font-size: 32rpx;\n}\n\n.point-label {\n  margin-top: 8rpx;\n  font-size: 24rpx;\n  color: #2b2b2b;\n  background: rgba(255, 255, 255, 0.9);\n  padding: 4rpx 12rpx;\n  border-radius: 12rpx;\n  white-space: nowrap;\n}\n\n/* 轨迹连线 */\n.trajectory-line {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n/* 添加按钮 */\n.add-button {\n  margin: 30rpx 20rpx 0 20rpx;\n  background: linear-gradient(135deg, #ff8fb3 0%, #ff7aa0 100%);\n  border-radius: 24rpx;\n  padding: 24rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12rpx;\n}\n\n.add-icon {\n  font-size: 32rpx;\n  color: #ffffff;\n  font-weight: 700;\n}\n\n.add-text {\n  font-size: 28rpx;\n  color: #ffffff;\n  font-weight: 600;\n}\n\n/* 弹窗样式 */\n.modal-mask {\n  position: fixed;\n  inset: 0;\n  background: rgba(0,0,0,0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 99;\n}\n\n.modal {\n  width: 86%;\n  max-width: 600rpx;\n  background: #ffffff;\n  border-radius: 24rpx;\n  padding: 40rpx 32rpx;\n  box-shadow: 0 12rpx 40rpx rgba(0,0,0,0.15);\n}\n\n.modal-header {\n  margin-bottom: 24rpx;\n}\n\n.modal-title {\n  font-size: 34rpx;\n  font-weight: 700;\n  color: #2b2b2b;\n  display: block;\n}\n\n.modal-date {\n  margin-top: 8rpx;\n  font-size: 26rpx;\n  color: #7a7a7a;\n  display: block;\n}\n\n.modal-content {\n  margin-bottom: 24rpx;\n}\n\n.point-image {\n  width: 100%;\n  height: 200rpx;\n  border-radius: 12rpx;\n  margin-bottom: 16rpx;\n}\n\n.point-description {\n  font-size: 26rpx;\n  color: #555;\n  line-height: 1.6;\n}\n\n/* 表单样式 */\n.form {\n  margin-top: 24rpx;\n}\n\n.form-item {\n  margin-bottom: 24rpx;\n}\n\n.label {\n  font-size: 26rpx;\n  color: #4a4a4a;\n  display: block;\n  margin-bottom: 8rpx;\n}\n\n.input {\n  width: 100%;\n  border: 1rpx solid #e6e6e6;\n  border-radius: 12rpx;\n  padding: 14rpx;\n  font-size: 26rpx;\n}\n\n.textarea {\n  width: 100%;\n  border: 1rpx solid #e6e6e6;\n  border-radius: 12rpx;\n  padding: 14rpx;\n  font-size: 26rpx;\n  min-height: 120rpx;\n}\n\n.position-info {\n  margin-top: 8rpx;\n  font-size: 24rpx;\n  color: #ff8fb3;\n}\n\n.modal-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 16rpx;\n}\n\n.btn {\n  padding: 16rpx 26rpx;\n  border-radius: 12rpx;\n  font-size: 26rpx;\n  border: none;\n}\n\n.btn.primary {\n  background: linear-gradient(135deg, #ff8fb3 0%, #ff7aa0 100%);\n  color: #ffffff;\n}\n\n.btn.secondary {\n  background: #f0f0f0;\n  color: #333;\n}\n</style>","import MiniProgramPage from 'C:/Users/Administrator/Desktop/项目/love_time_fu/pages/trajectory/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AAsFA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,kBAAkB;AAAA,QAChB;AAAA,UACE,OAAO;AAAA,UACP,MAAM;AAAA,UACN,aAAa;AAAA,UACb,KAAK;AAAA,UACL,MAAM;AAAA,UACN,OAAO;AAAA,QACR;AAAA,QACD;AAAA,UACE,OAAO;AAAA,UACP,MAAM;AAAA,UACN,aAAa;AAAA,UACb,KAAK;AAAA,UACL,MAAM;AAAA,UACN,OAAO;AAAA,QACR;AAAA,QACD;AAAA,UACE,OAAO;AAAA,UACP,MAAM;AAAA,UACN,aAAa;AAAA,UACb,KAAK;AAAA,UACL,MAAM;AAAA,UACN,OAAO;AAAA,QACT;AAAA,MACD;AAAA,MACD,YAAY;AAAA,MACZ,cAAc,CAAE;AAAA,MAChB,cAAc;AAAA,MACd,UAAU;AAAA,QACR,OAAO;AAAA,QACP,MAAM;AAAA,QACN,aAAa;AAAA,QACb,KAAK;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA;EAEH;AAAA,EACD,SAAS;AAAA,IACP,gBAAgB,OAAO;AACrB,WAAK,eAAe;AACpB,WAAK,aAAa;AAAA,IACnB;AAAA,IACD,kBAAkB;AAChB,WAAK,aAAa;AAClB,WAAK,eAAe;IACrB;AAAA,IACD,eAAe;AACb,WAAK,eAAe;AAAA,IACrB;AAAA,IACD,eAAe;AACb,WAAK,eAAe;AACpB,WAAK,WAAW;AAAA,QACd,OAAO;AAAA,QACP,MAAM;AAAA,QACN,aAAa;AAAA,QACb,KAAK;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA;IAEV;AAAA,IACD,iBAAiB;AAEf,WAAK,SAAS,MAAM,KAAK,WAAW,KAAK;AACzC,WAAK,SAAS,OAAO,KAAK,WAAW,KAAK;AAC1CA,oBAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,OAAK,CAAG;AAAA,IAC/C;AAAA,IACD,qBAAqB;AACnB,UAAI,CAAC,KAAK,SAAS,SAAS,CAAC,KAAK,SAAS,MAAM;AAC/CA,sBAAG,MAAC,UAAU,EAAE,OAAO,cAAc,MAAM,OAAO,CAAC;AACnD;AAAA,MACF;AAEA,UAAI,KAAK,SAAS,QAAQ,QAAQ,KAAK,SAAS,SAAS,MAAM;AAC7DA,sBAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,OAAK,CAAG;AAC9C;AAAA,MACF;AAEA,WAAK,iBAAiB,KAAK;AAAA,QACzB,GAAG,KAAK;AAAA,MACV,CAAC;AAED,WAAK,aAAY;AACjBA,oBAAG,MAAC,UAAU,EAAE,OAAO,WAAW,MAAM,UAAU,CAAC;AAAA,IACrD;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/KA,GAAG,WAAW,eAAe;"}