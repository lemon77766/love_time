{"version":3,"file":"index.js","sources":["pages/trajectory/index.vue","D:/softcaree/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdHJhamVjdG9yeS9pbmRleC52dWU"],"sourcesContent":["<template>\n  <view class=\"trajectory-page\" :style=\"{ paddingTop: containerPaddingTop }\">\n    <!-- Ëá™ÂÆö‰πâÂØºËà™Ê†è -->\n    <view class=\"custom-navbar\">\n      <!-- Ê∏êÂèòËÉåÊôØ -->\n      <view class=\"navbar-gradient-bg\"></view>\n      <!-- Áä∂ÊÄÅÊ†èÂç†‰Ωç -->\n      <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\n      <!-- ÂØºËà™Ê†èÂÜÖÂÆπ -->\n      <view class=\"navbar-content\" :style=\"{ height: navBarHeight + 'px' }\">\n        <view class=\"navbar-title\">\n          <text class=\"title-text\">ÊÅãÁà±ËΩ®Ëøπ</text>\n        </view>\n      </view>\n    </view>\n\n    <!-- ÂÜÖÂÆπÂå∫Âüü -->\n    <view class=\"content-area\">\n      <!-- È°∂ÈÉ®Ê†áÈ¢ò -->\n      <view class=\"header\">\n        <text class=\"subtitle\">ËÆ∞ÂΩï‰Ω†‰ª¨‰∏ÄËµ∑Ëµ∞ËøáÁöÑÁÇπÁÇπÊª¥Êª¥</text>\n      </view>\n\n      <!-- ËΩ®ËøπÂú∞ÂõæÂÆπÂô® -->\n    <view class=\"map-container\">\n      <image class=\"map-bg\" src=\"/static/trajectory/map-bg.jpg\" mode=\"aspectFill\" />\n      \n      <!-- ËΩ®ËøπÁÇπ -->\n      <view \n        v-for=\"(point, index) in trajectoryPoints\" \n        :key=\"index\"\n        class=\"trajectory-point\"\n        :style=\"{ top: point.top + '%', left: point.left + '%' }\"\n        @click=\"showPointDetail(point)\"\n      >\n        <view class=\"point-marker\">\n          <text class=\"point-icon\">üìç</text>\n        </view>\n        <view class=\"point-label\">{{ point.title }}</view>\n      </view>\n\n      <!-- ËΩ®ËøπËøûÁ∫ø -->\n      <view class=\"trajectory-line\" v-if=\"trajectoryPoints.length > 1\"></view>\n    </view>\n\n    <!-- Ê∑ªÂä†ËΩ®ËøπÊåâÈíÆ -->\n    <view class=\"add-button\" @click=\"showAddModal\">\n      <text class=\"add-icon\">+</text>\n      <text class=\"add-text\">Ê∑ªÂä†ËΩ®ËøπÁÇπ</text>\n    </view>\n\n    <!-- ËΩ®ËøπÁÇπËØ¶ÊÉÖÂºπÁ™ó -->\n    <view v-if=\"showDetail\" class=\"modal-mask\" @click=\"hidePointDetail\">\n      <view class=\"modal\" @click.stop>\n        <view class=\"modal-header\">\n          <text class=\"modal-title\">{{ currentPoint.title }}</text>\n          <text class=\"modal-date\">{{ currentPoint.date }}</text>\n        </view>\n        <view class=\"modal-content\">\n          <image v-if=\"currentPoint.image\" :src=\"currentPoint.image\" class=\"point-image\" mode=\"aspectFill\" />\n          <text class=\"point-description\">{{ currentPoint.description || 'ÊöÇÊó†ÊèèËø∞' }}</text>\n        </view>\n        <view class=\"modal-actions\">\n          <button class=\"btn secondary\" @click=\"hidePointDetail\">ÂÖ≥Èó≠</button>\n        </view>\n      </view>\n    </view>\n\n    <!-- Ê∑ªÂä†ËΩ®ËøπÁÇπÂºπÁ™ó -->\n    <view v-if=\"showAddModal\" class=\"modal-mask\" @click=\"hideAddModal\">\n      <view class=\"modal\" @click.stop>\n        <text class=\"modal-title\">Ê∑ªÂä†ËΩ®ËøπÁÇπ</text>\n        <view class=\"form\">\n          <view class=\"form-item\">\n            <text class=\"label\">Âú∞ÁÇπÂêçÁß∞</text>\n            <input class=\"input\" v-model=\"newPoint.title\" placeholder=\"Â¶ÇÔºöÁ¨¨‰∏ÄÊ¨°Á∫¶‰ºöÁöÑÂú∞Êñπ\" />\n          </view>\n          <view class=\"form-item\">\n            <text class=\"label\">Êó•Êúü</text>\n            <input class=\"input\" v-model=\"newPoint.date\" placeholder=\"Â¶ÇÔºö2023-05-20\" />\n          </view>\n          <view class=\"form-item\">\n            <text class=\"label\">ÊèèËø∞</text>\n            <textarea class=\"textarea\" v-model=\"newPoint.description\" placeholder=\"ËÆ∞ÂΩïËøô‰∏™Âú∞ÁÇπÁöÑÁâπÂà´ÂõûÂøÜ...\"></textarea>\n          </view>\n          <view class=\"form-item\">\n            <text class=\"label\">Âú®Âú∞Âõæ‰∏äÈÄâÊã©‰ΩçÁΩÆ</text>\n            <button class=\"btn primary\" @click=\"selectPosition\">ÈÄâÊã©‰ΩçÁΩÆ</button>\n            <text v-if=\"newPoint.top !== null\" class=\"position-info\">Â∑≤ÈÄâÊã©‰ΩçÁΩÆ</text>\n          </view>\n        </view>\n        <view class=\"modal-actions\">\n          <button class=\"btn secondary\" @click=\"hideAddModal\">ÂèñÊ∂à</button>\n          <button class=\"btn primary\" @click=\"addTrajectoryPoint\">‰øùÂ≠ò</button>\n        </view>\n      </view>\n    </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      statusBarHeight: 0,\n      navBarHeight: 54,\n      screenWidth: 375,\n      trajectoryPoints: [\n        {\n          title: \"ÂàùÈÅá\",\n          date: \"2023-03-15\",\n          description: \"Á¨¨‰∏ÄÊ¨°ËßÅÈù¢ÁöÑÂíñÂï°ÂéÖ\",\n          top: 30,\n          left: 40,\n          image: \"/static/trajectory/meet.jpg\"\n        },\n        {\n          title: \"Ë°®ÁôΩ\",\n          date: \"2023-05-20\",\n          description: \"Âú®ÂÖ¨Âõ≠ÁöÑÊ®±Ëä±Ê†ë‰∏ãË°®ÁôΩ\",\n          top: 50,\n          left: 60,\n          image: \"/static/trajectory/confess.jpg\"\n        },\n        {\n          title: \"ÊóÖË°å\",\n          date: \"2023-08-10\",\n          description: \"Á¨¨‰∏ÄÊ¨°‰∏ÄËµ∑ÊóÖË°å\",\n          top: 70,\n          left: 30,\n          image: \"/static/trajectory/travel.jpg\"\n        }\n      ],\n      showDetail: false,\n      currentPoint: {},\n      showAddModal: false,\n      newPoint: {\n        title: '',\n        date: '',\n        description: '',\n        top: null,\n        left: null,\n        image: ''\n      }\n    };\n  },\n  computed: {\n    containerPaddingTop() {\n      // Â∞ÜpxËΩ¨Êç¢‰∏∫rpx: rpx = px * 750 / screenWidth\n      // Ê∑ªÂä†20rpxÈ¢ùÂ§ñÈó¥Ë∑ù\n      const totalHeightPx = this.statusBarHeight + this.navBarHeight;\n      const pxToRpx = 750 / this.screenWidth;\n      const totalHeightRpx = totalHeightPx * pxToRpx;\n      return totalHeightRpx + 20 + 'rpx';\n    }\n  },\n  onLoad() {\n    this.getSystemInfo();\n  },\n  methods: {\n    getSystemInfo() {\n      const systemInfo = uni.getSystemInfoSync();\n      this.statusBarHeight = systemInfo.statusBarHeight || 0;\n      this.screenWidth = systemInfo.windowWidth || 375;\n      // #ifdef MP-WEIXIN\n      this.navBarHeight = 54;\n      // #endif\n      // #ifdef H5\n      this.navBarHeight = 54;\n      // #endif\n    },\n    showPointDetail(point) {\n      this.currentPoint = point;\n      this.showDetail = true;\n    },\n    hidePointDetail() {\n      this.showDetail = false;\n      this.currentPoint = {};\n    },\n    showAddModal() {\n      this.showAddModal = true;\n    },\n    hideAddModal() {\n      this.showAddModal = false;\n      this.newPoint = {\n        title: '',\n        date: '',\n        description: '',\n        top: null,\n        left: null,\n        image: ''\n      };\n    },\n    selectPosition() {\n      // Ê®°Êãü‰ΩçÁΩÆÈÄâÊã©\n      this.newPoint.top = Math.random() * 70 + 15;\n      this.newPoint.left = Math.random() * 70 + 15;\n      uni.showToast({ title: '‰ΩçÁΩÆÂ∑≤ÈÄâÊã©', icon: 'none' });\n    },\n    addTrajectoryPoint() {\n      if (!this.newPoint.title || !this.newPoint.date) {\n        uni.showToast({ title: 'ËØ∑Â°´ÂÜôÂú∞ÁÇπÂêçÁß∞ÂíåÊó•Êúü', icon: 'none' });\n        return;\n      }\n      \n      if (this.newPoint.top === null || this.newPoint.left === null) {\n        uni.showToast({ title: 'ËØ∑ÈÄâÊã©‰ΩçÁΩÆ', icon: 'none' });\n        return;\n      }\n      \n      this.trajectoryPoints.push({\n        ...this.newPoint\n      });\n      \n      this.hideAddModal();\n      uni.showToast({ title: 'ËΩ®ËøπÁÇπÊ∑ªÂä†ÊàêÂäü', icon: 'success' });\n    }\n  }\n};\n</script>\n\n<style>\n.trajectory-page {\n  min-height: 100vh;\n  background-color: #F8F0FC;\n  padding-bottom: 40rpx;\n}\n\n/* Ëá™ÂÆö‰πâÂØºËà™Ê†èÊ†∑Âºè */\n.custom-navbar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 9999;\n  background-color: #F8F0FC;\n  overflow: hidden;\n}\n\n.navbar-gradient-bg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 200%;\n  background: linear-gradient(180deg, #F8F0FC 0%, #F3E8FF 30%, #F0E0FF 60%, #F8F0FC 100%);\n  background: -webkit-linear-gradient(top, #F8F0FC 0%, #F3E8FF 30%, #F0E0FF 60%, #F8F0FC 100%);\n}\n\n.status-bar {\n  width: 100%;\n  background: transparent;\n  position: relative;\n  z-index: 1;\n}\n\n.navbar-content {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 30rpx;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1;\n}\n\n.navbar-title {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n}\n\n.title-text {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #6B5B95;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n.navbar-right {\n  width: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.navbar-icon {\n  font-size: 44rpx;\n  color: #333333;\n}\n\n.content-area {\n  padding: 30rpx 24rpx;\n}\n\n.header {\n  padding: 0 0 20rpx 0;\n}\n.subtitle {\n  font-size: 26rpx;\n  color: #9B8FB8;\n  display: block;\n}\n\n/* Âú∞ÂõæÂÆπÂô® */\n.map-container {\n  position: relative;\n  margin: 20rpx;\n  height: 600rpx;\n  border-radius: 24rpx;\n  overflow: hidden;\n  box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.06);\n}\n\n.map-bg {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n/* ËΩ®ËøπÁÇπ */\n.trajectory-point {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  z-index: 2;\n}\n\n.point-marker {\n  width: 60rpx;\n  height: 60rpx;\n  background: rgba(255, 255, 255, 0.9);\n  border-radius: 30rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.15);\n}\n\n.point-icon {\n  font-size: 32rpx;\n}\n\n.point-label {\n  margin-top: 8rpx;\n  font-size: 24rpx;\n  color: #2b2b2b;\n  background: rgba(255, 255, 255, 0.9);\n  padding: 4rpx 12rpx;\n  border-radius: 12rpx;\n  white-space: nowrap;\n}\n\n/* ËΩ®ËøπËøûÁ∫ø */\n.trajectory-line {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n/* Ê∑ªÂä†ÊåâÈíÆ */\n.add-button {\n  margin: 30rpx 20rpx 0 20rpx;\n  background: #2bad81;\n  border-radius: 24rpx;\n  padding: 24rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12rpx;\n}\n\n.add-icon {\n  font-size: 32rpx;\n  color: #ffffff;\n  font-weight: 700;\n}\n\n.add-text {\n  font-size: 28rpx;\n  color: #ffffff;\n  font-weight: 600;\n}\n\n/* ÂºπÁ™óÊ†∑Âºè */\n.modal-mask {\n  position: fixed;\n  inset: 0;\n  background: rgba(0,0,0,0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 99;\n}\n\n.modal {\n  width: 86%;\n  max-width: 600rpx;\n  background: #ffffff;\n  border-radius: 24rpx;\n  padding: 40rpx 32rpx;\n  box-shadow: 0 12rpx 40rpx rgba(0,0,0,0.15);\n}\n\n.modal-header {\n  margin-bottom: 24rpx;\n}\n\n.modal-title {\n  font-size: 34rpx;\n  font-weight: 700;\n  color: #2b2b2b;\n  display: block;\n}\n\n.modal-date {\n  margin-top: 8rpx;\n  font-size: 26rpx;\n  color: #7a7a7a;\n  display: block;\n}\n\n.modal-content {\n  margin-bottom: 24rpx;\n}\n\n.point-image {\n  width: 100%;\n  height: 200rpx;\n  border-radius: 12rpx;\n  margin-bottom: 16rpx;\n}\n\n.point-description {\n  font-size: 26rpx;\n  color: #555;\n  line-height: 1.6;\n}\n\n/* Ë°®ÂçïÊ†∑Âºè */\n.form {\n  margin-top: 24rpx;\n}\n\n.form-item {\n  margin-bottom: 24rpx;\n}\n\n.label {\n  font-size: 26rpx;\n  color: #4a4a4a;\n  display: block;\n  margin-bottom: 8rpx;\n}\n\n.input {\n  width: 100%;\n  border: 1rpx solid #e6e6e6;\n  border-radius: 12rpx;\n  padding: 14rpx;\n  font-size: 26rpx;\n}\n\n.textarea {\n  width: 100%;\n  border: 1rpx solid #e6e6e6;\n  border-radius: 12rpx;\n  padding: 14rpx;\n  font-size: 26rpx;\n  min-height: 120rpx;\n}\n\n.position-info {\n  margin-top: 8rpx;\n  font-size: 24rpx;\n  color: #2bad81;\n}\n\n.modal-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 16rpx;\n}\n\n.btn {\n  padding: 16rpx 26rpx;\n  border-radius: 12rpx;\n  font-size: 26rpx;\n  border: none;\n}\n\n.btn.primary {\n  background: #2bad81;\n  color: #ffffff;\n}\n\n.btn.secondary {\n  background: #f0f0f0;\n  color: #333;\n}\n</style>","import MiniProgramPage from 'C:/Users/Administrator/Desktop/È°πÁõÆ/love_time_fu/pages/trajectory/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AAsGA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,cAAc;AAAA,MACd,aAAa;AAAA,MACb,kBAAkB;AAAA,QAChB;AAAA,UACE,OAAO;AAAA,UACP,MAAM;AAAA,UACN,aAAa;AAAA,UACb,KAAK;AAAA,UACL,MAAM;AAAA,UACN,OAAO;AAAA,QACR;AAAA,QACD;AAAA,UACE,OAAO;AAAA,UACP,MAAM;AAAA,UACN,aAAa;AAAA,UACb,KAAK;AAAA,UACL,MAAM;AAAA,UACN,OAAO;AAAA,QACR;AAAA,QACD;AAAA,UACE,OAAO;AAAA,UACP,MAAM;AAAA,UACN,aAAa;AAAA,UACb,KAAK;AAAA,UACL,MAAM;AAAA,UACN,OAAO;AAAA,QACT;AAAA,MACD;AAAA,MACD,YAAY;AAAA,MACZ,cAAc,CAAE;AAAA,MAChB,cAAc;AAAA,MACd,UAAU;AAAA,QACR,OAAO;AAAA,QACP,MAAM;AAAA,QACN,aAAa;AAAA,QACb,KAAK;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA;EAEH;AAAA,EACD,UAAU;AAAA,IACR,sBAAsB;AAGpB,YAAM,gBAAgB,KAAK,kBAAkB,KAAK;AAClD,YAAM,UAAU,MAAM,KAAK;AAC3B,YAAM,iBAAiB,gBAAgB;AACvC,aAAO,iBAAiB,KAAK;AAAA,IAC/B;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,cAAa;AAAA,EACnB;AAAA,EACD,SAAS;AAAA,IACP,gBAAgB;AACd,YAAM,aAAaA,oBAAI;AACvB,WAAK,kBAAkB,WAAW,mBAAmB;AACrD,WAAK,cAAc,WAAW,eAAe;AAE7C,WAAK,eAAe;AAAA,IAKrB;AAAA,IACD,gBAAgB,OAAO;AACrB,WAAK,eAAe;AACpB,WAAK,aAAa;AAAA,IACnB;AAAA,IACD,kBAAkB;AAChB,WAAK,aAAa;AAClB,WAAK,eAAe;IACrB;AAAA,IACD,eAAe;AACb,WAAK,eAAe;AAAA,IACrB;AAAA,IACD,eAAe;AACb,WAAK,eAAe;AACpB,WAAK,WAAW;AAAA,QACd,OAAO;AAAA,QACP,MAAM;AAAA,QACN,aAAa;AAAA,QACb,KAAK;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA;IAEV;AAAA,IACD,iBAAiB;AAEf,WAAK,SAAS,MAAM,KAAK,WAAW,KAAK;AACzC,WAAK,SAAS,OAAO,KAAK,WAAW,KAAK;AAC1CA,oBAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,OAAK,CAAG;AAAA,IAC/C;AAAA,IACD,qBAAqB;AACnB,UAAI,CAAC,KAAK,SAAS,SAAS,CAAC,KAAK,SAAS,MAAM;AAC/CA,sBAAG,MAAC,UAAU,EAAE,OAAO,cAAc,MAAM,OAAO,CAAC;AACnD;AAAA,MACF;AAEA,UAAI,KAAK,SAAS,QAAQ,QAAQ,KAAK,SAAS,SAAS,MAAM;AAC7DA,sBAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,OAAK,CAAG;AAC9C;AAAA,MACF;AAEA,WAAK,iBAAiB,KAAK;AAAA,QACzB,GAAG,KAAK;AAAA,MACV,CAAC;AAED,WAAK,aAAY;AACjBA,oBAAG,MAAC,UAAU,EAAE,OAAO,WAAW,MAAM,UAAU,CAAC;AAAA,IACrD;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1NA,GAAG,WAAW,eAAe;"}