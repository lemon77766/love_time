{"version":3,"file":"user.js","sources":["api/user.js"],"sourcesContent":["/**\r\n * ç”¨æˆ·ä¿¡æ¯ API\r\n * å¯¹æ¥åç«¯æ¥å£æ–‡æ¡£ï¼šç”¨æˆ·ä¿¡æ¯API\r\n */\r\n\r\nimport http from '../utils/http.js';\r\nimport config from '../utils/config.js';\r\n\r\n/**\r\n * æ›´æ–°ç”¨æˆ·èµ„æ–™ï¼ˆæ˜µç§°å’Œå¤´åƒï¼‰\r\n * @param {string} nickName - ç”¨æˆ·æ˜µç§°\r\n * @param {string} avatarUrl - ç”¨æˆ·å¤´åƒURL\r\n * @returns {Promise<object>} è¿”å›æ›´æ–°ç»“æœ\r\n */\r\nexport async function updateUserProfile(nickName, avatarUrl) {\r\n  try {\r\n    console.log('ğŸ”— [æ›´æ–°ç”¨æˆ·èµ„æ–™] å¼€å§‹æ›´æ–°ç”¨æˆ·èµ„æ–™...');\r\n    console.log('ğŸ“‹ [å‚æ•°] nickName:', nickName);\r\n    console.log('ğŸ“‹ [å‚æ•°] avatarUrl:', avatarUrl);\r\n    \r\n    // ä½¿ç”¨é…ç½®ä¸­çš„æ­£ç¡®APIè·¯å¾„\r\n    const response = await http.post(config.API.USER.UPDATE, {\r\n      nickName: nickName || '',\r\n      avatarUrl: avatarUrl || ''\r\n    });\r\n    \r\n    console.log('âœ… [æ›´æ–°ç”¨æˆ·èµ„æ–™] æ›´æ–°æˆåŠŸ:', response);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [æ›´æ–°ç”¨æˆ·èµ„æ–™] æ›´æ–°å¤±è´¥:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * è·å–ç”¨æˆ·ä¿¡æ¯\r\n * @returns {Promise<object>} è¿”å›ç”¨æˆ·ä¿¡æ¯\r\n */\r\nexport async function getUserInfo() {\r\n  try {\r\n    const response = await http.get('/api/user/info');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n"],"names":["uni","http","config"],"mappings":";;;;AAcO,eAAe,kBAAkB,UAAU,WAAW;AAC3D,MAAI;AACFA,kBAAAA,MAAA,MAAA,OAAA,qBAAY,yBAAyB;AACrCA,kBAAA,MAAA,MAAA,OAAA,qBAAY,qBAAqB,QAAQ;AACzCA,kBAAY,MAAA,MAAA,OAAA,qBAAA,sBAAsB,SAAS;AAG3C,UAAM,WAAW,MAAMC,gBAAK,KAAKC,aAAAA,OAAO,IAAI,KAAK,QAAQ;AAAA,MACvD,UAAU,YAAY;AAAA,MACtB,WAAW,aAAa;AAAA,IAC9B,CAAK;AAEDF,kBAAA,MAAA,MAAA,OAAA,qBAAY,oBAAoB,QAAQ;AACxC,WAAO;AAAA,EACR,SAAQ,OAAO;AACdA,kBAAA,MAAA,MAAA,SAAA,qBAAc,oBAAoB,KAAK;AACvC,UAAM;AAAA,EACP;AACH;;"}