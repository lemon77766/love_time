{"version":3,"file":"couple.js","sources":["api/couple.js"],"sourcesContent":["/**\r\n * 情侣关系 API\r\n * 对接后端接口文档：情侣关系绑定API\r\n */\r\n\r\nimport http from '../utils/http.js';\r\nimport config from '../utils/config.js';\r\nimport { getUserInfo as getUserInfoFromAuth } from '../utils/auth.js';\r\nimport { getUserInfo as getUserInfoFromAPI } from './login.js';\r\n\r\nfunction isMsgCodeSuccess(response) {\r\n  return (\r\n    response &&\r\n    typeof response === 'object' &&\r\n    response.code === 200 &&\r\n    ('msg' in response || 'message' in response)\r\n  );\r\n}\r\n\r\nfunction getResponseMessage(response, fallbackText = '') {\r\n  if (!response || typeof response !== 'object') {\r\n    return fallbackText;\r\n  }\r\n  return response.msg || response.message || fallbackText;\r\n}\r\n\r\n/**\r\n * 获取当前用户ID\r\n * @returns {Promise<string>} 返回用户ID\r\n */\r\nasync function getCurrentUserId() {\r\n  try {\r\n    console.log('🔍 [获取用户ID] 开始尝试获取用户ID...');\r\n    \r\n    // 方法1: 从本地登录信息中获取\r\n    const userInfo = getUserInfoFromAuth();\r\n    console.log('🔍 [方法1] 从auth.js获取用户信息:', userInfo);\r\n    if (userInfo && userInfo.userId) {\r\n      console.log('✅ [方法1] 成功获取userId:', userInfo.userId);\r\n      return userInfo.userId;\r\n    }\r\n    \r\n    // 方法2: 从登录信息中查找userId\r\n    const loginInfo = uni.getStorageSync('login_info');\r\n    console.log('🔍 [方法2] 从登录信息获取:', loginInfo ? '找到登录信息' : '未找到登录信息');\r\n    if (loginInfo) {\r\n      console.log('🔍 [方法2] 登录信息完整结构:', JSON.stringify(loginInfo, null, 2));\r\n      \r\n      // 尝试多个可能的字段名\r\n      if (loginInfo.userId) {\r\n        console.log('✅ [方法2] 从loginInfo.userId获取:', loginInfo.userId);\r\n        return loginInfo.userId;\r\n      }\r\n      if (loginInfo.userInfo && loginInfo.userInfo.userId) {\r\n        console.log('✅ [方法2] 从loginInfo.userInfo.userId获取:', loginInfo.userInfo.userId);\r\n        return loginInfo.userInfo.userId;\r\n      }\r\n      if (loginInfo.data && loginInfo.data.userId) {\r\n        console.log('✅ [方法2] 从loginInfo.data.userId获取:', loginInfo.data.userId);\r\n        return loginInfo.data.userId;\r\n      }\r\n      // 尝试openid作为userId（微信小程序场景）\r\n      if (loginInfo.openid) {\r\n        console.log('✅ [方法2] 使用openid作为userId:', loginInfo.openid);\r\n        return loginInfo.openid;\r\n      }\r\n    }\r\n    \r\n    // 方法3: 调用API获取用户信息\r\n    console.log('🔍 [方法3] 尝试调用用户信息API...');\r\n    try {\r\n      const response = await getUserInfoFromAPI();\r\n      console.log('🔍 [方法3] API响应:', response);\r\n      if (response && response.success && response.data && response.data.userId) {\r\n        console.log('✅ [方法3] 从API获取userId:', response.data.userId);\r\n        // 保存userId到本地登录信息\r\n        if (loginInfo) {\r\n          if (!loginInfo.userInfo) {\r\n            loginInfo.userInfo = {};\r\n          }\r\n          loginInfo.userInfo.userId = response.data.userId;\r\n          uni.setStorageSync('login_info', loginInfo);\r\n          console.log('💾 [方法3] 已保存userId到本地存储');\r\n        }\r\n        return response.data.userId;\r\n      } else {\r\n        console.warn('⚠️ [方法3] API响应中没有userId:', response);\r\n      }\r\n    } catch (apiError) {\r\n      console.warn('⚠️ [方法3] 调用用户信息API失败:', apiError);\r\n    }\r\n    \r\n    // 方法4: 从token中解析（如果是JWT）\r\n    if (loginInfo && loginInfo.token) {\r\n      console.log('🔍 [方法4] 尝试从token解析userId...');\r\n      try {\r\n        const tokenParts = loginInfo.token.split('.');\r\n        console.log('🔍 [方法4] Token分段数量:', tokenParts.length);\r\n        if (tokenParts.length === 3) {\r\n          // uni-app兼容的base64解码\r\n          let base64Payload = tokenParts[1];\r\n          // 处理base64 padding\r\n          base64Payload = base64Payload.replace(/-/g, '+').replace(/_/g, '/');\r\n          while (base64Payload.length % 4) {\r\n            base64Payload += '=';\r\n          }\r\n          \r\n          // 使用uni-app的base64解码或原生方法\r\n          let decodedPayload;\r\n          try {\r\n            if (typeof uni !== 'undefined' && uni.base64ToArrayBuffer) {\r\n              // uni-app方式\r\n              const arrayBuffer = uni.base64ToArrayBuffer(base64Payload);\r\n              decodedPayload = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\r\n            } else {\r\n              // 浏览器方式（H5环境）\r\n              decodedPayload = decodeURIComponent(atob(base64Payload));\r\n            }\r\n            \r\n            const payload = JSON.parse(decodedPayload);\r\n            console.log('🔍 [方法4] Token payload:', payload);\r\n            if (payload.userId || payload.uid || payload.user_id) {\r\n              const userId = payload.userId || payload.uid || payload.user_id;\r\n              console.log('✅ [方法4] 从token解析userId:', userId);\r\n              return userId;\r\n            } else {\r\n              console.warn('⚠️ [方法4] Token payload中没有userId字段');\r\n            }\r\n          } catch (decodeError) {\r\n            console.warn('⚠️ [方法4] Token解码失败:', decodeError);\r\n            // 如果token不是标准JWT格式，尝试直接使用openid\r\n            if (loginInfo.openid) {\r\n              console.log('✅ [方法4] 使用openid作为userId:', loginInfo.openid);\r\n              return loginInfo.openid;\r\n            }\r\n          }\r\n        } else {\r\n          console.warn('⚠️ [方法4] Token格式不正确，不是JWT格式');\r\n          // 如果token不是JWT格式，尝试直接使用openid\r\n          if (loginInfo.openid) {\r\n            console.log('✅ [方法4] 使用openid作为userId:', loginInfo.openid);\r\n            return loginInfo.openid;\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.warn('⚠️ [方法4] 从token解析userId失败:', e);\r\n      }\r\n    } else {\r\n      console.warn('⚠️ [方法4] 登录信息中没有token');\r\n    }\r\n    \r\n    // 所有方法都失败\r\n    console.error('❌ [获取用户ID] 所有方法都失败，无法获取用户ID');\r\n    console.error('❌ [登录信息]', loginInfo);\r\n    throw new Error('无法获取用户ID，请先登录');\r\n  } catch (error) {\r\n    console.error('❌ [获取用户ID] 异常:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * 生成邀请码\r\n * @returns {Promise<Object>} 返回邀请码信息\r\n * \r\n * 后端接口要求：\r\n * - 请求方法：POST\r\n * - 请求地址：/api/couple/invite/create\r\n * - 请求头：需携带 Authorization token\r\n * - 请求参数：\r\n *   {\r\n *     userId: \"user_123\"\r\n *   }\r\n * - 返回数据格式：\r\n *   {\r\n *     success: true,\r\n *     message: \"邀请码生成成功\",\r\n *     data: {\r\n *       inviteCode: \"ABC123\",\r\n *       expireAt: \"2024-01-16T10:30:00Z\"\r\n *     }\r\n *   }\r\n */\r\nexport function createInviteCode() {\r\n  const url = config.API.COUPLE.INVITE_CREATE;\r\n  const fullUrl = config.baseURL + url;\r\n  \r\n  console.log('🔗 [情侣关系API] 开始生成邀请码');\r\n  console.log('📍 请求地址:', fullUrl);\r\n  console.log('📋 请求方法: POST');\r\n  console.log('⏰ 请求时间:', new Date().toLocaleString());\r\n  \r\n  // 先获取userId，然后发送请求\r\n  return getCurrentUserId().then(userId => {\r\n    console.log('👤 用户ID:', userId);\r\n    console.log('📤 请求参数: { userId:', userId, '}');\r\n    \r\n    return http.post(url, { userId }).then(response => {\r\n      console.log('✅ [情侣关系API] 生成邀请码成功');\r\n      console.log('📦 响应数据:', response);\r\n      \r\n      // 先检查响应码，如果是错误码（非200），应该抛出错误（特别是401认证失败）\r\n      if (response && typeof response === 'object' && response.code !== undefined && response.code !== 200) {\r\n        const errorMsg = response.msg || response.message || '请求失败';\r\n        console.error('❌ [情侣关系API] 后端返回错误码:', response.code);\r\n        console.error('❌ 错误信息:', errorMsg);\r\n        // 对于401认证失败等严重错误，直接抛出错误\r\n        if (response.code === 401 || response.code === 403) {\r\n          throw new Error(errorMsg);\r\n        }\r\n        // 其他错误码（如业务错误）返回失败状态\r\n        return {\r\n          success: false,\r\n          message: errorMsg,\r\n          data: { inviteCode: '', expireAt: '' },\r\n          code: response.code\r\n        };\r\n      }\r\n      \r\n      const normalizedMessage = getResponseMessage(response, '邀请码生成成功');\r\n\r\n      if (isMsgCodeSuccess(response)) {\r\n        const responseData = response?.data;\r\n        const inviteCode =\r\n          typeof responseData === 'string'\r\n            ? responseData\r\n            : responseData?.inviteCode || responseData?.code || '';\r\n        const expireAt =\r\n          (typeof responseData === 'object' && responseData?.expireAt) ||\r\n          response?.expireAt ||\r\n          response?.data?.expireAt ||\r\n          '';\r\n\r\n        console.log(`📝 邀请码: ${inviteCode}`);\r\n        return {\r\n          success: true,\r\n          message: normalizedMessage,\r\n          data: {\r\n            inviteCode,\r\n            expireAt\r\n          }\r\n        };\r\n      }\r\n      \r\n      // 新格式：{ \"msg\": \"邀请码生成成功\", \"code\": 200, \"data\": \"U9441L\" }\r\n      // data 是字符串，直接是邀请码\r\n      if (response && response.data && typeof response.data === 'string') {\r\n        const inviteCode = response.data;\r\n        console.log(`📝 邀请码: ${inviteCode}`);\r\n        // 统一转换为标准格式\r\n        return {\r\n          success: response.code === 200 || response.success !== false,\r\n          message: normalizedMessage,\r\n          data: {\r\n            inviteCode: inviteCode,\r\n            expireAt: response.expireAt || '' // 如果后端返回过期时间\r\n          }\r\n        };\r\n      }\r\n      // 兼容旧格式：response.data.inviteCode（对象格式）\r\n      else if (response && response.data && response.data.inviteCode) {\r\n        console.log(`📝 邀请码: ${response.data.inviteCode}`);\r\n        console.log(`⏰ 过期时间: ${response.data.expireAt}`);\r\n        return {\r\n          ...response,\r\n          message: getResponseMessage(response, '邀请码生成成功')\r\n        };\r\n      }\r\n      // 兼容后端返回格式：response.invitation\r\n      else if (response && response.invitation) {\r\n        const invitation = response.invitation;\r\n        console.log(`📝 邀请码: ${invitation.inviteCode || invitation.code || ''}`);\r\n        console.log(`⏰ 过期时间: ${invitation.expireAt || invitation.expireTime || ''}`);\r\n        // 统一转换为标准格式\r\n        return {\r\n          success: response.success !== false,\r\n          message: normalizedMessage,\r\n          data: {\r\n            inviteCode: invitation.inviteCode || invitation.code || '',\r\n            expireAt: invitation.expireAt || invitation.expireTime || ''\r\n          },\r\n          isBound: response.isBound || false\r\n        };\r\n      }\r\n      // 兼容直接返回邀请码的情况\r\n      else if (response && (response.inviteCode || response.code)) {\r\n        console.log(`📝 邀请码: ${response.inviteCode || response.code}`);\r\n        return {\r\n          success: response.success !== false,\r\n          message: normalizedMessage,\r\n          data: {\r\n            inviteCode: response.inviteCode || response.code || '',\r\n            expireAt: response.expireAt || response.expireTime || ''\r\n          }\r\n        };\r\n      }\r\n      // 数据格式异常\r\n      else {\r\n        console.warn('⚠️ 响应数据格式异常:', response);\r\n        return {\r\n          success: response.code === 200 || response.success !== false,\r\n          message: normalizedMessage || '生成成功',\r\n          data: { inviteCode: '', expireAt: '' }\r\n        };\r\n      }\r\n    });\r\n  }).catch(error => {\r\n    console.error('❌ [情侣关系API] 生成邀请码失败');\r\n    console.error('🔴 错误信息:', error);\r\n    throw error;\r\n  });\r\n}\r\n\r\n/**\r\n * 验证邀请码\r\n * @param {string} inviteCode - 邀请码\r\n * @returns {Promise<Object>} 返回邀请码验证结果和发起方信息\r\n * \r\n * 后端接口要求：\r\n * - 请求方法：GET\r\n * - 请求地址：/api/couple/invite/validate?code=ABC123\r\n * - 请求头：需携带 Authorization token\r\n * - 返回数据格式：\r\n *   {\r\n *     success: true,\r\n *     message: \"邀请码有效\",\r\n *     data: {\r\n *       code: \"ABC123\",\r\n *       creator: {\r\n *         userId: \"user_123\",\r\n *         nickName: \"用户昵称\",\r\n *         avatarUrl: \"头像URL\",\r\n *         displayName: \"显示昵称\",\r\n *         displayAvatar: \"显示头像\"\r\n *       },\r\n *       expireAt: \"2024-01-16T10:30:00Z\"\r\n *     }\r\n *   }\r\n */\r\nexport function validateInviteCode(inviteCode) {\r\n  const url = config.API.COUPLE.INVITE_VALIDATE + '?code=' + encodeURIComponent(inviteCode);\r\n  const fullUrl = config.baseURL + url;\r\n  \r\n  console.log('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');\r\n  console.log('🔗 [情侣关系API] 开始验证邀请码');\r\n  console.log('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');\r\n  console.log('📍 [请求地址]', fullUrl);\r\n  console.log('📋 [请求方法] GET');\r\n  console.log('📝 [原始邀请码]', inviteCode);\r\n  console.log('📝 [邀请码类型]', typeof inviteCode);\r\n  console.log('📝 [邀请码长度]', inviteCode ? inviteCode.length : 0);\r\n  console.log('📝 [URL编码后邀请码]', encodeURIComponent(inviteCode));\r\n  console.log('📝 [完整URL参数]', 'code=' + encodeURIComponent(inviteCode));\r\n  console.log('⏰ [请求时间]', new Date().toLocaleString());\r\n  console.log('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');\r\n  \r\n  return http.get(url).then(response => {\r\n    console.log('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');\r\n    console.log('✅ [情侣关系API] 验证邀请码成功');\r\n    console.log('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');\r\n    console.log('📦 [响应数据类型]', typeof response);\r\n    console.log('📦 [完整响应数据]', JSON.stringify(response, null, 2));\r\n    \r\n    if (response && typeof response === 'object') {\r\n      console.log('📦 [响应数据字段列表]', Object.keys(response).join(', '));\r\n    }\r\n    \r\n    // 先检查响应码，如果是错误码（非200），应该抛出错误（特别是401认证失败）\r\n    if (response && typeof response === 'object' && response.code !== undefined && response.code !== 200) {\r\n      const errorMsg = response.msg || response.message || '请求失败';\r\n      console.error('❌ [情侣关系API] 后端返回错误码:', response.code);\r\n      console.error('❌ 错误信息:', errorMsg);\r\n      // 对于401认证失败等严重错误，直接抛出错误\r\n      if (response.code === 401 || response.code === 403) {\r\n        throw new Error(errorMsg);\r\n      }\r\n      // 其他错误码（如业务错误）返回失败状态\r\n      return {\r\n        success: false,\r\n        message: errorMsg,\r\n        data: null,\r\n        code: response.code\r\n      };\r\n    }\r\n    \r\n    // 兼容仅返回 msg/code 的新格式\r\n    const hasMsgCodeFormat = response && typeof response === 'object' && 'code' in response && (response.msg || response.message);\r\n    if (hasMsgCodeFormat) {\r\n      if (isMsgCodeSuccess(response)) {\r\n        const normalizedResponse = {\r\n          success: true,\r\n          message: getResponseMessage(response, '邀请码有效'),\r\n          data: null\r\n        };\r\n\r\n        if (response.data && typeof response.data === 'object') {\r\n          normalizedResponse.data = {\r\n            code: response.data.code || inviteCode,\r\n            creator: response.data.creator || response.creator || null,\r\n            expireAt: response.data.expireAt || response.expireAt || null\r\n          };\r\n        } else {\r\n          normalizedResponse.data = {\r\n            code: inviteCode,\r\n            creator: response.creator || null,\r\n            expireAt: response.expireAt || null\r\n          };\r\n        }\r\n\r\n        console.log('✅ [情侣关系API] msg/code格式响应，已转换为标准结构');\r\n        console.log('📦 [转换后的数据]', JSON.stringify(normalizedResponse, null, 2));\r\n        return normalizedResponse;\r\n      }\r\n\r\n      console.warn('⚠️ [情侣关系API] msg/code格式响应但 code 非200，视为失败');\r\n      return {\r\n        success: false,\r\n        message: getResponseMessage(response, '邀请码验证失败'),\r\n        data: null,\r\n        code: response.code\r\n      };\r\n    }\r\n\r\n    // 处理标准格式：response.data.creator\r\n    if (response && response.data && response.data.creator) {\r\n      console.log(`📝 [返回的邀请码] ${response.data.code || inviteCode}`);\r\n      console.log(`👤 [发起方昵称] ${response.data.creator?.nickName || '未知'}`);\r\n      console.log(`👤 [发起方ID] ${response.data.creator?.id || '未知'}`);\r\n      console.log(`⏰ [过期时间] ${response.data.expireAt || '未知'}`);\r\n      if (response.data.creator) {\r\n        console.log('👤 [发起方完整信息]', JSON.stringify(response.data.creator, null, 2));\r\n      }\r\n      return response;\r\n    }\r\n    \r\n    // 处理直接返回 creator 的情况\r\n    if (response && response.creator) {\r\n      console.log(`👤 [发起方昵称] ${response.creator?.nickName || '未知'}`);\r\n      console.log(`👤 [发起方ID] ${response.creator?.id || '未知'}`);\r\n      return { success: true, data: response };\r\n    }\r\n    \r\n    // 处理新格式：inviterNickName, inviterId, inviterAvatarUrl\r\n    if (response && (response.inviterNickName || response.inviterId)) {\r\n      console.log(`👤 [发起方昵称] ${response.inviterNickName || '未知'}`);\r\n      console.log(`👤 [发起方ID] ${response.inviterId || '未知'}`);\r\n      console.log(`🖼️ [发起方头像] ${response.inviterAvatarUrl || '未知'}`);\r\n      \r\n      // 转换为统一格式\r\n      const normalizedResponse = {\r\n        success: response.success !== undefined ? response.success : true,\r\n        message: getResponseMessage(response, '邀请码有效'),\r\n        data: {\r\n          code: inviteCode,\r\n          creator: {\r\n            id: response.inviterId,\r\n            nickName: response.inviterNickName,\r\n            avatarUrl: response.inviterAvatarUrl\r\n          },\r\n          expireAt: response.expireAt || null\r\n        }\r\n      };\r\n      \r\n      console.log('✅ [数据格式转换] 已将新格式转换为标准格式');\r\n      console.log('📦 [转换后的数据]', JSON.stringify(normalizedResponse, null, 2));\r\n      return normalizedResponse;\r\n    }\r\n    \r\n    // 如果都不匹配，返回错误\r\n    console.warn('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');\r\n    console.warn('⚠️ [情侣关系API] 响应数据格式异常');\r\n    console.warn('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');\r\n    console.warn('📦 [响应数据]', response);\r\n    console.warn('📦 [响应数据类型]', typeof response);\r\n    if (response && typeof response === 'object') {\r\n      console.warn('📦 [响应数据字段]', Object.keys(response).join(', '));\r\n    }\r\n    console.warn('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');\r\n    return { success: false, message: getResponseMessage(response, '邀请码验证失败') };\r\n  }).catch(error => {\r\n    console.error('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');\r\n    console.error('❌ [情侣关系API] 验证邀请码失败');\r\n    console.error('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');\r\n    console.error('📝 [输入的邀请码]', inviteCode);\r\n    console.error('📝 [邀请码类型]', typeof inviteCode);\r\n    console.error('📝 [邀请码长度]', inviteCode ? inviteCode.length : 0);\r\n    console.error('🔴 [错误对象]', error);\r\n    console.error('🔴 [错误类型]', typeof error);\r\n    console.error('🔴 [错误消息]', error?.message);\r\n    console.error('🔴 [错误状态码]', error?.statusCode);\r\n    console.error('🔴 [错误数据]', error?.data);\r\n    console.error('🔴 [错误响应数据]', error?.responseData);\r\n    if (error && typeof error === 'object') {\r\n      console.error('🔴 [错误对象字段列表]', Object.keys(error).join(', '));\r\n    }\r\n    if (error?.stack) {\r\n      console.error('🔴 [错误堆栈]', error.stack);\r\n    }\r\n    console.error('⏰ [错误时间]', new Date().toLocaleString());\r\n    console.error('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');\r\n    throw error;\r\n  });\r\n}\r\n\r\n/**\r\n * 接受邀请（建立情侣关系）\r\n * @param {string} inviteCode - 邀请码\r\n * @returns {Promise<Object>} 返回绑定结果\r\n * \r\n * 后端接口要求：\r\n * - 请求方法：POST\r\n * - 请求地址：/api/couple/bind/accept\r\n * - 请求头：需携带 Authorization token\r\n * - 请求参数：\r\n *   {\r\n *     inviteCode: \"邀请码\",\r\n *     userId: \"被邀请用户ID\"\r\n *   }\r\n * - 返回数据格式：\r\n *   {\r\n *     \"msg\": \"邀请成功\",\r\n *     \"code\": 200,\r\n *     \"data\": {\r\n *       // 邀请人信息\r\n *     }\r\n *   }\r\n */\r\nexport function acceptInvite(inviteCode) {\r\n  const url = config.API.COUPLE.BIND_ACCEPT;\r\n  const fullUrl = config.baseURL + url;\r\n  \r\n  console.log('🔗 [情侣关系API] 开始接受邀请');\r\n  console.log('📍 请求地址:', fullUrl);\r\n  console.log('📋 请求方法: POST');\r\n  console.log('📝 邀请码:', inviteCode);\r\n  console.log('⏰ 请求时间:', new Date().toLocaleString());\r\n  \r\n  // 先获取userId，然后发送请求\r\n  return getCurrentUserId().then(userId => {\r\n    console.log('👤 被邀请用户ID:', userId);\r\n    console.log('📤 请求参数: { inviteCode:', inviteCode, ', userId:', userId, '}');\r\n    \r\n    return http.post(url, { inviteCode, userId }).then(response => {\r\n      console.log('✅ [情侣关系API] 接受邀请成功');\r\n      console.log('📦 响应数据:', response);\r\n      \r\n      // 先检查响应码，如果是错误码（非200），应该抛出错误（特别是401认证失败）\r\n      if (response && typeof response === 'object' && response.code !== undefined && response.code !== 200) {\r\n        const errorMsg = response.msg || response.message || '请求失败';\r\n        console.error('❌ [情侣关系API] 后端返回错误码:', response.code);\r\n        console.error('❌ 错误信息:', errorMsg);\r\n        // 对于401认证失败等严重错误，直接抛出错误\r\n        if (response.code === 401 || response.code === 403) {\r\n          throw new Error(errorMsg);\r\n        }\r\n        // 其他错误码（如业务错误）返回失败状态\r\n        return {\r\n          success: false,\r\n          message: errorMsg,\r\n          data: null,\r\n          code: response.code\r\n        };\r\n      }\r\n      \r\n      const normalizedMessage = getResponseMessage(response, '邀请成功');\r\n      \r\n      if (isMsgCodeSuccess(response)) {\r\n        const inviteData = response?.data || {};\r\n        console.log('👤 邀请人信息:', inviteData);\r\n        \r\n        return {\r\n          success: true,\r\n          message: normalizedMessage,\r\n          data: {\r\n            coupleId: inviteData.coupleId || '',\r\n            partnerInfo: inviteData.partnerInfo || inviteData || {},\r\n            bindTime: inviteData.bindTime || new Date().toISOString()\r\n          }\r\n        };\r\n      }\r\n      \r\n      // 新格式：{ \"msg\": \"邀请成功\", \"code\": 200, \"data\": { // 邀请人信息 } }\r\n      if (response && response.code === 200 && response.data) {\r\n        // 如果 data 是邀请人信息对象，转换为标准格式\r\n        const inviteData = response.data;\r\n        console.log(`👤 邀请人信息:`, inviteData);\r\n        \r\n        // 转换为标准格式，兼容页面期望的数据结构\r\n        return {\r\n          success: true,\r\n          message: normalizedMessage,\r\n          data: {\r\n            coupleId: inviteData.coupleId || '',\r\n            partnerInfo: inviteData.partnerInfo || inviteData || {},\r\n            bindTime: inviteData.bindTime || new Date().toISOString()\r\n          }\r\n        };\r\n      }\r\n      // 兼容旧格式：response.data 包含 coupleId 和 partnerInfo\r\n      else if (response && response.data) {\r\n        console.log(`💑 关系ID: ${response.data.coupleId || '未知'}`);\r\n        console.log(`👤 对方昵称: ${response.data.partnerInfo?.nickName || '未知'}`);\r\n        return response;\r\n      }\r\n      // 兼容直接返回关系信息的情况\r\n      else if (response && response.coupleId) {\r\n        console.log(`💑 关系ID: ${response.coupleId}`);\r\n        return { success: true, data: response };\r\n      }\r\n      // 其他格式\r\n      else {\r\n        console.warn('⚠️ 响应数据格式异常:', response);\r\n        return {\r\n          success: response.code === 200 || response.success !== false,\r\n          message: normalizedMessage || '邀请成功',\r\n          data: response.data || {}\r\n        };\r\n      }\r\n    });\r\n  }).catch(error => {\r\n    console.error('❌ [情侣关系API] 接受邀请失败');\r\n    console.error('🔴 错误信息:', error);\r\n    throw error;\r\n  });\r\n}\r\n\r\n/**\r\n * 查询绑定状态\r\n * @returns {Promise<Object>} 返回绑定状态信息\r\n * \r\n * 后端接口要求：\r\n * - 请求方法：GET\r\n * - 请求地址：/api/couple/status\r\n * - 请求头：需携带 Authorization token\r\n * - 返回数据格式：\r\n *   {\r\n *     success: true,\r\n *     data: {\r\n *       isBound: true,\r\n *       coupleId: \"couple_123456\",\r\n *       partnerInfo: {\r\n *         userId: \"user_789\",\r\n *         nickName: \"对方昵称\",\r\n *         avatarUrl: \"头像URL\",\r\n *         displayName: \"显示昵称\",\r\n *         displayAvatar: \"显示头像\"\r\n *       },\r\n *       bindTime: \"2024-01-15T10:30:00Z\",\r\n *       role: \"initiator\"\r\n *     }\r\n *   }\r\n */\r\nexport function getCoupleStatus() {\r\n  const url = config.API.COUPLE.STATUS;\r\n  const fullUrl = config.baseURL + url;\r\n  \r\n  console.log('🔗 [情侣关系API] 开始查询绑定状态');\r\n  console.log('📍 请求地址:', fullUrl);\r\n  console.log('📋 请求方法: GET');\r\n  console.log('⏰ 请求时间:', new Date().toLocaleString());\r\n  \r\n  return http.get(url).then(response => {\r\n    console.log('✅ [情侣关系API] 查询绑定状态成功');\r\n    console.log('📦 响应数据:', response);\r\n    \r\n    // 先检查响应码，如果是错误码（非200），应该抛出错误\r\n    if (response && typeof response === 'object' && response.code !== undefined && response.code !== 200) {\r\n      const errorMsg = response.msg || response.message || '请求失败';\r\n      console.error('❌ [情侣关系API] 后端返回错误码:', response.code);\r\n      console.error('❌ 错误信息:', errorMsg);\r\n      throw new Error(errorMsg);\r\n    }\r\n    \r\n    if (response && response.data) {\r\n      const status = response.data;\r\n      console.log('📊 绑定状态:');\r\n      console.log(`   - 是否已绑定: ${status.isBound ? '是' : '否'}`);\r\n      if (status.isBound) {\r\n        console.log(`   - 关系ID: ${status.coupleId}`);\r\n        console.log(`   - 对方昵称: ${status.partnerInfo?.nickName || '未知'}`);\r\n        console.log(`   - 绑定时间: ${status.bindTime || '未知'}`);\r\n      }\r\n      return response;\r\n    } else if (response && (response.isBound !== undefined || response.coupleId)) {\r\n      // 兼容直接返回状态的情况\r\n      return { success: true, data: response };\r\n    } else if (response && (response.isCouple !== undefined)) {\r\n      // 兼容后端返回 isCouple 字段的情况\r\n      console.log('📊 绑定状态:');\r\n      console.log(`   - 是否已绑定: ${response.isCouple ? '是' : '否'}`);\r\n      return {\r\n        success: response.success !== false,\r\n        message: response.message || '查询成功',\r\n        data: {\r\n          isBound: response.isCouple,\r\n          coupleId: response.coupleId || null,\r\n          partnerInfo: response.partnerInfo || null,\r\n          bindTime: response.bindTime || null,\r\n          role: response.role || null\r\n        }\r\n      };\r\n    } else if (response && response.msg && (response.msg.includes('未找到情侣关系') || response.msg.includes('没有情侣关系') || response.msg.includes('未绑定'))) {\r\n      // 兼容后端返回 {msg: \"未找到情侣关系\", code: 200} 的格式\r\n      // 这是正常的业务状态（未绑定），不是错误\r\n      console.log('📊 绑定状态: 未绑定（后端返回未找到情侣关系）');\r\n      return {\r\n        success: true,\r\n        message: response.msg || '未找到情侣关系',\r\n        data: {\r\n          isBound: false,\r\n          coupleId: null,\r\n          partnerInfo: null,\r\n          bindTime: null,\r\n          role: null\r\n        }\r\n      };\r\n    } else {\r\n      console.warn('⚠️ 响应数据格式异常:', response);\r\n      return { success: true, data: { isBound: false } };\r\n    }\r\n  }).catch(error => {\r\n    console.error('❌ [情侣关系API] 查询绑定状态失败');\r\n    console.error('🔴 错误信息:', error);\r\n    throw error;\r\n  });\r\n}\r\n\r\n/**\r\n * 解绑关系\r\n * @returns {Promise<Object>} 返回解绑结果\r\n * \r\n * 后端接口要求：\r\n * - 请求方法：POST\r\n * - 请求地址：/api/couple/unbind\r\n * - 请求头：需携带 Authorization token\r\n * - 返回数据格式：\r\n *   {\r\n *     success: true,\r\n *     message: \"解绑成功\"\r\n *   }\r\n */\r\nexport function unbindCouple() {\r\n  const url = config.API.COUPLE.UNBIND;\r\n  const fullUrl = config.baseURL + url;\r\n  \r\n  console.log('🔗 [情侣关系API] 开始解绑关系');\r\n  console.log('📍 请求地址:', fullUrl);\r\n  console.log('📋 请求方法: POST');\r\n  console.log('⏰ 请求时间:', new Date().toLocaleString());\r\n  \r\n  return http.post(url).then(response => {\r\n    console.log('✅ [情侣关系API] 解绑关系成功');\r\n    console.log('📦 响应数据:', response);\r\n    return response;\r\n  }).catch(error => {\r\n    // 如果错误消息是\"没有情侣关系\"，说明已经达到解绑的目的（没有关系可解）\r\n    // 这种情况可以视为成功，因为目标就是解除关系\r\n    const errorMessage = error.message || (error.data && error.data.message) || '';\r\n    \r\n    if (errorMessage.includes('没有情侣关系') || errorMessage.includes('未绑定') || errorMessage.includes('不存在')) {\r\n      console.warn('⚠️ [情侣关系API] 解绑时检测到\"没有情侣关系\"，视为成功');\r\n      console.warn('💡 说明：没有关系可解，目标已达成');\r\n      return {\r\n        success: true,\r\n        message: '已解除关系（原本没有情侣关系）',\r\n        data: null\r\n      };\r\n    }\r\n    \r\n    console.error('❌ [情侣关系API] 解绑关系失败');\r\n    console.error('🔴 错误信息:', error);\r\n    throw error;\r\n  });\r\n}\r\n\r\n/**\r\n * 获取相爱天数\r\n * @returns {Promise<Object>} 返回相爱天数信息\r\n * \r\n * 后端接口要求：\r\n * - 请求方法：GET\r\n * - 请求地址：/api/couple/love-days\r\n * - 请求头：需携带 Authorization token\r\n * - 返回数据格式：\r\n *   {\r\n *     success: true,\r\n *     message: \"获取相爱天数成功\",\r\n *     data: {\r\n *       loveDays: 150,\r\n *       anniversaryDate: \"2025-06-10\",\r\n *       relationshipName: \"我的宝贝\"\r\n *     }\r\n *   }\r\n */\r\nexport function getLoveDays() {\r\n  const url = config.API.COUPLE.LOVE_DAYS;\r\n  const fullUrl = config.baseURL + url;\r\n  \r\n  console.log('🔗 [情侣关系API] 开始获取相爱天数');\r\n  console.log('📍 请求地址:', fullUrl);\r\n  console.log('📋 请求方法: GET');\r\n  console.log('⏰ 请求时间:', new Date().toLocaleString());\r\n  \r\n  return http.get(url).then(response => {\r\n    console.log('✅ [情侣关系API] 获取相爱天数成功');\r\n    console.log('📦 响应数据:', response);\r\n    \r\n    if (response && response.data) {\r\n      const loveDaysData = response.data;\r\n      console.log('📊 相爱天数信息:');\r\n      console.log(`   - 相爱天数: ${loveDaysData.loveDays || '未知'}`);\r\n      console.log(`   - 纪念日: ${loveDaysData.anniversaryDate || '未知'}`);\r\n      console.log(`   - 关系名称: ${loveDaysData.relationshipName || '未知'}`);\r\n      return response;\r\n    } else if (response && (response.loveDays !== undefined || response.anniversaryDate)) {\r\n      // 兼容直接返回数据的情况\r\n      return { success: true, data: response };\r\n    } else {\r\n      console.warn('⚠️ 响应数据格式异常:', response);\r\n      return response;\r\n    }\r\n  }).catch(error => {\r\n    console.error('❌ [情侣关系API] 获取相爱天数失败');\r\n    console.error('🔴 错误信息:', error);\r\n    throw error;\r\n  });\r\n}\r\n\r\n"],"names":["uni","getUserInfoFromAuth","getUserInfoFromAPI","config","http"],"mappings":"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"}