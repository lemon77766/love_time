{"version":3,"file":"index.js","sources":["subPackages/interaction/pages/hundred/index.vue","D:/softcaree/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFja2FnZXNcaW50ZXJhY3Rpb25ccGFnZXNcaHVuZHJlZFxpbmRleC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"hundred-page\" :style=\"{ paddingTop: containerPaddingTop }\">\r\n    <!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->\r\n    <view class=\"custom-navbar\">\r\n      <!-- æ¸å˜èƒŒæ™¯ -->\r\n      <view class=\"navbar-gradient-bg\"></view>\r\n      <!-- çŠ¶æ€æ å ä½ -->\r\n      <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\r\n      <!-- å¯¼èˆªæ å†…å®¹ -->\r\n      <view class=\"navbar-content\" :style=\"{ height: navBarHeight + 'px' }\">\r\n        <view class=\"navbar-left\" @click=\"goBack\">\r\n          <text class=\"back-icon\">â†</text>\r\n        </view>\r\n        <view class=\"navbar-title\">\r\n          <text class=\"title-text\">ä¸€ç™¾ä»¶å°äº‹</text>\r\n        </view>\r\n        <view class=\"navbar-right\"></view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- æ ‡é¢˜å’Œè¿›åº¦ -->\r\n    <view class=\"header-section\">\r\n      <text class=\"main-title\">æƒ…ä¾£100ä»¶å°äº‹æŒ‘æˆ˜</text>\r\n      <view class=\"progress-area\">\r\n        <view class=\"progress-bar\">\r\n          <view class=\"progress-fill\" :style=\"{ width: progressPercent + '%' }\"></view>\r\n        </view>\r\n        <text class=\"progress-text\">{{ doneCount }}/100</text>\r\n        <view class=\"filter-dropdown\" @click=\"toggleDropdown\">\r\n          <text class=\"filter-label\">{{ filterText }}</text>\r\n          <text class=\"dropdown-icon\">{{ showDropdown ? 'â–²' : 'â–¼' }}</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- ä¸‹æ‹‰èœå• -->\r\n      <view v-if=\"showDropdown\" class=\"dropdown-menu\">\r\n        <view \r\n          v-for=\"option in filterOptions\" \r\n          :key=\"option.value\" \r\n          class=\"dropdown-item\"\r\n          :class=\"{ active: filterMode === option.value }\"\r\n          @click=\"selectFilter(option.value)\"\r\n        >\r\n          <text class=\"item-label\">{{ option.label }}</text>\r\n          <text v-if=\"filterMode === option.value\" class=\"check-icon\">âœ“</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- äº‹ä»¶ç½‘æ ¼ -->\r\n    <view class=\"event-grid\">\r\n      <view v-for=\"(item, i) in displayItems\" :key=\"item.id\" class=\"event-card\">\r\n        <!-- æ“ä½œæŒ‰é’®ç»„ -->\r\n        <view class=\"action-buttons\">\r\n          <!-- åˆ é™¤æŒ‰é’® -->\r\n          <view class=\"delete-icon\" @click.stop=\"deleteEvent(item)\">\r\n            <text>ğŸ—‘ï¸</text>\r\n          </view>\r\n          <!-- æ”¶è—æ ‡è®° -->\r\n          <view class=\"favorite-icon\" @click.stop=\"toggleFavorite(item)\">\r\n            <text :class=\"{ 'favorite-active': item.favorite }\">{{ item.favorite ? 'â˜…' : 'â˜†' }}</text>\r\n          </view>\r\n        </view>\r\n        \r\n        <!-- å›¾ç‰‡åŒºåŸŸ -->\r\n        <view class=\"event-image\" @click=\"handleEventClick(item)\">\r\n          <image v-if=\"item.image\" :src=\"item.image\" mode=\"aspectFill\" @error=\"onImageError\"\r\n\t\t\t@load=\"onImageLoad\" ></image>\r\n          <view v-else class=\"placeholder-icon\">ğŸ“¸+</view>\r\n        </view>\r\n        \r\n        <!-- æ ‡é¢˜åŒºåŸŸ -->\r\n        <view class=\"event-title-wrapper\" @click=\"handleEventClick(item)\" @longpress=\"openEdit(item)\">\r\n          <text class=\"event-title\" :class=\"{ done: item.done }\">{{ item.text }}</text>\r\n          <!-- å®Œæˆè®°å½•æŒ‡ç¤ºå™¨ -->\r\n          <view v-if=\"item.done && item.hasRecord\" class=\"record-indicator\" @click.stop=\"openRecordDetail(item)\">\r\n            <text class=\"record-icon\">ğŸ“</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- å³ä¸‹æ·»åŠ æŒ‰é’® -->\r\n    <view class=\"fab-add\" @click=\"openAdd\">\r\n      <text class=\"fab-icon\">+</text>\r\n    </view>\r\n\r\n    <!-- æ·»åŠ å¼¹çª— -->\r\n    <view v-if=\"showAdd\" class=\"modal-mask\" @click=\"closeAdd\">\r\n      <view class=\"modal\" @click.stop>\r\n        <text class=\"modal-title\">æ·»åŠ å°äº‹</text>\r\n        <view class=\"form\">\r\n          <input class=\"input\" v-model=\"form.text\" placeholder=\"ä¾‹å¦‚ï¼šä¸€èµ·çœ‹æ—¥å‡º\" />\r\n        </view>\r\n        <view class=\"modal-actions\">\r\n          <button class=\"btn secondary\" @click=\"closeAdd\">å–æ¶ˆ</button>\r\n          <button class=\"btn primary\" @click=\"saveItem\">ä¿å­˜</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ç¼–è¾‘å¼¹çª— -->\r\n    <view v-if=\"showEdit\" class=\"modal-mask\" @click=\"closeEdit\">\r\n      <view class=\"modal\" @click.stop>\r\n        <text class=\"modal-title\">ç¼–è¾‘å°äº‹</text>\r\n        <view class=\"form\">\r\n          <input class=\"input\" v-model=\"editForm.text\" placeholder=\"ä¿®æ”¹äº‹ä»¶åç§°\" />\r\n        </view>\r\n        <view class=\"modal-actions\">\r\n          <button class=\"btn danger\" @click=\"confirmDelete(editForm)\">åˆ é™¤</button>\r\n          <button class=\"btn secondary\" @click=\"closeEdit\">å–æ¶ˆ</button>\r\n          <button class=\"btn primary\" @click=\"saveEdit\">ä¿å­˜</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- å®Œæˆè®°å½•å¼¹çª— -->\r\n    <view v-if=\"showRecordModal\" class=\"modal-mask\" @click=\"closeRecordModal\">\r\n      <view class=\"record-modal\" @click.stop>\r\n        <text class=\"modal-title\">{{ recordModal.mode === 'add' ? 'è®°å½•å®Œæˆæ—¶åˆ»' : 'æŸ¥çœ‹è®°å½•' }}</text>\r\n        \r\n        <scroll-view class=\"record-form\" scroll-y=\"true\">\r\n          <!-- ç…§ç‰‡åŒºåŸŸ -->\r\n          <view class=\"record-section\">\r\n            <text class=\"section-title\">ç…§ç‰‡è®°å½•</text>\r\n            <view class=\"photo-section\" @click=\"uploadRecordImage\">\r\n              <image v-if=\"recordModal.photoUrl\" :src=\"recordModal.photoUrl\" mode=\"aspectFill\" class=\"record-photo\" />\r\n              <view v-else class=\"photo-placeholder\">\r\n                <text class=\"placeholder-icon\">ğŸ“¸</text>\r\n                <text class=\"placeholder-text\">ç‚¹å‡»ä¸Šä¼ ç…§ç‰‡</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n\r\n          <!-- æ—¶é—´åœ°ç‚¹ -->\r\n          <view class=\"record-section\">\r\n            <text class=\"section-title\">æ—¶é—´åœ°ç‚¹</text>\r\n            <view class=\"form-row\">\r\n              <view class=\"form-item half\">\r\n                <text class=\"form-label\">å®Œæˆæ—¥æœŸ</text>\r\n                <picker mode=\"date\" :value=\"recordModal.completedDate\" @change=\"onRecordDateChange\">\r\n                  <view class=\"form-input\">{{ recordModal.completedDate || 'é€‰æ‹©æ—¥æœŸ' }}</view>\r\n                </picker>\r\n              </view>\r\n              <view class=\"form-item half\">\r\n                <text class=\"form-label\">å®Œæˆæ—¶é—´</text>\r\n                <picker mode=\"time\" :value=\"recordModal.completedTime\" @change=\"onRecordTimeChange\">\r\n                  <view class=\"form-input\">{{ recordModal.completedTime || 'é€‰æ‹©æ—¶é—´' }}</view>\r\n                </picker>\r\n              </view>\r\n            </view>\r\n            <view class=\"form-item\">\r\n              <text class=\"form-label\">å®Œæˆåœ°ç‚¹</text>\r\n              <input class=\"form-input\" v-model=\"recordModal.location\" placeholder=\"è®°å½•ç¾å¥½çš„å‘ç”Ÿåœ°\" />\r\n            </view>\r\n            <view class=\"form-item\">\r\n              <text class=\"form-label\">å¤©æ°”çŠ¶å†µ</text>\r\n              <picker :range=\"weatherOptions\" @change=\"onWeatherChange\">\r\n                <view class=\"form-input\">{{ recordModal.weather || 'é€‰æ‹©å¤©æ°”' }}</view>\r\n              </picker>\r\n            </view>\r\n          </view>\r\n\r\n          <!-- æ„Ÿå—è¯„åˆ† -->\r\n          <view class=\"record-section\">\r\n            <text class=\"section-title\">æ„Ÿå—è¯„ä»·</text>\r\n            <view class=\"form-item\">\r\n              <text class=\"form-label\">å¿ƒæƒ…æ„Ÿå—</text>\r\n              <textarea class=\"form-textarea\" v-model=\"recordModal.feeling\" \r\n                placeholder=\"è®°å½•å½“æ—¶çš„å¿ƒæƒ…å’Œæ„Ÿå—...\" \r\n                maxlength=\"200\" />\r\n              <text class=\"char-count\">{{ (recordModal.feeling || '').length }}/200</text>\r\n            </view>\r\n          </view>\r\n        </scroll-view>\r\n\r\n        <view class=\"modal-actions\">\r\n          <button class=\"btn secondary\" @click=\"closeRecordModal\">å–æ¶ˆ</button>\r\n          <button v-if=\"recordModal.mode === 'add'\" class=\"btn primary\" @click=\"saveRecord\">ä¿å­˜è®°å½•</button>\r\n          <button v-else class=\"btn primary\" @click=\"editRecord\">ç¼–è¾‘è®°å½•</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- è®°å½•è¯¦æƒ…å¼¹çª— -->\r\n    <view v-if=\"showDetailModal\" class=\"modal-mask\" @click=\"closeDetailModal\">\r\n      <view class=\"detail-modal\" @click.stop>\r\n        <text class=\"modal-title\">å®Œæˆè®°å½•è¯¦æƒ…</text>\r\n        \r\n        <scroll-view class=\"detail-content\" scroll-y=\"true\">\r\n          <!-- ç…§ç‰‡å±•ç¤º -->\r\n          <view v-if=\"detailModal.photoUrl\" class=\"detail-section\">\r\n            <image :src=\"detailModal.photoUrl\" mode=\"aspectFill\" class=\"detail-photo\" @click=\"previewImage(detailModal.photoUrl)\" />\r\n          </view>\r\n\r\n          <!-- åŸºæœ¬ä¿¡æ¯ -->\r\n          <view class=\"detail-section\">\r\n            <view class=\"detail-info\">\r\n              <text class=\"info-label\">å®Œæˆæ—¶é—´ï¼š</text>\r\n              <text class=\"info-value\">{{ detailModal.completedDate }} {{ detailModal.completedTime }}</text>\r\n            </view>\r\n            <view v-if=\"detailModal.location\" class=\"detail-info\">\r\n              <text class=\"info-label\">åœ°ç‚¹ï¼š</text>\r\n              <text class=\"info-value\">{{ detailModal.location }}</text>\r\n            </view>\r\n            <view v-if=\"detailModal.weather\" class=\"detail-info\">\r\n              <text class=\"info-label\">å¤©æ°”ï¼š</text>\r\n              <text class=\"info-value\">{{ detailModal.weather }}</text>\r\n            </view>\r\n          </view>\r\n\r\n          <!-- æ„Ÿå—æè¿° -->\r\n          <view v-if=\"detailModal.feeling\" class=\"detail-section\">\r\n            <view class=\"detail-info\">\r\n              <text class=\"info-label\">æ„Ÿå—ï¼š</text>\r\n              <text class=\"info-value\">{{ detailModal.feeling }}</text>\r\n            </view>\r\n          </view>\r\n        </scroll-view>\r\n\r\n        <view class=\"modal-actions\">\r\n          <button class=\"btn secondary\" @click=\"editExistingRecord\">ç¼–è¾‘è®°å½•</button>\r\n          <button class=\"btn primary\" @click=\"closeDetailModal\">å…³é—­</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { getTasks, addTask, deleteTask, completeTask, favoriteTask, uploadChallengePhoto } from '@/api/hundred.js';\r\nimport config from '@/utils/config.js';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      statusBarHeight: 0,\r\n      navBarHeight: 44,\r\n      screenWidth: 375,\r\n      items: [],\r\n      showAdd: false,\r\n      showEdit: false,\r\n      form: { text: '' },\r\n      editForm: null,\r\n      filterMode: 'all', // 'all', 'done', 'todo', 'favorite'\r\n      showDropdown: false,\r\n      loading: false, // åŠ è½½çŠ¶æ€\r\n      filterOptions: [\r\n        { label: 'å…¨éƒ¨', value: 'all' },\r\n        { label: 'å¾…å®Œæˆ', value: 'todo' },\r\n        { label: 'å·²å®Œæˆ', value: 'done' },\r\n        { label: 'å·²æ”¶è—', value: 'favorite' }\r\n      ],\r\n      // è®°å½•å¼¹çª—ç›¸å…³\r\n      showRecordModal: false,\r\n      recordModal: {\r\n        mode: 'add', // 'add' | 'edit'\r\n        taskId: null,\r\n        photoUrl: '',\r\n        completedDate: '',\r\n        completedTime: '',\r\n        location: '',\r\n        weather: '',\r\n        feeling: ''\r\n      },\r\n      // è¯¦æƒ…å¼¹çª—ç›¸å…³\r\n      showDetailModal: false,\r\n      detailModal: {},\r\n      // é¢„è®¾é€‰é¡¹\r\n      weatherOptions: ['æ™´å¤©', 'å¤šäº‘', 'é˜´å¤©', 'å°é›¨', 'ä¸­é›¨', 'å¤§é›¨', 'é›ªå¤©', 'é›¾å¤©', 'å¤§é£', 'å…¶ä»–']\r\n    };\r\n  },\r\n  computed: {\r\n    containerPaddingTop() {\r\n      const totalHeightPx = this.statusBarHeight + this.navBarHeight;\r\n      const pxToRpx = 750 / this.screenWidth;\r\n      const totalHeightRpx = totalHeightPx * pxToRpx;\r\n      return totalHeightRpx + 'rpx';\r\n    },\r\n    doneCount() {\r\n      return this.items.filter(item => item.done).length;\r\n    },\r\n    progressPercent() {\r\n      return this.items.length > 0 ? (this.doneCount / 100) * 100 : 0;\r\n    },\r\n    displayItems() {\r\n      if (this.filterMode === 'done') return this.items.filter(item => item.done);\r\n      if (this.filterMode === 'todo') return this.items.filter(item => !item.done);\r\n      if (this.filterMode === 'favorite') return this.items.filter(item => item.favorite);\r\n      return this.items;\r\n    },\r\n    filterText() {\r\n      if (this.filterMode === 'all') return 'å…¨éƒ¨';\r\n      if (this.filterMode === 'done') return 'å·²å®Œæˆ';\r\n      if (this.filterMode === 'todo') return 'å¾…å®Œæˆ';\r\n      if (this.filterMode === 'favorite') return 'å·²æ”¶è—';\r\n      return 'å…¨éƒ¨';\r\n    },\r\n\tonImageError(e) {\r\n\t    console.log('------å›¾ç‰‡åŠ è½½å¤±è´¥:', e)\r\n\t  },\r\n  },\r\n  mounted() {\r\n    this.getSystemInfo();\r\n    // ä¸å†å¼ºåˆ¶è¦æ±‚ç™»å½•ï¼Œå…è®¸ç”¨æˆ·å…ˆæµè§ˆé¡µé¢\r\n    // åœ¨ç”¨æˆ·å°è¯•æ‰§è¡Œéœ€è¦ç™»å½•çš„æ“ä½œæ—¶å†æ£€æŸ¥ç™»å½•çŠ¶æ€\r\n    \r\n    // æ£€æŸ¥æ˜¯å¦ä¸ºæ¸¸å®¢ç”¨æˆ·\r\n    const loginInfo = uni.getStorageSync('login_info');\r\n    const isGuest = !loginInfo || loginInfo.isGuest || !loginInfo.isLoggedIn;\r\n    \r\n    if (isGuest) {\r\n      // æ¸¸å®¢æ¨¡å¼ï¼šä½¿ç”¨é»˜è®¤æ•°æ®ï¼Œä¸è°ƒç”¨API\r\n      console.log('ğŸ‘¤ æ¸¸å®¢æ¨¡å¼ï¼šä½¿ç”¨é»˜è®¤äº‹ä»¶åˆ—è¡¨');\r\n      this.useGuestMode();\r\n    } else {\r\n      // ç™»å½•ç”¨æˆ·ï¼šä»åç«¯åŠ è½½æ•°æ®\r\n      try {\r\n        this.loadItemsFromBackend();\r\n      } catch (error) {\r\n        console.error('åŠ è½½æœåŠ¡å™¨æ•°æ®å¤±è´¥:', error);\r\n        // å¦‚æœåŠ è½½å¤±è´¥ï¼Œå›é€€åˆ°æ¸¸å®¢æ¨¡å¼\r\n        this.useGuestMode();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // æ¸¸å®¢æ¨¡å¼ï¼šä½¿ç”¨é»˜è®¤æ•°æ®\r\n    useGuestMode() {\r\n      // è®¾ç½®é»˜è®¤äº‹ä»¶åˆ—è¡¨\r\n      this.items = [\r\n        { id: 1, text: 'ä¸€èµ·çœ‹æ—¥å‡º', completed: false, image: '', favorite: false },\r\n        { id: 2, text: 'ä¸€èµ·åšä¸€é¡¿é¥­', completed: false, image: '', favorite: false },\r\n        { id: 3, text: 'ä¸€èµ·çœ‹ç”µå½±', completed: false, image: '', favorite: false },\r\n        { id: 4, text: 'ä¸€èµ·é€›å…¬å›­', completed: false, image: '', favorite: false },\r\n        { id: 5, text: 'ä¸€èµ·æ—…è¡Œ', completed: false, image: '', favorite: false },\r\n        { id: 6, text: 'ä¸€èµ·æ‹åˆç…§', completed: false, image: '', favorite: false }\r\n      ];\r\n      \r\n      console.log('âœ… æ¸¸å®¢æ¨¡å¼åˆå§‹åŒ–å®Œæˆ');\r\n    },\r\n\r\n    // æ£€æŸ¥æ˜¯å¦éœ€è¦ç™»å½•\r\n    checkLoginRequired() {\r\n      const loginInfo = uni.getStorageSync('login_info');\r\n      // å¦‚æœæ˜¯æ¸¸å®¢ç”¨æˆ·ï¼Œæç¤ºéœ€è¦ç™»å½•\r\n      if (!loginInfo || loginInfo.isGuest || !loginInfo.isLoggedIn) {\r\n        uni.showModal({\r\n          title: 'éœ€è¦ç™»å½•',\r\n          content: 'è¯¥åŠŸèƒ½éœ€è¦ç™»å½•åæ‰èƒ½ä½¿ç”¨ï¼Œæ˜¯å¦å‰å¾€ç™»å½•ï¼Ÿ\\n\\næ‚¨ä»ç„¶å¯ä»¥ç»§ç»­æµè§ˆé¡µé¢åŠŸèƒ½ã€‚',\r\n          confirmText: 'å»ç™»å½•',\r\n          cancelText: 'ç»§ç»­æµè§ˆ',\r\n          success: (res) => {\r\n            if (res.confirm) {\r\n              uni.navigateTo({\r\n                url: '/pages/login/index'\r\n              });\r\n            }\r\n          }\r\n        });\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    \r\n    goBack() {\r\n      uni.navigateBack();\r\n    },\r\n    getSystemInfo() {\r\n      // ä½¿ç”¨æ–°çš„ API æ›¿ä»£å·²å¼ƒç”¨çš„ getSystemInfoSync\r\n      // #ifdef MP-WEIXIN\r\n      try {\r\n        // å°è¯•ä½¿ç”¨æ–° API\r\n        const windowInfo = wx.getWindowInfo && wx.getWindowInfo();\r\n        const deviceInfo = wx.getDeviceInfo && wx.getDeviceInfo();\r\n        \r\n        if (windowInfo && deviceInfo) {\r\n          this.statusBarHeight = windowInfo.statusBarHeight || 0;\r\n          this.screenWidth = windowInfo.windowWidth || 375;\r\n        } else {\r\n          // é™çº§åˆ°æ—§ API\r\n          const sysInfo = uni.getSystemInfoSync();\r\n          this.statusBarHeight = sysInfo.statusBarHeight || 0;\r\n          this.screenWidth = sysInfo.windowWidth || 375;\r\n        }\r\n      } catch (e) {\r\n        // å¦‚æœæ–° API ä¸æ”¯æŒï¼Œé™çº§åˆ°æ—§ API\r\n        const sysInfo = uni.getSystemInfoSync();\r\n        this.statusBarHeight = sysInfo.statusBarHeight || 0;\r\n        this.screenWidth = sysInfo.windowWidth || 375;\r\n      }\r\n      this.navBarHeight = 44;\r\n      // #endif\r\n      // #ifdef H5\r\n      const sysInfoH5 = uni.getSystemInfoSync();\r\n      this.statusBarHeight = sysInfoH5.statusBarHeight || 0;\r\n      this.screenWidth = sysInfoH5.windowWidth || 375;\r\n      this.navBarHeight = 44;\r\n      // #endif\r\n      // #ifndef MP-WEIXIN || H5\r\n      const sysInfoOther = uni.getSystemInfoSync();\r\n      this.statusBarHeight = sysInfoOther.statusBarHeight || 0;\r\n      this.screenWidth = sysInfoOther.windowWidth || 375;\r\n      this.navBarHeight = 44;\r\n      // #endif\r\n    },\r\n    /**\r\n     * ä»åç«¯åŠ è½½ä»»åŠ¡åˆ—è¡¨\r\n     * åŒ…å«è¯¦ç»†çš„å‰åç«¯è¿æ¥æ—¥å¿—\r\n     */\r\n    async loadItemsFromBackend() {\r\n      console.log('ğŸš€ [ä¸€ç™¾ä»¶äº‹] ========== å¼€å§‹åŠ è½½ä»»åŠ¡åˆ—è¡¨ ==========');\r\n      console.log('ğŸ“± [å‰ç«¯] é¡µé¢åˆå§‹åŒ–ï¼Œå‡†å¤‡ä»åç«¯è·å–æ•°æ®');\r\n      console.log('â° [æ—¶é—´]', new Date().toLocaleString());\r\n      \r\n      this.loading = true;\r\n      \r\n      try {\r\n        console.log('ğŸ“¡ [å‰ç«¯] è°ƒç”¨ getTasks() API');\r\n        const response = await getTasks();\r\n        \r\n        console.log('âœ… [å‰ç«¯] æ”¶åˆ°åç«¯å“åº”');\r\n        console.log('ğŸ“¦ [å“åº”] åŸå§‹æ•°æ®:', JSON.stringify(response, null, 2));\r\n        \r\n        // å¤„ç†å“åº”æ•°æ®\r\n        let tasks = [];\r\n        if (response && response.tasks) {\r\n          tasks = response.tasks;\r\n          console.log(`ğŸ“Š [æ•°æ®ç»Ÿè®¡] åç«¯è¿”å› ${tasks.length} ä¸ªä»»åŠ¡`);\r\n        } else if (Array.isArray(response)) {\r\n          tasks = response;\r\n          console.log(`ğŸ“Š [æ•°æ®ç»Ÿè®¡] åç«¯è¿”å›æ•°ç»„æ ¼å¼ï¼Œå…± ${tasks.length} ä¸ªä»»åŠ¡`);\r\n        } else {\r\n          console.warn('âš ï¸ [è­¦å‘Š] åç«¯è¿”å›æ•°æ®æ ¼å¼å¼‚å¸¸ï¼Œä½¿ç”¨ç©ºæ•°ç»„');\r\n          tasks = [];\r\n        }\r\n        \r\n        // è½¬æ¢æ•°æ®æ ¼å¼ï¼šåç«¯æ ¼å¼ -> å‰ç«¯æ ¼å¼\r\n        console.log('ğŸ”„ [æ•°æ®è½¬æ¢] å¼€å§‹è½¬æ¢æ•°æ®æ ¼å¼...');\r\n        this.items = tasks.map(task => this.convertBackendToFrontend(task));\r\n        console.log(`âœ… [æ•°æ®è½¬æ¢] è½¬æ¢å®Œæˆï¼Œå…± ${this.items.length} ä¸ªä»»åŠ¡`);\r\n        \r\n        // ä¿å­˜åˆ°æœ¬åœ°ç¼“å­˜ï¼ˆä½œä¸ºå¤‡ä»½ï¼‰\r\n        this.saveItemsToLocal();\r\n        \r\n        console.log('âœ… [ä¸€ç™¾ä»¶äº‹] ========== ä»»åŠ¡åˆ—è¡¨åŠ è½½å®Œæˆ ==========');\r\n        console.log(`ğŸ“Š [æœ€ç»ˆç»“æœ] æ˜¾ç¤º ${this.items.length} ä¸ªä»»åŠ¡`);\r\n        console.log(`   - å·²å®Œæˆ: ${this.items.filter(i => i.done).length} ä¸ª`);\r\n        console.log(`   - å¾…å®Œæˆ: ${this.items.filter(i => !i.done).length} ä¸ª`);\r\n        console.log(`   - å·²æ”¶è—: ${this.items.filter(i => i.favorite).length} ä¸ª`);\r\n        \r\n      } catch (error) {\r\n        console.error('âŒ [ä¸€ç™¾ä»¶äº‹] ========== åŠ è½½ä»»åŠ¡åˆ—è¡¨å¤±è´¥ ==========');\r\n        console.error('ğŸ”´ [é”™è¯¯] è¯¦ç»†ä¿¡æ¯:', error);\r\n        \r\n        // åˆ†æé”™è¯¯ç±»å‹å¹¶ç»™å‡ºé’ˆå¯¹æ€§æç¤º\r\n        const statusCode = error.statusCode || error.data?.statusCode;\r\n        const errorMsg = error.message || error.errMsg || '';\r\n        const errorData = error.data || {};\r\n        \r\n        // æ£€æŸ¥æ˜¯å¦æ˜¯HTMLé”™è¯¯é¡µé¢ï¼ˆé€šå¸¸æ˜¯404ï¼‰\r\n        const isHtmlError = typeof errorData === 'string' && errorData.includes('<!doctype html>');\r\n        \r\n        // æ£€æŸ¥æ˜¯å¦æ˜¯\"ç”¨æˆ·ä¸å­˜åœ¨\"é”™è¯¯ï¼ˆå¯èƒ½æ˜¯æ¥å£ä¸å­˜åœ¨å¯¼è‡´çš„è¯¯åˆ¤ï¼‰\r\n        const isUserNotFoundError = errorMsg.includes('ç”¨æˆ·ä¸å­˜åœ¨');\r\n        \r\n        if (statusCode === 404 || errorMsg.includes('404') || isHtmlError) {\r\n          console.error('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');\r\n          if (isUserNotFoundError) {\r\n            console.error('âŒ [é”™è¯¯ç±»å‹] æ¥å£ä¸å­˜åœ¨ (404) - åç«¯è¿”å›\"ç”¨æˆ·ä¸å­˜åœ¨\"');\r\n            console.error('âš ï¸ æ³¨æ„ï¼šè¿™å¯èƒ½æ˜¯åç«¯æ¥å£æœªå®ç°å¯¼è‡´çš„é€šç”¨é”™è¯¯æ¶ˆæ¯');\r\n          } else {\r\n            console.error('âŒ [é”™è¯¯ç±»å‹] æ¥å£ä¸å­˜åœ¨ (404)');\r\n          }\r\n          console.error('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');\r\n          console.error('ğŸ“ [è¯·æ±‚URL]', `${config.baseURL}${config.API.CHALLENGE.LIST}`);\r\n          console.error('ğŸ’¡ [è§£å†³æ–¹æ¡ˆ]');\r\n          console.error('    1. æ£€æŸ¥åç«¯æ˜¯å¦å·²å®ç°æ­¤æ¥å£');\r\n          console.error('    2. ç¡®è®¤æ¥å£è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼ˆå½“å‰: /api/challenge/tasksï¼‰');\r\n          console.error('    3. è”ç³»åç«¯å¼€å‘ç¡®è®¤æ¥å£æ˜¯å¦å·²éƒ¨ç½²');\r\n          console.error('    4. å¦‚æœæ˜¯è·¯å¾„é—®é¢˜ï¼Œå¯èƒ½éœ€è¦ä¿®æ”¹ utils/config.js ä¸­çš„é…ç½®');\r\n          if (isUserNotFoundError) {\r\n            console.error('    5. å¦‚æœåç«¯å·²å®ç°æ¥å£ä½†ä»è¿”å›\"ç”¨æˆ·ä¸å­˜åœ¨\"ï¼Œè¯·æ£€æŸ¥ï¼š');\r\n            console.error('       - Tokenæ˜¯å¦æœ‰æ•ˆ');\r\n            console.error('       - åç«¯ç”¨æˆ·è®¤è¯é€»è¾‘æ˜¯å¦æ­£ç¡®');\r\n          }\r\n          console.error('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');\r\n        } else if (statusCode === 401 || errorMsg.includes('401')) {\r\n          console.error('ğŸ” [é”™è¯¯ç±»å‹] æœªæˆæƒ (401)');\r\n          console.error('ğŸ’¡ [è§£å†³æ–¹æ¡ˆ] Tokenå¯èƒ½å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•');\r\n        } else if (errorMsg.includes('timeout')) {\r\n          console.error('â±ï¸ [é”™è¯¯ç±»å‹] è¯·æ±‚è¶…æ—¶');\r\n          console.error('ğŸ’¡ [è§£å†³æ–¹æ¡ˆ] æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸');\r\n        } else if (isUserNotFoundError && statusCode !== 404) {\r\n          // é404çš„\"ç”¨æˆ·ä¸å­˜åœ¨\"é”™è¯¯\r\n          console.error('ğŸ” [é”™è¯¯ç±»å‹] ç”¨æˆ·ä¸å­˜åœ¨');\r\n          console.error('ğŸ’¡ [è§£å†³æ–¹æ¡ˆ] ç”¨æˆ·ä¿¡æ¯å¯èƒ½å·²å¤±æ•ˆï¼Œè¯·é‡æ–°ç™»å½•');\r\n        } else {\r\n          console.error('ğŸ“‹ [é”™è¯¯] é”™è¯¯æ¶ˆæ¯:', errorMsg || 'æœªçŸ¥é”™è¯¯');\r\n          console.error('ğŸ“ [é”™è¯¯] å¯èƒ½åŸå› :');\r\n          console.error('   1. åç«¯æœåŠ¡æœªå¯åŠ¨');\r\n          console.error('   2. ç½‘ç»œè¿æ¥é—®é¢˜');\r\n          console.error('   3. Tokenå·²è¿‡æœŸ');\r\n          console.error('   4. æ¥å£è·¯å¾„é”™è¯¯');\r\n        }\r\n        \r\n        // å°è¯•ä»æœ¬åœ°ç¼“å­˜åŠ è½½\r\n        console.log('ğŸ”„ [é™çº§] å°è¯•ä»æœ¬åœ°ç¼“å­˜åŠ è½½æ•°æ®...');\r\n        this.loadItemsFromLocal();\r\n        \r\n        uni.showToast({\r\n          title: 'åŠ è½½å¤±è´¥ï¼Œå·²ä½¿ç”¨æœ¬åœ°æ•°æ®',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n     onImageLoad(e) {\r\n        console.log('âœ… å›¾ç‰‡åŠ è½½æˆåŠŸ:', e.detail)\r\n      },\r\n    /**\r\n     * æ•°æ®æ ¼å¼è½¬æ¢ï¼šåç«¯æ ¼å¼ -> å‰ç«¯æ ¼å¼\r\n     * åç«¯: { id, taskName, status, photoUrl, isFavorited, ... }\r\n     * å‰ç«¯: { id, text, done, image, favorite, ... }\r\n     */\r\n    convertBackendToFrontend(task) {\r\n      const record = task.userRecord || task.user_record || task.record || task.taskRecord || task.task_record || null;\r\n\r\n      const rawPhoto =\r\n        record?.photoUrl ||\r\n        record?.photo_url ||\r\n        record?.photo ||\r\n        record?.photoPath ||\r\n        record?.photo_path ||\r\n        task.photoUrl ||\r\n        task.photo_url ||\r\n        task.photo ||\r\n        task.photoPath ||\r\n        task.photo_path ||\r\n        (typeof record?.photo === 'object'\r\n          ? record.photo.url || record.photo.fullUrl || record.photo.path\r\n          : typeof task.photo === 'object'\r\n            ? task.photo.url || task.photo.fullUrl || task.photo.path\r\n            : null);\r\n\r\n      const status = record?.status || task.status || task.completedStatus || '';\r\n      const completedFlag = typeof status === 'string'\r\n        ? status.toLowerCase() === 'completed' || status.toLowerCase() === 'done'\r\n        : Boolean(status);\r\n\r\n      // æ£€æŸ¥æ˜¯å¦æœ‰è¯¦ç»†çš„å®Œæˆè®°å½•\r\n      const hasDetailedRecord = record && (\r\n        record.location || record.completedDate || record.completedTime || \r\n        record.feeling || record.weather || record.rating || \r\n        (record.tags && record.tags.length > 0)\r\n      );\r\n\r\n      return {\r\n        id: task.id,\r\n        text: task.taskName || task.taskDescription || '',\r\n        done: completedFlag || record?.completed === true || task.completed === true,\r\n        image: this.normalizePhotoUrl(rawPhoto),\r\n        favorite: record?.isFavorited ?? record?.favorited ?? task.isFavorited ?? false,\r\n        category: task.category || 'preset',\r\n        note: record?.note || task.note || '',\r\n        completedAt: record?.completedAt || task.completedAt || null,\r\n        hasRecord: hasDetailedRecord || Boolean(record?.note), // æ˜¯å¦æœ‰è¯¦ç»†è®°å½•\r\n        // è¯¦ç»†è®°å½•å­—æ®µ\r\n        location: record?.location || '',\r\n        completedDate: record?.completedDate || '',\r\n        completedTime: record?.completedTime || '',\r\n        feeling: record?.feeling || '',\r\n        weather: record?.weather || '',\r\n        tags: record?.tags || [],\r\n        rating: record?.rating || 0\r\n      };\r\n    },\r\n    \r\n    /**\r\n     * æ•°æ®æ ¼å¼è½¬æ¢ï¼šå‰ç«¯æ ¼å¼ -> åç«¯æ ¼å¼\r\n     */\r\n    convertFrontendToBackend(item) {\r\n      return {\r\n        taskId: item.id,\r\n        taskName: item.text,\r\n        completed: item.done,\r\n        photoUrl: this.stripBaseFromPhotoUrl(item.image),\r\n        favorited: item.favorite\r\n      };\r\n    },\r\n\r\n    normalizePhotoUrl(url) {\r\n      if (!url) return '';\r\n\r\n      if (Array.isArray(url)) {\r\n        url = url[0];\r\n      }\r\n\r\n      if (typeof url === 'object') {\r\n        url = url.url || url.fullUrl || url.path || url.previewUrl || '';\r\n      }\r\n\r\n      if (!url) return '';\r\n\r\n      if (/^https?:\\/\\//i.test(url)) {\r\n        return url;\r\n      }\r\n\r\n      const base = (config.baseURL || '').replace(/\\/$/, '');\r\n      if (!base) {\r\n        return url;\r\n      }\r\n\r\n      if (url.startsWith('/')) {\r\n        return `${base}${url}`;\r\n      }\r\n\r\n      return `${base}/${url}`;\r\n    },\r\n\r\n    stripBaseFromPhotoUrl(url) {\r\n      if (!url) return null;\r\n\r\n      const base = (config.baseURL || '').replace(/\\/$/, '');\r\n      if (base && url.startsWith(base)) {\r\n        const stripped = url.slice(base.length);\r\n        return stripped.startsWith('/') ? stripped : `/${stripped}`;\r\n      }\r\n\r\n      return url;\r\n    },\r\n    \r\n    /**\r\n     * ä»æœ¬åœ°ç¼“å­˜åŠ è½½ï¼ˆé™çº§æ–¹æ¡ˆï¼‰\r\n     */\r\n    loadItemsFromLocal() {\r\n      console.log('ğŸ’¾ [æœ¬åœ°ç¼“å­˜] ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ•°æ®...');\r\n      try {\r\n        const data = uni.getStorageSync('hundred_items');\r\n        this.items = Array.isArray(data) ? data : [];\r\n        console.log(`âœ… [æœ¬åœ°ç¼“å­˜] åŠ è½½äº† ${this.items.length} ä¸ªä»»åŠ¡`);\r\n      } catch (e) {\r\n        console.error('âŒ [æœ¬åœ°ç¼“å­˜] åŠ è½½å¤±è´¥:', e);\r\n        this.items = [];\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * ä¿å­˜åˆ°æœ¬åœ°ç¼“å­˜ï¼ˆä½œä¸ºå¤‡ä»½ï¼‰\r\n     */\r\n    saveItemsToLocal() {\r\n      try {\r\n        uni.setStorageSync('hundred_items', this.items);\r\n        console.log('ğŸ’¾ [æœ¬åœ°ç¼“å­˜] å·²ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨');\r\n      } catch (e) {\r\n        console.error('âŒ [æœ¬åœ°ç¼“å­˜] ä¿å­˜å¤±è´¥:', e);\r\n      }\r\n    },\r\n    toggleDropdown() {\r\n      this.showDropdown = !this.showDropdown;\r\n    },\r\n    selectFilter(value) {\r\n      this.filterMode = value;\r\n      this.showDropdown = false;\r\n      \r\n      // æ˜¾ç¤ºæç¤º\r\n      const tips = {\r\n        'all': 'æ˜¾ç¤ºå…¨éƒ¨äº‹ä»¶',\r\n        'todo': 'æ˜¾ç¤ºå¾…å®Œæˆäº‹ä»¶',\r\n        'done': 'æ˜¾ç¤ºå·²å®Œæˆäº‹ä»¶',\r\n        'favorite': 'æ˜¾ç¤ºå·²æ”¶è—äº‹ä»¶'\r\n      };\r\n      uni.showToast({ \r\n        title: tips[value], \r\n        icon: 'none',\r\n        duration: 1500\r\n      });\r\n    },\r\n    /**\r\n     * ä¸Šä¼ å›¾ç‰‡\r\n     * é€‰æ‹©å›¾ç‰‡åï¼Œæ›´æ–°ä»»åŠ¡å®ŒæˆçŠ¶æ€å¹¶åŒæ­¥åˆ°åç«¯\r\n     */\r\n    uploadImage(item) {\r\n      // æ£€æŸ¥æ˜¯å¦éœ€è¦ç™»å½•\r\n      if (!this.checkLoginRequired()) {\r\n        return;\r\n      }\r\n      \r\n      console.log('ğŸ“¸ [ä¸€ç™¾ä»¶äº‹] ========== å¼€å§‹ä¸Šä¼ å›¾ç‰‡ ==========');\r\n      console.log('ğŸ“‹ [ä»»åŠ¡] ID:', item.id, 'åç§°:', item.text);\r\n      \r\n      uni.chooseImage({\r\n        count: 1,\r\n        sizeType: ['compressed'],\r\n        sourceType: ['album', 'camera'],\r\n        success: async (res) => {\r\n          const tempFilePath = res.tempFilePaths[0];\r\n          console.log('âœ… [å›¾ç‰‡é€‰æ‹©] æˆåŠŸï¼Œä¸´æ—¶è·¯å¾„:', tempFilePath);\r\n          \r\n          // æ›´æ–°æœ¬åœ°æ˜¾ç¤º\r\n          const previousImage = item.image;\r\n          const previousDoneState = item.done;\r\n          item.image = tempFilePath;\r\n          this.saveItemsToLocal();\r\n          \r\n          let loadingShown = false;\r\n          \r\n          try {\r\n            uni.showLoading({\r\n              title: 'ä¸Šä¼ ä¸­...',\r\n              mask: true\r\n            });\r\n            loadingShown = true;\r\n            \r\n            console.log('ğŸ“¡ [åç«¯] ä¸Šä¼ å›¾ç‰‡åˆ°æœåŠ¡å™¨...');\r\n            console.log('ğŸ“¤ [ä¸Šä¼ å‚æ•°] æ–‡ä»¶è·¯å¾„:', tempFilePath);\r\n            \r\n            const uploadResult = await uploadChallengePhoto(tempFilePath);\r\n            \r\n            console.log('ğŸ“¥ [ä¸Šä¼ ç»“æœ] å®Œæ•´å“åº”:', uploadResult);\r\n            console.log('ğŸ“¥ [ä¸Šä¼ ç»“æœ] æ•°æ®ç±»å‹:', typeof uploadResult);\r\n            \r\n            const uploadedPhotoUrl = uploadResult?.photoUrl;\r\n            const successMessage = uploadResult?.message || 'å›¾ç‰‡å·²ä¸Šä¼ ';\r\n            \r\n            console.log('ğŸ–¼ï¸ [å›¾ç‰‡URL] æå–ç»“æœ:', uploadedPhotoUrl);\r\n            console.log('ğŸ’¬ [æˆåŠŸæ¶ˆæ¯] æå–ç»“æœ:', successMessage);\r\n            \r\n            if (uploadedPhotoUrl) {\r\n              console.log('ğŸ’¾ [æœ¬åœ°æ›´æ–°] æ›´æ–°å›¾ç‰‡URL:', uploadedPhotoUrl);\r\n              item.image = uploadedPhotoUrl;\r\n            } else {\r\n              console.warn('âš ï¸ [è­¦å‘Š] æœªè·å–åˆ°å›¾ç‰‡URLï¼Œä½¿ç”¨ä¸´æ—¶è·¯å¾„');\r\n            }\r\n            \r\n            item.done = true;\r\n            this.saveItemsToLocal();\r\n            \r\n            console.log('ğŸ”„ [åŒæ­¥] å¼€å§‹åŒæ­¥ä»»åŠ¡å®ŒæˆçŠ¶æ€åˆ°åç«¯');\r\n            await this.syncTaskComplete(item, true, uploadedPhotoUrl);\r\n            console.log('âœ… [åç«¯] å›¾ç‰‡åŒæ­¥æˆåŠŸ');\r\n            \r\n            if (loadingShown) {\r\n              uni.hideLoading();\r\n              loadingShown = false;\r\n            }\r\n            \r\n            const toastTitle = successMessage && successMessage.length <= 7 ? successMessage : 'å›¾ç‰‡å·²ä¸Šä¼ ';\r\n            uni.showToast({ title: toastTitle, icon: 'success' });\r\n          } catch (error) {\r\n            console.error('âŒ [åç«¯] å›¾ç‰‡ä¸Šä¼ æˆ–åŒæ­¥å¤±è´¥:', error);\r\n            \r\n            // å›æ»šå®ŒæˆçŠ¶æ€å’Œå›¾ç‰‡ï¼Œæç¤ºç”¨æˆ·é‡æ–°å°è¯•\r\n            item.image = previousImage;\r\n            item.done = previousDoneState;\r\n            this.saveItemsToLocal();\r\n            \r\n            if (loadingShown) {\r\n              uni.hideLoading();\r\n              loadingShown = false;\r\n            }\r\n            \r\n            const statusCode = error?.statusCode || error?.data?.statusCode;\r\n            const errorMsg = error?.message || error?.errMsg || '';\r\n            const isHtmlError = typeof error?.data === 'string' && error?.data?.includes('<!doctype html>');\r\n            \r\n            let toastTitle = 'å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•';\r\n            \r\n            if (statusCode === 404 || errorMsg.includes('404') || isHtmlError) {\r\n              toastTitle = 'ä¸Šä¼ æ¥å£ä¸å­˜åœ¨ï¼Œè¯·è”ç³»ç®¡ç†å‘˜';\r\n            } else if (statusCode === 401 || errorMsg.includes('401')) {\r\n              toastTitle = 'ç™»å½•ä¿¡æ¯å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•';\r\n            } else if (errorMsg.includes('timeout')) {\r\n              toastTitle = 'ä¸Šä¼ è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ';\r\n            } else if (errorMsg) {\r\n              toastTitle = errorMsg.length <= 10 ? errorMsg : 'å›¾ç‰‡ä¸Šä¼ å¤±è´¥';\r\n            }\r\n            \r\n            uni.showToast({ title: toastTitle, icon: 'none' });\r\n          } finally {\r\n            if (loadingShown) {\r\n              uni.hideLoading();\r\n            }\r\n          }\r\n          \r\n        },\r\n        fail: (err) => {\r\n          // å¦‚æœæ˜¯ç”¨æˆ·å–æ¶ˆæ“ä½œï¼Œä¸æ˜¾ç¤ºé”™è¯¯æç¤º\r\n          if (err && err.errMsg && err.errMsg.includes('cancel')) {\r\n            console.log('â„¹ï¸ [å›¾ç‰‡é€‰æ‹©] ç”¨æˆ·å–æ¶ˆæ“ä½œ');\r\n            return;\r\n          }\r\n          // å…¶ä»–é”™è¯¯æ‰æ˜¾ç¤ºæç¤º\r\n          console.error('âŒ [å›¾ç‰‡é€‰æ‹©] å¤±è´¥:', err);\r\n          uni.showToast({ title: 'ä¸Šä¼ å¤±è´¥', icon: 'none' });\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * åˆ‡æ¢æ”¶è—çŠ¶æ€\r\n     * åŒæ­¥åˆ°åç«¯\r\n     */\r\n    async toggleFavorite(item) {\r\n      // æ£€æŸ¥æ˜¯å¦éœ€è¦ç™»å½•\r\n      if (!this.checkLoginRequired()) {\r\n        return;\r\n      }\r\n      \r\n      const newFavoriteState = !item.favorite;\r\n      const action = newFavoriteState ? 'æ”¶è—' : 'å–æ¶ˆæ”¶è—';\r\n      \r\n      console.log(`â­ [ä¸€ç™¾ä»¶äº‹] ========== ${action}ä»»åŠ¡ ==========`);\r\n      console.log('ğŸ“‹ [ä»»åŠ¡] ID:', item.id, 'åç§°:', item.text);\r\n      console.log('ğŸ”„ [çŠ¶æ€] å½“å‰:', item.favorite ? 'å·²æ”¶è—' : 'æœªæ”¶è—', 'â†’ æ–°çŠ¶æ€:', newFavoriteState ? 'å·²æ”¶è—' : 'æœªæ”¶è—');\r\n      \r\n      // å…ˆæ›´æ–°æœ¬åœ°çŠ¶æ€ï¼ˆä¹è§‚æ›´æ–°ï¼‰\r\n      item.favorite = newFavoriteState;\r\n      this.saveItemsToLocal();\r\n      \r\n      try {\r\n        console.log('ğŸ“¡ [å‰ç«¯] è°ƒç”¨ favoriteTask() API');\r\n        await favoriteTask({\r\n          taskId: item.id,\r\n          favorited: newFavoriteState\r\n        });\r\n        \r\n        console.log(`âœ… [åç«¯] ${action}ä»»åŠ¡æˆåŠŸ`);\r\n      uni.showToast({ \r\n          title: newFavoriteState ? 'å·²æ”¶è—' : 'å–æ¶ˆæ”¶è—', \r\n        icon: 'none',\r\n        duration: 1500\r\n      });\r\n      } catch (error) {\r\n        console.error(`âŒ [åç«¯] ${action}ä»»åŠ¡å¤±è´¥:`, error);\r\n        // å›æ»šçŠ¶æ€\r\n        item.favorite = !newFavoriteState;\r\n        this.saveItemsToLocal();\r\n        \r\n        uni.showToast({\r\n          title: `${action}å¤±è´¥ï¼Œè¯·é‡è¯•`,\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * åˆ é™¤äº‹ä»¶\r\n     */\r\n    async deleteEvent(item) {\r\n      // æ£€æŸ¥æ˜¯å¦éœ€è¦ç™»å½•\r\n      if (!this.checkLoginRequired()) {\r\n        return;\r\n      }\r\n      \r\n      console.log('ğŸ—‘ï¸ [ä¸€ç™¾ä»¶äº‹] ========== åˆ é™¤äº‹ä»¶ ==========');\r\n      console.log('ğŸ“‹ [ä»»åŠ¡] ID:', item.id, 'åç§°:', item.text);\r\n      \r\n      // ç¡®è®¤åˆ é™¤\r\n      const confirmResult = await new Promise((resolve) => {\r\n        uni.showModal({\r\n          title: 'ç¡®è®¤åˆ é™¤',\r\n          content: `ç¡®å®šè¦åˆ é™¤\"${item.text}\"å—ï¼Ÿ\\n\\nåˆ é™¤åå°†æ— æ³•æ¢å¤ï¼ŒåŒ…æ‹¬ç›¸å…³çš„ç…§ç‰‡å’Œè®°å½•ã€‚`,\r\n          confirmText: 'ç¡®å®šåˆ é™¤',\r\n          cancelText: 'å–æ¶ˆ',\r\n          success: (res) => {\r\n            resolve(res.confirm);\r\n          }\r\n        });\r\n      });\r\n      \r\n      if (!confirmResult) {\r\n        console.log('âŒ [ç”¨æˆ·] å–æ¶ˆåˆ é™¤');\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€\r\n        uni.showLoading({\r\n          title: 'åˆ é™¤ä¸­...',\r\n          mask: true\r\n        });\r\n        \r\n        console.log('ğŸ“¡ [å‰ç«¯] è°ƒç”¨ deleteTask() API');\r\n        await deleteTask(item.id);\r\n        \r\n        // ä»æœ¬åœ°æ•°ç»„ä¸­ç§»é™¤\r\n        const index = this.items.findIndex(i => i.id === item.id);\r\n        if (index > -1) {\r\n          this.items.splice(index, 1);\r\n        }\r\n        \r\n        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨\r\n        this.saveItemsToLocal();\r\n        \r\n        uni.hideLoading();\r\n        console.log('âœ… [åç«¯] åˆ é™¤äº‹ä»¶æˆåŠŸ');\r\n        uni.showToast({\r\n          title: 'åˆ é™¤æˆåŠŸ',\r\n          icon: 'success',\r\n          duration: 1500\r\n        });\r\n        \r\n      } catch (error) {\r\n        uni.hideLoading();\r\n        console.error('âŒ [åç«¯] åˆ é™¤äº‹ä»¶å¤±è´¥:', error);\r\n        uni.showToast({\r\n          title: 'åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n    },\r\n\r\n    openEdit(item) {\r\n      this.editForm = { ...item };\r\n      this.showEdit = true;\r\n    },\r\n    closeEdit() {\r\n      this.showEdit = false;\r\n      this.editForm = null;\r\n    },\r\n    /**\r\n     * ä¿å­˜ç¼–è¾‘\r\n     * æ³¨æ„ï¼šåç«¯å¯èƒ½ä¸æ”¯æŒç¼–è¾‘é¢„è®¾ä»»åŠ¡ï¼Œåªæ”¯æŒè‡ªå®šä¹‰ä»»åŠ¡\r\n     */\r\n    async saveEdit() {\r\n      if (!this.editForm.text) {\r\n        uni.showToast({ title: 'è¯·è¾“å…¥å†…å®¹', icon: 'none' });\r\n        return;\r\n      }\r\n      \r\n      console.log('âœï¸ [ä¸€ç™¾ä»¶äº‹] ========== ä¿å­˜ç¼–è¾‘ ==========');\r\n      console.log('ğŸ“‹ [ä»»åŠ¡] ID:', this.editForm.id);\r\n      console.log('ğŸ“ [å†…å®¹] æ—§:', this.items.find(i => i.id === this.editForm.id)?.text);\r\n      console.log('ğŸ“ [å†…å®¹] æ–°:', this.editForm.text);\r\n      \r\n      const index = this.items.findIndex(item => item.id === this.editForm.id);\r\n      if (index !== -1) {\r\n        const oldText = this.items[index].text;\r\n        \r\n        // å…ˆæ›´æ–°æœ¬åœ°\r\n        this.items[index].text = this.editForm.text;\r\n        this.saveItemsToLocal();\r\n        this.closeEdit();\r\n        \r\n        // å¦‚æœæ˜¯è‡ªå®šä¹‰ä»»åŠ¡ï¼ŒåŒæ­¥åˆ°åç«¯ï¼ˆé¢„è®¾ä»»åŠ¡å¯èƒ½ä¸æ”¯æŒç¼–è¾‘ï¼‰\r\n        const item = this.items[index];\r\n        if (item.category === 'custom') {\r\n          try {\r\n            console.log('ğŸ“¡ [å‰ç«¯] è‡ªå®šä¹‰ä»»åŠ¡ï¼Œå°è¯•åŒæ­¥åˆ°åç«¯...');\r\n            // æ³¨æ„ï¼šåç«¯å¯èƒ½æ²¡æœ‰ç¼–è¾‘æ¥å£ï¼Œè¿™é‡Œå…ˆåªä¿å­˜æœ¬åœ°\r\n            // å¦‚æœéœ€è¦åç«¯æ”¯æŒï¼Œå¯ä»¥æ·»åŠ ç¼–è¾‘æ¥å£\r\n            console.log('â„¹ï¸ [æç¤º] å½“å‰åç«¯å¯èƒ½ä¸æ”¯æŒç¼–è¾‘æ¥å£ï¼Œä»…ä¿å­˜åˆ°æœ¬åœ°');\r\n            uni.showToast({ title: 'å·²ä¿å­˜ï¼ˆä»…æœ¬åœ°ï¼‰', icon: 'success' });\r\n          } catch (error) {\r\n            console.error('âŒ [åç«¯] åŒæ­¥å¤±è´¥:', error);\r\n            // å›æ»š\r\n            this.items[index].text = oldText;\r\n            this.saveItemsToLocal();\r\n            uni.showToast({ title: 'ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•', icon: 'none' });\r\n          }\r\n        } else {\r\n          console.log('â„¹ï¸ [æç¤º] é¢„è®¾ä»»åŠ¡ä»…ä¿å­˜åˆ°æœ¬åœ°');\r\n        uni.showToast({ title: 'å·²ä¿å­˜', icon: 'success' });\r\n        }\r\n      }\r\n    },\r\n    confirmDelete(item) {\r\n      uni.showModal({\r\n        title: 'åˆ é™¤ç¡®è®¤',\r\n        content: `ç¡®å®šåˆ é™¤â€œ${item.text}â€å—ï¼Ÿ`,\r\n        confirmText: 'åˆ é™¤',\r\n        cancelText: 'å–æ¶ˆ',\r\n        success: (res) => { if (res.confirm) this.deleteItem(item); }\r\n      });\r\n    },\r\n    /**\r\n     * åˆ é™¤ä»»åŠ¡\r\n     * åŒæ­¥åˆ°åç«¯ï¼ˆä»…è‡ªå®šä¹‰ä»»åŠ¡å¯åˆ é™¤ï¼‰\r\n     */\r\n    async deleteItem(item) {\r\n      console.log('ğŸ—‘ï¸ [ä¸€ç™¾ä»¶äº‹] ========== åˆ é™¤ä»»åŠ¡ ==========');\r\n      console.log('ğŸ“‹ [ä»»åŠ¡] ID:', item.id, 'åç§°:', item.text);\r\n      console.log('ğŸ“‚ [ç±»å‹]', item.category || 'æœªçŸ¥');\r\n      \r\n      // åªæœ‰è‡ªå®šä¹‰ä»»åŠ¡å¯ä»¥åˆ é™¤\r\n      if (item.category === 'custom') {\r\n        try {\r\n          console.log('ğŸ“¡ [å‰ç«¯] è°ƒç”¨ deleteTask() API');\r\n          await deleteTask(item.id);\r\n          \r\n          console.log('âœ… [åç«¯] åˆ é™¤ä»»åŠ¡æˆåŠŸ');\r\n          \r\n          // ä»åˆ—è¡¨ä¸­ç§»é™¤\r\n      this.items = this.items.filter(it => it.id !== item.id);\r\n          this.saveItemsToLocal();\r\n          \r\n          uni.showToast({ title: 'å·²åˆ é™¤', icon: 'success' });\r\n        } catch (error) {\r\n          console.error('âŒ [åç«¯] åˆ é™¤ä»»åŠ¡å¤±è´¥:', error);\r\n          uni.showToast({\r\n            title: 'åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•',\r\n            icon: 'none',\r\n            duration: 2000\r\n          });\r\n        }\r\n      } else {\r\n        console.log('âš ï¸ [è­¦å‘Š] é¢„è®¾ä»»åŠ¡ä¸èƒ½åˆ é™¤');\r\n        uni.showToast({\r\n          title: 'é¢„è®¾ä»»åŠ¡ä¸èƒ½åˆ é™¤',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n    },\r\n    /**\r\n     * å¤„ç†äº‹ä»¶ç‚¹å‡» - ç»Ÿä¸€çš„ç‚¹å‡»å¤„ç†æ–¹æ³•\r\n     * ç‚¹å‡»äº‹ä»¶ä»»ä½•åœ°æ–¹éƒ½ä¼šè§¦å‘æ—¶é—´è®°å½•å¼¹çª—\r\n     */\r\n    handleEventClick(item) {\r\n      console.log('ğŸ–±ï¸ [äº‹ä»¶ç‚¹å‡»] ç‚¹å‡»äº†äº‹ä»¶:', item.text, 'çŠ¶æ€:', item.done ? 'å·²å®Œæˆ' : 'æœªå®Œæˆ');\r\n      \r\n      if (item.done) {\r\n        // å·²å®Œæˆçš„ä»»åŠ¡ï¼ŒæŸ¥çœ‹è®°å½•è¯¦æƒ…\r\n        if (item.hasRecord) {\r\n          this.openRecordDetail(item);\r\n        } else {\r\n          // å·²å®Œæˆä½†æ²¡æœ‰è¯¦ç»†è®°å½•ï¼Œæ‰“å¼€è®°å½•å¼¹çª—è¡¥å……ä¿¡æ¯\r\n          this.openRecordModal(item);\r\n        }\r\n      } else {\r\n        // æœªå®Œæˆçš„ä»»åŠ¡ï¼Œæ‰“å¼€è®°å½•å¼¹çª—\r\n        this.openRecordModal(item);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * åˆ‡æ¢å®ŒæˆçŠ¶æ€\r\n     * å¦‚æœæ ‡è®°ä¸ºå®Œæˆï¼Œæ‰“å¼€è®°å½•å¼¹çª—ï¼›å¦‚æœå–æ¶ˆå®Œæˆï¼Œç›´æ¥æ›´æ–°çŠ¶æ€\r\n     */\r\n    async toggleDone(item) {\r\n      const newDoneState = !item.done;\r\n      \r\n      if (newDoneState) {\r\n        // æ ‡è®°ä¸ºå®Œæˆï¼Œæ‰“å¼€è®°å½•å¼¹çª—\r\n        this.openRecordModal(item);\r\n      } else {\r\n        // å–æ¶ˆå®ŒæˆçŠ¶æ€ï¼Œç›´æ¥æ›´æ–°\r\n        const action = 'å–æ¶ˆå®Œæˆ';\r\n        \r\n        console.log(`âœ… [ä¸€ç™¾ä»¶äº‹] ========== ${action}ä»»åŠ¡ ==========`);\r\n        console.log('ğŸ“‹ [ä»»åŠ¡] ID:', item.id, 'åç§°:', item.text);\r\n        \r\n        // å…ˆæ›´æ–°æœ¬åœ°çŠ¶æ€ï¼ˆä¹è§‚æ›´æ–°ï¼‰\r\n        item.done = false;\r\n        item.hasRecord = false; // æ¸…é™¤è®°å½•æ ‡è®°\r\n        this.saveItemsToLocal();\r\n        \r\n        try {\r\n          await this.syncTaskComplete(item, false, item.image);\r\n          console.log(`âœ… [åç«¯] ${action}ä»»åŠ¡æˆåŠŸ`);\r\n          uni.showToast({ title: 'å·²å–æ¶ˆå®Œæˆ', icon: 'success' });\r\n        } catch (error) {\r\n          console.error(`âŒ [åç«¯] ${action}ä»»åŠ¡å¤±è´¥:`, error);\r\n          // å›æ»šçŠ¶æ€\r\n          item.done = true;\r\n          this.saveItemsToLocal();\r\n          \r\n          uni.showToast({\r\n            title: `${action}å¤±è´¥ï¼Œè¯·é‡è¯•`,\r\n            icon: 'none',\r\n            duration: 2000\r\n          });\r\n        }\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * åŒæ­¥ä»»åŠ¡å®ŒæˆçŠ¶æ€åˆ°åç«¯\r\n     */\r\n    async syncTaskComplete(item, completed, photoUrl = null) {\r\n      console.log('ğŸ“¡ [å‰ç«¯] è°ƒç”¨ completeTask() API');\r\n      console.log('ğŸ“¤ [å‚æ•°] taskId:', item.id, 'completed:', completed, 'photoUrl:', photoUrl || 'æ— ');\r\n      \r\n      await completeTask({\r\n        taskId: item.id,\r\n        completed: completed,\r\n        photoUrl: photoUrl || null,\r\n        note: item.note || null\r\n      });\r\n    },\r\n    openCatalog() { this.showCatalog = true; },\r\n    closeCatalog() { this.showCatalog = false; },\r\n    openAdd() { \r\n      // æ£€æŸ¥æ˜¯å¦éœ€è¦ç™»å½•\r\n      if (!this.checkLoginRequired()) {\r\n        return;\r\n      }\r\n      this.showAdd = true; \r\n    },\r\n    closeAdd() { this.showAdd = false; this.form.text = ''; },\r\n    /**\r\n     * ä¿å­˜æ–°ä»»åŠ¡\r\n     * åŒæ­¥åˆ°åç«¯\r\n     */\r\n    async saveItem() {\r\n      if (!this.form.text) {\r\n        uni.showToast({ title: 'è¯·è¾“å…¥å†…å®¹', icon: 'none' });\r\n        return;\r\n      }\r\n      \r\n      // æ£€æŸ¥æ˜¯å¦éœ€è¦ç™»å½•\r\n      if (!this.checkLoginRequired()) {\r\n        return;\r\n      }\r\n      \r\n      console.log('â• [ä¸€ç™¾ä»¶äº‹] ========== æ·»åŠ æ–°ä»»åŠ¡ ==========');\r\n      console.log('ğŸ“ [å†…å®¹]', this.form.text);\r\n      \r\n      const taskData = {\r\n        taskName: this.form.text,\r\n        taskDescription: ''\r\n      };\r\n      \r\n      try {\r\n        console.log('ğŸ“¡ [å‰ç«¯] è°ƒç”¨ addTask() API');\r\n        const response = await addTask(taskData);\r\n        \r\n        console.log('âœ… [åç«¯] æ·»åŠ ä»»åŠ¡æˆåŠŸ');\r\n        console.log('ğŸ“¦ [å“åº”]', response);\r\n        \r\n        // æ·»åŠ æ–°ä»»åŠ¡åˆ°åˆ—è¡¨\r\n        if (response && response.task) {\r\n          const newTask = this.convertBackendToFrontend(response.task);\r\n          this.items.unshift(newTask);\r\n          console.log('âœ… [å‰ç«¯] æ–°ä»»åŠ¡å·²æ·»åŠ åˆ°åˆ—è¡¨ï¼ŒID:', newTask.id);\r\n        } else {\r\n          // å¦‚æœåç«¯æ²¡æœ‰è¿”å›å®Œæ•´ä»»åŠ¡å¯¹è±¡ï¼Œåˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡\r\n          console.warn('âš ï¸ [è­¦å‘Š] åç«¯æœªè¿”å›å®Œæ•´ä»»åŠ¡å¯¹è±¡ï¼Œåˆ›å»ºä¸´æ—¶å¯¹è±¡');\r\n          const maxId = this.items.reduce((m, it) => Math.max(m, it.id || 0), 0);\r\n          const tempTask = {\r\n            id: maxId + 1,\r\n            text: this.form.text,\r\n            done: false,\r\n            favorite: false,\r\n            image: '',\r\n            category: 'custom'\r\n          };\r\n          this.items.unshift(tempTask);\r\n        }\r\n        \r\n        this.saveItemsToLocal();\r\n      this.closeAdd();\r\n        uni.showToast({ title: 'å·²æ·»åŠ ', icon: 'success' });\r\n        \r\n      } catch (error) {\r\n        console.error('âŒ [åç«¯] æ·»åŠ ä»»åŠ¡å¤±è´¥:', error);\r\n        uni.showToast({\r\n          title: 'æ·»åŠ å¤±è´¥ï¼Œè¯·é‡è¯•',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n    },\r\n\r\n    // ===== è®°å½•å¼¹çª—ç›¸å…³æ–¹æ³• =====\r\n    \r\n    /**\r\n     * æ‰“å¼€è®°å½•å¼¹çª—ï¼ˆæ·»åŠ æ¨¡å¼ï¼‰\r\n     */\r\n    openRecordModal(item) {\r\n      console.log('ğŸ“ [è®°å½•] æ‰“å¼€å®Œæˆè®°å½•å¼¹çª—:', item.text);\r\n      \r\n      // è®¾ç½®é»˜è®¤æ—¶é—´\r\n      const now = new Date();\r\n      const date = now.toISOString().split('T')[0];\r\n      const time = now.toTimeString().slice(0, 5);\r\n      \r\n      this.recordModal = {\r\n        mode: 'add',\r\n        taskId: item.id,\r\n        photoUrl: item.image || '',\r\n        completedDate: item.completedDate || date,\r\n        completedTime: item.completedTime || time,\r\n        location: item.location || '',\r\n        weather: item.weather || '',\r\n        feeling: item.feeling || ''\r\n      };\r\n      \r\n      this.showRecordModal = true;\r\n    },\r\n    \r\n    /**\r\n     * å…³é—­è®°å½•å¼¹çª—\r\n     */\r\n    closeRecordModal() {\r\n      this.showRecordModal = false;\r\n      this.recordModal = {\r\n        mode: 'add',\r\n        taskId: null,\r\n        photoUrl: '',\r\n        completedDate: '',\r\n        completedTime: '',\r\n        location: '',\r\n        weather: '',\r\n        feeling: '',\r\n        note: '',\r\n        tags: [],\r\n        rating: 0\r\n      };\r\n    },\r\n    \r\n    /**\r\n     * æ‰“å¼€è®°å½•è¯¦æƒ…\r\n     */\r\n    openRecordDetail(item) {\r\n      console.log('ğŸ“– [è®°å½•] æŸ¥çœ‹è®°å½•è¯¦æƒ…:', item.text);\r\n      \r\n      this.detailModal = {\r\n        taskId: item.id,\r\n        taskName: item.text,\r\n        photoUrl: item.image || '',\r\n        completedDate: item.completedDate || '',\r\n        completedTime: item.completedTime || '',\r\n        location: item.location || '',\r\n        weather: item.weather || '',\r\n        feeling: item.feeling || ''\r\n      };\r\n      \r\n      this.showDetailModal = true;\r\n    },\r\n    \r\n    /**\r\n     * å…³é—­è¯¦æƒ…å¼¹çª—\r\n     */\r\n    closeDetailModal() {\r\n      this.showDetailModal = false;\r\n      this.detailModal = {};\r\n    },\r\n    \r\n    /**\r\n     * ä¸Šä¼ è®°å½•å›¾ç‰‡\r\n     */\r\n    uploadRecordImage() {\r\n      uni.chooseImage({\r\n        count: 1,\r\n        sizeType: ['compressed'],\r\n        sourceType: ['album', 'camera'],\r\n        success: async (res) => {\r\n          const tempFilePath = res.tempFilePaths[0];\r\n          console.log('ğŸ“¸ [è®°å½•] é€‰æ‹©å›¾ç‰‡:', tempFilePath);\r\n          \r\n          // å…ˆæ˜¾ç¤ºä¸´æ—¶å›¾ç‰‡\r\n          this.recordModal.photoUrl = tempFilePath;\r\n          \r\n          try {\r\n            uni.showLoading({\r\n              title: 'ä¸Šä¼ ä¸­...',\r\n              mask: true\r\n            });\r\n            \r\n            const uploadResult = await uploadChallengePhoto(tempFilePath);\r\n            this.recordModal.photoUrl = uploadResult.photoUrl;\r\n            \r\n            uni.hideLoading();\r\n            uni.showToast({ title: 'å›¾ç‰‡ä¸Šä¼ æˆåŠŸ', icon: 'success' });\r\n          } catch (error) {\r\n            uni.hideLoading();\r\n            this.recordModal.photoUrl = '';\r\n            uni.showToast({ title: 'å›¾ç‰‡ä¸Šä¼ å¤±è´¥', icon: 'none' });\r\n            console.error('å›¾ç‰‡ä¸Šä¼ å¤±è´¥:', error);\r\n          }\r\n        },\r\n        fail: (err) => {\r\n          if (err && err.errMsg && err.errMsg.includes('cancel')) {\r\n            console.log('ç”¨æˆ·å–æ¶ˆé€‰æ‹©å›¾ç‰‡');\r\n            return;\r\n          }\r\n          console.error('é€‰æ‹©å›¾ç‰‡å¤±è´¥:', err);\r\n          uni.showToast({ title: 'é€‰æ‹©å›¾ç‰‡å¤±è´¥', icon: 'none' });\r\n        }\r\n      });\r\n    },\r\n    \r\n    /**\r\n     * è®°å½•æ—¥æœŸå˜åŒ–\r\n     */\r\n    onRecordDateChange(e) {\r\n      this.recordModal.completedDate = e.detail.value;\r\n    },\r\n    \r\n    /**\r\n     * è®°å½•æ—¶é—´å˜åŒ–\r\n     */\r\n    onRecordTimeChange(e) {\r\n      this.recordModal.completedTime = e.detail.value;\r\n    },\r\n    \r\n    /**\r\n     * å¤©æ°”é€‰æ‹©å˜åŒ–\r\n     */\r\n    onWeatherChange(e) {\r\n      this.recordModal.weather = this.weatherOptions[e.detail.value];\r\n    },\r\n    \r\n\r\n    \r\n    /**\r\n     * ä¿å­˜è®°å½•\r\n     */\r\n    async saveRecord() {\r\n      console.log('ğŸ’¾ [è®°å½•] ä¿å­˜å®Œæˆè®°å½•');\r\n      \r\n      // åŸºæœ¬éªŒè¯\r\n      if (!this.recordModal.completedDate) {\r\n        uni.showToast({ title: 'è¯·é€‰æ‹©å®Œæˆæ—¥æœŸ', icon: 'none' });\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        uni.showLoading({\r\n          title: 'ä¿å­˜ä¸­...',\r\n          mask: true\r\n        });\r\n        \r\n        // æ›´æ–°æœ¬åœ°æ•°æ®\r\n        const item = this.items.find(i => i.id === this.recordModal.taskId);\r\n        if (item) {\r\n          item.done = true;\r\n          item.hasRecord = true;\r\n          item.image = this.recordModal.photoUrl;\r\n          item.completedDate = this.recordModal.completedDate;\r\n          item.completedTime = this.recordModal.completedTime;\r\n          item.location = this.recordModal.location;\r\n          item.weather = this.recordModal.weather;\r\n          item.feeling = this.recordModal.feeling;\r\n          item.completedAt = new Date().toISOString();\r\n        }\r\n        \r\n        // åŒæ­¥åˆ°åç«¯\r\n        await this.syncTaskCompleteWithDetails(item);\r\n        \r\n        this.saveItemsToLocal();\r\n        this.closeRecordModal();\r\n        \r\n        uni.hideLoading();\r\n        uni.showToast({ title: 'è®°å½•ä¿å­˜æˆåŠŸ', icon: 'success' });\r\n        \r\n      } catch (error) {\r\n        uni.hideLoading();\r\n        console.error('ä¿å­˜è®°å½•å¤±è´¥:', error);\r\n        uni.showToast({ title: 'ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•', icon: 'none' });\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * ç¼–è¾‘ç°æœ‰è®°å½•\r\n     */\r\n    editExistingRecord() {\r\n      const item = this.items.find(i => i.id === this.detailModal.taskId);\r\n      if (item) {\r\n        this.openRecordModal(item);\r\n        this.recordModal.mode = 'edit';\r\n        this.closeDetailModal();\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * ç¼–è¾‘è®°å½•\r\n     */\r\n    async editRecord() {\r\n      console.log('âœï¸ [è®°å½•] ç¼–è¾‘è®°å½•');\r\n      \r\n      try {\r\n        uni.showLoading({\r\n          title: 'æ›´æ–°ä¸­...',\r\n          mask: true\r\n        });\r\n        \r\n        // æ›´æ–°æœ¬åœ°æ•°æ®\r\n        const item = this.items.find(i => i.id === this.recordModal.taskId);\r\n        if (item) {\r\n          item.image = this.recordModal.photoUrl;\r\n          item.completedDate = this.recordModal.completedDate;\r\n          item.completedTime = this.recordModal.completedTime;\r\n          item.location = this.recordModal.location;\r\n          item.weather = this.recordModal.weather;\r\n          item.feeling = this.recordModal.feeling;\r\n          item.note = this.recordModal.note;\r\n        }\r\n        \r\n        // åŒæ­¥åˆ°åç«¯\r\n        await this.syncTaskCompleteWithDetails(item);\r\n        \r\n        this.saveItemsToLocal();\r\n        this.closeRecordModal();\r\n        \r\n        uni.hideLoading();\r\n        uni.showToast({ title: 'è®°å½•æ›´æ–°æˆåŠŸ', icon: 'success' });\r\n        \r\n      } catch (error) {\r\n        uni.hideLoading();\r\n        console.error('ç¼–è¾‘è®°å½•å¤±è´¥:', error);\r\n        uni.showToast({ title: 'æ›´æ–°å¤±è´¥ï¼Œè¯·é‡è¯•', icon: 'none' });\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * é¢„è§ˆå›¾ç‰‡\r\n     */\r\n    previewImage(url) {\r\n      uni.previewImage({\r\n        urls: [url],\r\n        current: url\r\n      });\r\n    },\r\n    \r\n    /**\r\n     * åŒæ­¥ä»»åŠ¡å®Œæˆè¯¦æƒ…åˆ°åç«¯\r\n     */\r\n    async syncTaskCompleteWithDetails(item) {\r\n      console.log('ğŸ”„ [åŒæ­¥] å‘é€è¯¦ç»†è®°å½•åˆ°åç«¯');\r\n      \r\n      await completeTask({\r\n        taskId: item.id,\r\n        completed: item.done,\r\n        photoUrl: this.stripBaseFromPhotoUrl(item.image) || null,\r\n        note: item.note || null,\r\n        location: item.location || null,\r\n        completedDate: item.completedDate || null,\r\n        completedTime: item.completedTime || null,\r\n        feeling: item.feeling || null,\r\n        weather: item.weather || null\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.hundred-page { \r\n  min-height: 100vh; \r\n  background: #FFFAF4;\r\n  padding-bottom: 120rpx;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n/* è‡ªå®šä¹‰å¯¼èˆªæ æ ·å¼ */\r\n.custom-navbar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 9999;\r\n  background-color: #FFFAF4;\r\n  overflow: hidden;\r\n}\r\n\r\n.navbar-gradient-bg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 200%;\r\n  background: rgba(255, 255, 255, 0.7);\r\n  backdrop-filter: blur(15px);\r\n  -webkit-backdrop-filter: blur(15px);\r\n}\r\n\r\n.status-bar {\r\n  width: 100%;\r\n  background: transparent;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.navbar-content {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 30rpx;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.navbar-title {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n}\r\n\r\n.title-text {\r\n  font-size: 36rpx;\r\n  font-weight: 500;\r\n  color: #4A4A4A;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.navbar-left {\r\n  width: 80rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.back-icon {\r\n  font-size: 50rpx;\r\n  font-weight: 600;\r\n  color: #4A4A4A;\r\n  line-height: 1;\r\n  cursor: pointer;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.back-icon:active {\r\n  opacity: 0.6;\r\n}\r\n\r\n.navbar-right {\r\n  width: 80rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n/* æ ‡é¢˜åŒºåŸŸ */\r\n.header-section {\r\n  padding: 60rpx 32rpx 24rpx 32rpx;\r\n  position: relative;\r\n}\r\n\r\n.main-title {\r\n  font-size: 32rpx;\r\n  font-weight: 500;\r\n  color: #4A4A4A;\r\n  display: block;\r\n  margin-bottom: 20rpx;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n/* è¿›åº¦åŒºåŸŸ */\r\n.progress-area {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16rpx;\r\n}\r\n\r\n.progress-bar {\r\n  flex: 1;\r\n  height: 12rpx;\r\n  background: #e5e5e0;\r\n  border-radius: 6rpx;\r\n  overflow: hidden;\r\n}\r\n\r\n.progress-fill {\r\n  height: 100%;\r\n  background: #FFCC66;\r\n  border-radius: 6rpx;\r\n  transition: width 0.3s ease;\r\n}\r\n\r\n.progress-text {\r\n  font-size: 26rpx;\r\n  color: #4A4A4A;\r\n  font-weight: 500;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.filter-dropdown {\r\n  padding: 8rpx 16rpx;\r\n  background: #ffffff;\r\n  border: 2rpx solid #FFEED4;\r\n  border-radius: 20rpx;\r\n  font-size: 24rpx;\r\n  color: #4A4A4A;\r\n  font-weight: 500;\r\n  box-shadow: 0 2rpx 8rpx rgba(255, 204, 102, 0.2);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n  cursor: pointer;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.filter-label {\r\n  font-size: 24rpx;\r\n  color: #4A4A4A;\r\n}\r\n\r\n.dropdown-icon {\r\n  font-size: 20rpx;\r\n  color: #FFCC66;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n/* ä¸‹æ‹‰èœå• */\r\n.dropdown-menu {\r\n  position: absolute;\r\n  right: 32rpx;\r\n  top: 130rpx;\r\n  background: #ffffff;\r\n  border-radius: 16rpx;\r\n  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.06);\r\n  overflow: hidden;\r\n  z-index: 10;\r\n  min-width: 160rpx;\r\n  border: 2rpx solid #FFEED4;\r\n}\r\n\r\n.dropdown-item {\r\n  padding: 20rpx 24rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n  transition: background 0.2s ease;\r\n}\r\n\r\n.dropdown-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.dropdown-item:active {\r\n  background: #fdf2f8;\r\n}\r\n\r\n.dropdown-item.active {\r\n  background: #F8F0FC;\r\n}\r\n\r\n.item-label {\r\n  font-size: 26rpx;\r\n  color: #4A4A4A;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.dropdown-item.active .item-label {\r\n  color: #FFCC66;\r\n  font-weight: 600;\r\n}\r\n\r\n.check-icon {\r\n  font-size: 28rpx;\r\n  color: #FFCC66;\r\n  font-weight: bold;\r\n}\r\n\r\n/* äº‹ä»¶ç½‘æ ¼ */\r\n.event-grid {\r\n  padding: 0 24rpx;\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 16rpx;\r\n}\r\n\r\n.event-card {\r\n  background: #ffffff;\r\n  border-radius: 16rpx;\r\n  padding: 12rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.06);\r\n  border: 1rpx solid #FFEED4;\r\n  position: relative;\r\n}\r\n\r\n/* æ“ä½œæŒ‰é’®ç»„ */\r\n.action-buttons {\r\n  position: absolute;\r\n  top: 8rpx;\r\n  right: 8rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8rpx;\r\n  z-index: 5;\r\n}\r\n\r\n/* åˆ é™¤å›¾æ ‡ */\r\n.delete-icon {\r\n  font-size: 28rpx;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  filter: drop-shadow(0 2rpx 4rpx rgba(0,0,0,0.1));\r\n}\r\n\r\n.delete-icon:active {\r\n  transform: scale(0.9);\r\n}\r\n\r\n.delete-icon text {\r\n  color: #ff4757;\r\n  opacity: 0.8;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.delete-icon:hover text {\r\n  opacity: 1;\r\n  transform: scale(1.1);\r\n}\r\n\r\n/* æ”¶è—å›¾æ ‡ */\r\n.favorite-icon {\r\n  font-size: 32rpx;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.favorite-icon text {\r\n  color: #d0d0d0;\r\n  filter: drop-shadow(0 2rpx 4rpx rgba(0,0,0,0.1));\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.favorite-icon .favorite-active {\r\n  color: #FFCC66;\r\n  transform: scale(1.1);\r\n}\r\n\r\n.event-image {\r\n  width: 100%;\r\n  height: 160rpx;\r\n  border-radius: 12rpx;\r\n  background: #ffffff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.event-image image {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.placeholder-icon {\r\n  font-size: 48rpx;\r\n  color: #FFCC66;\r\n}\r\n\r\n.event-title-wrapper {\r\n  width: 100%;\r\n  padding: 8rpx 0;\r\n}\r\n\r\n.event-title {\r\n  font-size: 24rpx;\r\n  color: #4A4A4A;\r\n  text-align: center;\r\n  line-height: 1.4;\r\n  display: block;\r\n  font-weight: 400;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.event-title.done {\r\n  text-decoration: line-through;\r\n  opacity: 0.6;\r\n}\r\n\r\n/* å³ä¸‹æ·»åŠ æŒ‰é’® */\r\n.fab-add {\r\n  position: fixed;\r\n  right: 32rpx;\r\n  bottom: 100rpx;\r\n  width: 96rpx;\r\n  height: 96rpx;\r\n  border-radius: 48rpx;\r\n  background: #FFCC66;\r\n  box-shadow: 0 10rpx 24rpx rgba(255, 204, 102, 0.35);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 99;\r\n}\r\n\r\n.fab-icon {\r\n  font-size: 48rpx;\r\n  color: #ffffff;\r\n  font-weight: 300;\r\n}\r\n\r\n/* å¼¹çª—æ ·å¼ */\r\n.modal-mask { \r\n  position: fixed; \r\n  inset: 0; \r\n  background: rgba(0,0,0,0.35); \r\n  display: flex; \r\n  align-items: center; \r\n  justify-content: center; \r\n  z-index: 100; \r\n}\r\n\r\n.modal { \r\n  width: 86%; \r\n  background: #ffffff; \r\n  border-radius: 24rpx; \r\n  padding: 32rpx; \r\n}\r\n\r\n.modal-title { \r\n  font-size: 34rpx; \r\n  font-weight: 500; \r\n  color: #4A4A4A; \r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.form { \r\n  margin-top: 20rpx; \r\n}\r\n\r\n.input { \r\n  border: 1rpx solid #FFEED4; \r\n  border-radius: 12rpx; \r\n  padding: 16rpx; \r\n  font-size: 26rpx; \r\n  background: #ffffff; \r\n  color: #333;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.modal-actions { \r\n  margin-top: 32rpx; \r\n  display: flex; \r\n  justify-content: center; \r\n  gap: 20rpx; \r\n  padding: 0 32rpx;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.btn { \r\n  padding: 18rpx 36rpx; \r\n  border-radius: 24rpx; \r\n  font-size: 28rpx; \r\n  border: none;\r\n  font-weight: 600;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  min-width: 160rpx;\r\n  text-align: center;\r\n}\r\n\r\n.btn.primary { \r\n  background: linear-gradient(135deg, #FFCC66 0%, #FFD699 100%);\r\n  color: #8B6914; \r\n  box-shadow: 0 8rpx 24rpx rgba(255, 204, 102, 0.3);\r\n  border: 1.5rpx solid rgba(255, 204, 102, 0.2);\r\n}\r\n\r\n.btn.primary:active {\r\n  transform: translateY(2rpx);\r\n  box-shadow: 0 4rpx 12rpx rgba(255, 204, 102, 0.4);\r\n}\r\n\r\n.btn.secondary { \r\n  background: rgba(255, 255, 255, 0.8);\r\n  color: #8B6914; \r\n  border: 1.5rpx solid rgba(139, 105, 20, 0.3);\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.btn.secondary:active {\r\n  background: rgba(255, 244, 224, 0.8);\r\n  transform: translateY(2rpx);\r\n}\r\n\r\n.btn.danger {\r\n  background: linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%);\r\n  color: #fff;\r\n  box-shadow: 0 8rpx 24rpx rgba(255, 107, 107, 0.3);\r\n}\r\n\r\n.btn.danger:active {\r\n  transform: translateY(2rpx);\r\n  box-shadow: 0 4rpx 12rpx rgba(255, 107, 107, 0.4);\r\n}\r\n\r\n/* è®°å½•æŒ‡ç¤ºå™¨ */\r\n.record-indicator {\r\n  position: absolute;\r\n  top: 4rpx;\r\n  right: 4rpx;\r\n  background: #FFCC66;\r\n  border-radius: 50%;\r\n  width: 32rpx;\r\n  height: 32rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 2rpx 8rpx rgba(255, 204, 102, 0.3);\r\n  z-index: 10;\r\n}\r\n\r\n.record-icon {\r\n  font-size: 20rpx;\r\n  line-height: 1;\r\n}\r\n\r\n/* è®°å½•å¼¹çª—æ ·å¼ */\r\n.record-modal {\r\n  width: 90%;\r\n  max-width: 680rpx;\r\n  max-height: 85vh;\r\n  background: linear-gradient(135deg, #FFFFFF 0%, #FFFEF9 100%);\r\n  border-radius: 32rpx;\r\n  padding: 32rpx 0;\r\n  position: relative;\r\n  box-shadow: 0 20rpx 60rpx rgba(255, 204, 102, 0.15);\r\n  border: 1.5rpx solid rgba(255, 204, 102, 0.1);\r\n  overflow: hidden;\r\n}\r\n\r\n.record-modal::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 120rpx;\r\n  background: linear-gradient(135deg, rgba(255, 224, 179, 0.1) 0%, rgba(255, 204, 102, 0.05) 100%);\r\n  border-radius: 32rpx 32rpx 0 0;\r\n  z-index: 0;\r\n}\r\n\r\n.record-form {\r\n  max-height: 60vh;\r\n  padding: 0 32rpx;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.record-section {\r\n  margin-bottom: 36rpx;\r\n  background: rgba(255, 255, 255, 0.7);\r\n  border-radius: 20rpx;\r\n  padding: 24rpx;\r\n  backdrop-filter: blur(10px);\r\n  border: 1rpx solid rgba(255, 224, 179, 0.2);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.record-section:hover {\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border-color: rgba(255, 224, 179, 0.3);\r\n  transform: translateY(-2rpx);\r\n  box-shadow: 0 8rpx 24rpx rgba(255, 204, 102, 0.08);\r\n}\r\n\r\n.section-title {\r\n  font-size: 30rpx;\r\n  font-weight: 700;\r\n  color: #8B6914;\r\n  margin-bottom: 20rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.section-title::before {\r\n  content: '';\r\n  width: 6rpx;\r\n  height: 24rpx;\r\n  background: linear-gradient(135deg, #FFCC66 0%, #FFD699 100%);\r\n  border-radius: 3rpx;\r\n  margin-right: 12rpx;\r\n}\r\n\r\n/* ç…§ç‰‡åŒºåŸŸ */\r\n.photo-section {\r\n  width: 240rpx;\r\n  height: 240rpx;\r\n  border-radius: 20rpx;\r\n  border: 3rpx dashed rgba(255, 204, 102, 0.4);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  transition: all 0.4s ease;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  background: linear-gradient(135deg, rgba(255, 248, 240, 0.8) 0%, rgba(255, 238, 212, 0.6) 100%);\r\n  backdrop-filter: blur(5px);\r\n}\r\n\r\n.photo-section::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(135deg, rgba(255, 224, 179, 0.1) 0%, transparent 70%);\r\n  border-radius: 17rpx;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.photo-section:hover::before {\r\n  opacity: 1;\r\n}\r\n\r\n.photo-section:active {\r\n  border-color: #FFCC66;\r\n  background: linear-gradient(135deg, #FFFEF9 0%, #FFF9F0 100%);\r\n  transform: scale(0.98);\r\n  box-shadow: 0 4rpx 16rpx rgba(255, 204, 102, 0.2);\r\n}\r\n\r\n.record-photo {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.photo-placeholder {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n}\r\n\r\n.placeholder-icon {\r\n  font-size: 56rpx;\r\n  color: #FFCC66;\r\n  filter: drop-shadow(0 4rpx 8rpx rgba(255, 204, 102, 0.3));\r\n  animation: float 3s ease-in-out infinite;\r\n}\r\n\r\n.placeholder-text {\r\n  font-size: 24rpx;\r\n  color: #8B6914;\r\n  font-weight: 500;\r\n  margin-top: 8rpx;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n@keyframes float {\r\n  0%, 100% {\r\n    transform: translateY(0);\r\n  }\r\n  50% {\r\n    transform: translateY(-6rpx);\r\n  }\r\n}\r\n\r\n\r\n\r\n/* è¡¨å•æ ·å¼ */\r\n.form-row {\r\n  display: flex;\r\n  gap: 16rpx;\r\n}\r\n\r\n.form-item {\r\n  margin-bottom: 28rpx;\r\n}\r\n\r\n.form-item.half {\r\n  flex: 1;\r\n}\r\n\r\n.form-label {\r\n  font-size: 26rpx;\r\n  color: #8B6914;\r\n  margin-bottom: 14rpx;\r\n  display: block;\r\n  font-weight: 600;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.form-input {\r\n  width: 100%;\r\n  height: 80rpx;\r\n  border: 2rpx solid rgba(255, 224, 179, 0.3);\r\n  border-radius: 16rpx;\r\n  padding: 0 24rpx;\r\n  font-size: 28rpx;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  color: #4A4A4A;\r\n  line-height: 80rpx;\r\n  box-sizing: border-box;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n  transition: all 0.3s ease;\r\n  backdrop-filter: blur(5px);\r\n}\r\n\r\n.form-input:focus {\r\n  border-color: #FFCC66;\r\n  background: #ffffff;\r\n  box-shadow: 0 0 0 6rpx rgba(255, 204, 102, 0.1);\r\n  transform: translateY(-2rpx);\r\n}\r\n\r\n.form-textarea {\r\n  width: 100%;\r\n  min-height: 140rpx;\r\n  border: 2rpx solid rgba(255, 224, 179, 0.3);\r\n  border-radius: 16rpx;\r\n  padding: 20rpx 24rpx;\r\n  font-size: 28rpx;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  color: #4A4A4A;\r\n  box-sizing: border-box;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n  transition: all 0.3s ease;\r\n  backdrop-filter: blur(5px);\r\n  line-height: 1.6;\r\n}\r\n\r\n.form-textarea:focus {\r\n  border-color: #FFCC66;\r\n  background: #ffffff;\r\n  box-shadow: 0 0 0 6rpx rgba(255, 204, 102, 0.1);\r\n  transform: translateY(-2rpx);\r\n}\r\n\r\n.char-count {\r\n  font-size: 22rpx;\r\n  color: #FFCC66;\r\n  text-align: right;\r\n  margin-top: 8rpx;\r\n  display: block;\r\n  font-weight: 500;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n/* è¯„åˆ†å®¹å™¨ */\r\n.rating-container {\r\n  display: flex;\r\n  gap: 12rpx;\r\n  margin-top: 12rpx;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/* è¯¦æƒ…å¼¹çª— */\r\n.detail-modal {\r\n  width: 86%;\r\n  max-width: 600rpx;\r\n  max-height: 80vh;\r\n  background: #ffffff;\r\n  border-radius: 24rpx;\r\n  padding: 32rpx;\r\n}\r\n\r\n.detail-content {\r\n  max-height: 60vh;\r\n  margin-top: 20rpx;\r\n}\r\n\r\n.detail-section {\r\n  margin-bottom: 24rpx;\r\n}\r\n\r\n.detail-photo {\r\n  width: 100%;\r\n  height: 300rpx;\r\n  border-radius: 16rpx;\r\n  cursor: pointer;\r\n}\r\n\r\n.detail-info {\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.info-label {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  font-weight: 500;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.info-value {\r\n  font-size: 26rpx;\r\n  color: #333;\r\n  margin-left: 8rpx;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n\r\n</style>","import MiniProgramPage from 'C:/Users/Administrator/Desktop/love_time/subPackages/interaction/pages/hundred/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","wx","getTasks","config","uploadChallengePhoto","favoriteTask","deleteTask","completeTask","addTask"],"mappings":"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"}