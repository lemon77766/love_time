{"version":3,"file":"index.js","sources":["subPackages/record/pages/anniversary/index.vue","D:/softcaree/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFja2FnZXNccmVjb3JkXHBhZ2VzXGFubml2ZXJzYXJ5XGluZGV4LnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"anniversary-page\" :style=\"{ paddingTop: containerPaddingTop }\">\r\n    <!-- 自定义导航栏 -->\r\n    <view class=\"custom-navbar\">\r\n      <!-- 渐变背景 -->\r\n      <view class=\"navbar-gradient-bg\"></view>\r\n      <!-- 状态栏占位 -->\r\n      <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\r\n      <!-- 导航栏内容 -->\r\n      <view class=\"navbar-content\" :style=\"{ height: navBarHeight + 'px' }\">\r\n        <view class=\"navbar-left\" @click=\"goBack\">\r\n          <text class=\"back-icon\">←</text>\r\n        </view>\r\n        <view class=\"navbar-title\">\r\n          <text class=\"title-text\">纪念日</text>\r\n        </view>\r\n        <view class=\"navbar-right\"></view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 顶部背景图 -->\r\n    <image class=\"top-bg\" src=\"/subPackages/record/static/anniversary/tu.jpg\" mode=\"aspectFill\"></image>\r\n\r\n    <view class=\"content\">\r\n      <view class=\"anniversary-list\">\r\n        <view \r\n          class=\"anniversary-item\" \r\n          v-for=\"(item, index) in anniversaryList\" \r\n          :key=\"item.id\"\r\n          :class=\"{ 'item-deleting': isDeleting === index }\"\r\n        >\r\n          <view class=\"item-left\" @click=\"editAnniversary(index)\">\r\n            <iconify-icon :icon=\"item.icon\" :size=\"24\" :color=\"item.color\" class=\"item-icon\" />\r\n            <view class=\"item-info\">\r\n              <text class=\"item-title\">{{ item.title }}</text>\r\n              <text class=\"item-date\" v-if=\"item.date\">{{ formatDate(item.date) }}</text>\r\n            </view>\r\n          </view>\r\n          <view class=\"item-right\">\r\n            <text class=\"item-days\" v-if=\"item.date\">已经 <text class=\"days-count\">{{ calculateDays(item.date) }}</text> 天</text>\r\n            <view class=\"item-actions\">\r\n              <iconify-icon \r\n                :icon=\"item.remind ? 'mdi:bell' : 'mdi:bell-outline'\" \r\n                :size=\"24\" \r\n                :color=\"item.remind ? '#FFCC66' : '#CCCCCC'\" \r\n                class=\"remind-icon\" \r\n                @click.stop=\"toggleRemind(index)\" \r\n              />\r\n              <view class=\"delete-wrapper\" @click=\"testDelete(index)\">\r\n                <iconify-icon \r\n                  icon=\"mdi:delete-outline\" \r\n                  :size=\"24\" \r\n                  color=\"#FF6B6B\" \r\n                  class=\"delete-icon\" \r\n                />\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"bottom-actions\">\r\n        <view class=\"reminder-status\" v-if=\"hasReminders\">\r\n          <iconify-icon icon=\"mdi:bell\" :size=\"18\" color=\"#FFCC66\" />\r\n          <text>{{ reminderCount }}个提醒已设置</text>\r\n        </view>\r\n        <view class=\"reminder-status\" v-else>\r\n          <iconify-icon icon=\"mdi:alert-outline\" :size=\"18\" color=\"#FFA500\" />\r\n          <text>还没设置提醒哦</text>\r\n        </view>\r\n        <view class=\"add-anniversary-btn\" @click=\"showAddModal = true\">\r\n          <iconify-icon icon=\"mdi:plus\" :size=\"24\" color=\"#ffffff\" />\r\n          <text>添加纪念日</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 添加纪念日弹窗 -->\r\n    <view v-if=\"showAddModal\" class=\"modal-mask\" @click=\"showAddModal = false\">\r\n      <view class=\"modal\" @click.stop>\r\n        <text class=\"modal-title\">添加纪念日</text>\r\n        <view class=\"form\">\r\n          <view class=\"form-item\">\r\n            <text class=\"form-label\">标题</text>\r\n            <input class=\"form-input\" v-model=\"newAnniversary.title\" placeholder=\"请输入纪念日标题\" />\r\n          </view>\r\n          <view class=\"form-item\">\r\n            <text class=\"form-label\">日期</text>\r\n            <picker mode=\"date\" :value=\"newAnniversary.date\" @change=\"onDateChange\">\r\n              <view class=\"form-input date-picker\">\r\n                {{ newAnniversary.date || '请选择日期' }}\r\n              </view>\r\n            </picker>\r\n          </view>\r\n          <view class=\"form-item\">\r\n            <text class=\"form-label\">图标</text>\r\n            <view class=\"icon-selector\">\r\n              <view \r\n                v-for=\"icon in iconOptions\" \r\n                :key=\"icon.name\"\r\n                class=\"icon-option\"\r\n                :class=\"{ selected: newAnniversary.icon === icon.name }\"\r\n                @click=\"selectIcon(icon)\"\r\n              >\r\n                <iconify-icon :icon=\"icon.name\" :size=\"24\" :color=\"icon.color\" />\r\n              </view>\r\n            </view>\r\n          </view>\r\n          <view class=\"form-item\">\r\n            <label class=\"checkbox-container\">\r\n              <checkbox :checked=\"newAnniversary.remind\" @change=\"onRemindChange\" />\r\n              <text class=\"checkbox-label\">设置提醒</text>\r\n            </label>\r\n          </view>\r\n        </view>\r\n        <view class=\"modal-actions\">\r\n          <button class=\"btn cancel-btn\" @click=\"showAddModal = false\">取消</button>\r\n          <button class=\"btn confirm-btn\" @click=\"addAnniversary\">确定</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 编辑纪念日弹窗 -->\r\n    <view v-if=\"showEditModal\" class=\"modal-mask\" @click=\"showEditModal = false\">\r\n      <view class=\"modal\" @click.stop>\r\n        <text class=\"modal-title\">编辑纪念日</text>\r\n        <view class=\"form\">\r\n          <view class=\"form-item\">\r\n            <text class=\"form-label\">标题</text>\r\n            <input class=\"form-input\" v-model=\"editingAnniversary.title\" placeholder=\"请输入纪念日标题\" />\r\n          </view>\r\n          <view class=\"form-item\">\r\n            <text class=\"form-label\">日期</text>\r\n            <picker mode=\"date\" :value=\"editingAnniversary.date\" @change=\"onEditDateChange\">\r\n              <view class=\"form-input date-picker\">\r\n                {{ editingAnniversary.date || '请选择日期' }}\r\n              </view>\r\n            </picker>\r\n          </view>\r\n          <view class=\"form-item\">\r\n            <text class=\"form-label\">图标</text>\r\n            <view class=\"icon-selector\">\r\n              <view \r\n                v-for=\"icon in iconOptions\" \r\n                :key=\"icon.name\"\r\n                class=\"icon-option\"\r\n                :class=\"{ selected: editingAnniversary.icon === icon.name }\"\r\n                @click=\"selectEditIcon(icon)\"\r\n              >\r\n                <iconify-icon :icon=\"icon.name\" :size=\"24\" :color=\"icon.color\" />\r\n              </view>\r\n            </view>\r\n          </view>\r\n          <view class=\"form-item\">\r\n            <label class=\"checkbox-container\">\r\n              <checkbox :checked=\"editingAnniversary.remind\" @change=\"onEditRemindChange\" />\r\n              <text class=\"checkbox-label\">设置提醒</text>\r\n            </label>\r\n          </view>\r\n        </view>\r\n        <view class=\"modal-actions\">\r\n          <button class=\"btn cancel-btn\" @click=\"showEditModal = false\">取消</button>\r\n          <button class=\"btn confirm-btn\" @click=\"saveEditedAnniversary\">保存</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      statusBarHeight: 0,\r\n      navBarHeight: 44,\r\n      screenWidth: 375,\r\n      showAddModal: false,\r\n      showEditModal: false,\r\n      isDeleting: -1, // 用于删除动画\r\n      anniversaryList: [\r\n        {\r\n          id: 1,\r\n          title: '我们第一次旅行',\r\n          date: '2025-10-21',\r\n          icon: 'mdi:airplane',\r\n          color: '#4A90E2',\r\n          remind: true\r\n        },\r\n        {\r\n          id: 2,\r\n          title: '圆月弯刀的生日',\r\n          icon: 'mdi:cake',\r\n          color: '#FFD93D',\r\n          remind: false\r\n        },\r\n        {\r\n          id: 3,\r\n          title: '火车上不代表的生日',\r\n          icon: 'mdi:cake',\r\n          color: '#FFD93D',\r\n          remind: false\r\n        },\r\n        {\r\n          id: 4,\r\n          title: '第一次接吻的日子',\r\n          icon: 'mdi:heart-outline',\r\n          color: '#FF91A4',\r\n          remind: true\r\n        },\r\n        {\r\n          id: 5,\r\n          title: '第一次拥抱的日子',\r\n          icon: 'mdi:human-handsup',\r\n          color: '#FF91A4',\r\n          remind: false\r\n        },\r\n        {\r\n          id: 6,\r\n          title: '我们在一起啦',\r\n          icon: 'mdi:heart-multiple-outline',\r\n          color: '#FF91A4',\r\n          remind: true\r\n        },\r\n        {\r\n          id: 7,\r\n          title: '结婚纪念日',\r\n          icon: 'mdi:ring',\r\n          color: '#D9ACFF',\r\n          remind: false\r\n        }\r\n      ],\r\n      newAnniversary: {\r\n        title: '',\r\n        date: '',\r\n        icon: 'mdi:calendar-heart',\r\n        color: '#FF91A4',\r\n        remind: false\r\n      },\r\n      editingAnniversary: {\r\n        id: null,\r\n        title: '',\r\n        date: '',\r\n        icon: 'mdi:calendar-heart',\r\n        color: '#FF91A4',\r\n        remind: false\r\n      },\r\n      iconOptions: [\r\n        { name: 'mdi:calendar-heart', color: '#FF91A4' },\r\n        { name: 'mdi:cake', color: '#FFD93D' },\r\n        { name: 'mdi:airplane', color: '#4A90E2' },\r\n        { name: 'mdi:ring', color: '#D9ACFF' },\r\n        { name: 'mdi:heart-outline', color: '#FF91A4' },\r\n        { name: 'mdi:human-handsup', color: '#FF91A4' },\r\n        { name: 'mdi:heart-multiple-outline', color: '#FF91A4' },\r\n        { name: 'mdi:gift', color: '#FF6B6B' }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    containerPaddingTop() {\r\n      const totalHeightPx = this.statusBarHeight + this.navBarHeight;\r\n      const pxToRpx = 750 / this.screenWidth;\r\n      const totalHeightRpx = totalHeightPx * pxToRpx;\r\n      return totalHeightRpx + 'rpx';\r\n    },\r\n    // 计算有多少个提醒\r\n    reminderCount() {\r\n      return this.anniversaryList.filter(item => item.remind).length;\r\n    },\r\n    // 是否有设置提醒\r\n    hasReminders() {\r\n      return this.reminderCount > 0;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getSystemInfo();\r\n    // 初始化新纪念日的日期为今天\r\n    const today = new Date();\r\n    const year = today.getFullYear();\r\n    const month = String(today.getMonth() + 1).padStart(2, '0');\r\n    const day = String(today.getDate()).padStart(2, '0');\r\n    this.newAnniversary.date = `${year}-${month}-${day}`;\r\n    \r\n    // 加载本地存储的纪念日数据\r\n    this.loadAnniversaryData();\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      uni.navigateBack();\r\n    },\r\n    getSystemInfo() {\r\n      // #ifdef MP-WEIXIN\r\n      try {\r\n        const windowInfo = wx.getWindowInfo && wx.getWindowInfo();\r\n        const deviceInfo = wx.getDeviceInfo && wx.getDeviceInfo();\r\n        \r\n        if (windowInfo && deviceInfo) {\r\n          this.statusBarHeight = windowInfo.statusBarHeight || 0;\r\n          this.screenWidth = windowInfo.windowWidth || 375;\r\n        } else {\r\n          const sysInfo = uni.getSystemInfoSync();\r\n          this.statusBarHeight = sysInfo.statusBarHeight || 0;\r\n          this.screenWidth = sysInfo.windowWidth || 375;\r\n        }\r\n      } catch (e) {\r\n        const sysInfo = uni.getSystemInfoSync();\r\n        this.statusBarHeight = sysInfo.statusBarHeight || 0;\r\n        this.screenWidth = sysInfo.windowWidth || 375;\r\n      }\r\n      this.navBarHeight = 44;\r\n      // #endif\r\n      // #ifdef H5\r\n      const sysInfoH5 = uni.getSystemInfoSync();\r\n      this.statusBarHeight = sysInfoH5.statusBarHeight || 0;\r\n      this.screenWidth = sysInfoH5.windowWidth || 375;\r\n      this.navBarHeight = 44;\r\n      // #endif\r\n      // #ifndef MP-WEIXIN || H5\r\n      const sysInfoOther = uni.getSystemInfoSync();\r\n      this.statusBarHeight = sysInfoOther.statusBarHeight || 0;\r\n      this.screenWidth = sysInfoOther.windowWidth || 375;\r\n      this.navBarHeight = 44;\r\n      // #endif\r\n    },\r\n    // 保存纪念日数据到本地存储\r\n    saveAnniversaryData() {\r\n      try {\r\n        uni.setStorageSync('anniversaryList', this.anniversaryList);\r\n      } catch (error) {\r\n        console.error('保存纪念日数据失败', error);\r\n      }\r\n    },\r\n    // 加载纪念日数据\r\n    loadAnniversaryData() {\r\n      try {\r\n        const data = uni.getStorageSync('anniversaryList');\r\n        if (data) {\r\n          this.anniversaryList = data;\r\n        }\r\n      } catch (error) {\r\n        console.error('加载纪念日数据失败', error);\r\n      }\r\n    },\r\n    // 格式化日期显示\r\n    formatDate(dateStr) {\r\n      if (!dateStr) return '';\r\n      const date = new Date(dateStr);\r\n      const year = date.getFullYear();\r\n      const month = date.getMonth() + 1;\r\n      const day = date.getDate();\r\n      return `${year}年${month}月${day}日`;\r\n    },\r\n    // 计算距离指定日期的天数\r\n    calculateDays(dateStr) {\r\n      if (!dateStr) return 0;\r\n      const date = new Date(dateStr);\r\n      const now = new Date();\r\n      // 设置时间为当天的开始，避免时区问题\r\n      date.setHours(0, 0, 0, 0);\r\n      now.setHours(0, 0, 0, 0);\r\n      const diffTime = now - date;\r\n      const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n      return diffDays > 0 ? diffDays : 0;\r\n    },\r\n    // 切换提醒状态\r\n    toggleRemind(index) {\r\n      this.anniversaryList[index].remind = !this.anniversaryList[index].remind;\r\n      const message = this.anniversaryList[index].remind ? '已设置提醒' : '已取消提醒';\r\n      uni.showToast({\r\n        title: message,\r\n        icon: 'success'\r\n      });\r\n    },\r\n    // 选择日期\r\n    onDateChange(e) {\r\n      this.newAnniversary.date = e.detail.value;\r\n    },\r\n    // 编辑时选择日期\r\n    onEditDateChange(e) {\r\n      this.editingAnniversary.date = e.detail.value;\r\n    },\r\n    // 选择图标\r\n    selectIcon(icon) {\r\n      this.newAnniversary.icon = icon.name;\r\n      this.newAnniversary.color = icon.color;\r\n    },\r\n    // 编辑时选择图标\r\n    selectEditIcon(icon) {\r\n      this.editingAnniversary.icon = icon.name;\r\n      this.editingAnniversary.color = icon.color;\r\n    },\r\n    // 设置提醒变化\r\n    onRemindChange(e) {\r\n      this.newAnniversary.remind = e.detail.value;\r\n    },\r\n    // 编辑时设置提醒变化\r\n    onEditRemindChange(e) {\r\n      this.editingAnniversary.remind = e.detail.value;\r\n    },\r\n    // 添加纪念日\r\n    addAnniversary() {\r\n      if (!this.newAnniversary.title) {\r\n        uni.showToast({\r\n          title: '请输入纪念日标题',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      if (!this.newAnniversary.date) {\r\n        uni.showToast({\r\n          title: '请选择纪念日日期',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      // 添加到列表\r\n      const newItem = {\r\n        id: Date.now(), // 使用时间戳作为唯一ID\r\n        title: this.newAnniversary.title,\r\n        date: this.newAnniversary.date,\r\n        icon: this.newAnniversary.icon,\r\n        color: this.newAnniversary.color,\r\n        remind: this.newAnniversary.remind\r\n      };\r\n      \r\n      this.anniversaryList.push(newItem);\r\n      \r\n      // 保存到本地存储\r\n      this.saveAnniversaryData();\r\n      \r\n      // 重置表单\r\n      this.newAnniversary.title = '';\r\n      const today = new Date();\r\n      const year = today.getFullYear();\r\n      const month = String(today.getMonth() + 1).padStart(2, '0');\r\n      const day = String(today.getDate()).padStart(2, '0');\r\n      this.newAnniversary.date = `${year}-${month}-${day}`;\r\n      this.newAnniversary.icon = 'mdi:calendar-heart';\r\n      this.newAnniversary.color = '#FF91A4';\r\n      this.newAnniversary.remind = false;\r\n      \r\n      // 关闭弹窗\r\n      this.showAddModal = false;\r\n      \r\n      uni.showToast({\r\n        title: '添加成功',\r\n        icon: 'success'\r\n      });\r\n    },\r\n    // 测试删除方法\r\n    testDelete(index) {\r\n      console.log('测试删除方法被调用，索引：', index);\r\n      \r\n      // 显示确认对话框\r\n      uni.showModal({\r\n        title: '确认删除',\r\n        content: '确定要删除这个纪念日吗？',\r\n        success: (res) => {\r\n          if (res.confirm) {\r\n            // 用户点击确定，执行删除操作\r\n            this.deleteAnniversary(index);\r\n          }\r\n        },\r\n        fail: (err) => {\r\n          console.error('显示确认框失败:', err);\r\n          // 如果确认框显示失败，直接删除\r\n          this.deleteAnniversary(index);\r\n        }\r\n      });\r\n    },\r\n    // 删除纪念日\r\n    deleteAnniversary(index) {\r\n      // 确保index有效\r\n      if (index < 0 || index >= this.anniversaryList.length) {\r\n        console.error('无效的索引:', index);\r\n        uni.showToast({\r\n          title: '删除失败',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        // 设置删除动画状态\r\n        this.isDeleting = index;\r\n        \r\n        // 延迟执行删除操作，以便显示动画\r\n        setTimeout(() => {\r\n          const item = this.anniversaryList[index];\r\n          this.anniversaryList.splice(index, 1);\r\n          \r\n          // 保存到本地存储\r\n          this.saveAnniversaryData();\r\n          \r\n          // 重置删除状态\r\n          this.isDeleting = -1;\r\n          \r\n          uni.showToast({\r\n            title: '删除成功',\r\n            icon: 'success'\r\n          });\r\n          \r\n          // 如果删除的是设置了提醒的纪念日，检查是否还有提醒\r\n          if (item.remind && !this.hasReminders) {\r\n            // 可以在这里添加其他逻辑，比如更新全局提醒状态\r\n          }\r\n        }, 300); // 300ms 动画时间\r\n      } catch (error) {\r\n        console.error('删除纪念日失败:', error);\r\n        this.isDeleting = -1; // 重置删除状态\r\n        uni.showToast({\r\n          title: '删除失败',\r\n          icon: 'none'\r\n        });\r\n      }\r\n    },\r\n    // 编辑纪念日\r\n    editAnniversary(index) {\r\n      const item = { ...this.anniversaryList[index] };\r\n      this.editingAnniversary = {\r\n        id: item.id,\r\n        title: item.title,\r\n        date: item.date || '',\r\n        icon: item.icon,\r\n        color: item.color,\r\n        remind: item.remind || false\r\n      };\r\n      this.showEditModal = true;\r\n    },\r\n    // 保存编辑的纪念日\r\n    saveEditedAnniversary() {\r\n      if (!this.editingAnniversary.title) {\r\n        uni.showToast({\r\n          title: '请输入纪念日标题',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      if (!this.editingAnniversary.date) {\r\n        uni.showToast({\r\n          title: '请选择纪念日日期',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      // 查找并更新纪念日\r\n      const index = this.anniversaryList.findIndex(item => item.id === this.editingAnniversary.id);\r\n      if (index !== -1) {\r\n        this.anniversaryList[index] = {\r\n          id: this.editingAnniversary.id,\r\n          title: this.editingAnniversary.title,\r\n          date: this.editingAnniversary.date,\r\n          icon: this.editingAnniversary.icon,\r\n          color: this.editingAnniversary.color,\r\n          remind: this.editingAnniversary.remind\r\n        };\r\n        \r\n        // 保存到本地存储\r\n        this.saveAnniversaryData();\r\n        \r\n        // 关闭弹窗\r\n        this.showEditModal = false;\r\n        \r\n        uni.showToast({\r\n          title: '保存成功',\r\n          icon: 'success'\r\n        });\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.anniversary-page {\r\n  min-height: 100vh;\r\n  background-color: #FFFAF4;\r\n  padding-bottom: 120rpx;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n/* 自定义导航栏样式 */\r\n.custom-navbar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 9999;\r\n  background-color: #FFFAF4;\r\n  overflow: hidden;\r\n}\r\n\r\n.navbar-gradient-bg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 200%;\r\n  background: rgba(255, 255, 255, 0.7);\r\n  backdrop-filter: blur(15px);\r\n  -webkit-backdrop-filter: blur(15px);\r\n}\r\n\r\n.status-bar {\r\n  width: 100%;\r\n  background: transparent;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.navbar-content {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 30rpx;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.navbar-title {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n}\r\n\r\n.title-text {\r\n  font-size: 36rpx;\r\n  font-weight: 500;\r\n  color: #4A4A4A;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.navbar-left {\r\n  width: 80rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.back-icon {\r\n  font-size: 50rpx;\r\n  font-weight: 600;\r\n  color: #4A4A4A;\r\n  line-height: 1;\r\n  cursor: pointer;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.back-icon:active {\r\n  opacity: 0.6;\r\n}\r\n\r\n.navbar-right {\r\n  width: 80rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n/* 顶部背景图 */\r\n.top-bg {\r\n  width: 100%;\r\n  height: 360rpx;\r\n  display: block;\r\n}\r\n\r\n.content {\r\n  padding: 0 24rpx;\r\n  margin-top: -80rpx; /* 调整内容区域上边距，与背景图衔接 */\r\n  position: relative;\r\n  z-index: 2; /* 确保内容在背景图之上 */\r\n}\r\n\r\n.anniversary-list {\r\n  background: rgba(255, 255, 255, 0.7);\r\n  backdrop-filter: blur(15px);\r\n  -webkit-backdrop-filter: blur(15px);\r\n  border-radius: 16rpx;\r\n  box-shadow: 0 8rpx 12rpx rgba(0, 0, 0, 0.04), inset 0 0 0 2rpx rgba(255,255,255,0.5);\r\n  overflow: hidden;\r\n  margin-bottom: 32rpx;\r\n}\r\n\r\n.anniversary-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background: white;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 20rpx;\r\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\r\n  transition: all 0.3s ease;\r\n  transform: translateX(0);\r\n}\r\n\r\n.anniversary-item.item-deleting {\r\n  transform: translateX(-100%);\r\n  opacity: 0;\r\n  height: 0;\r\n  padding: 0;\r\n  margin: 0;\r\n  overflow: hidden;\r\n}\r\n\r\n.item-left {\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n}\r\n\r\n.item-icon {\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.item-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.item-title {\r\n  font-size: 30rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.item-date {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n  margin-top: 6rpx;\r\n}\r\n\r\n.item-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15rpx;\r\n}\r\n\r\n.item-days {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.days-count {\r\n  color: #FFCC66;\r\n  font-weight: bold;\r\n}\r\n\r\n.item-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20rpx;\r\n}\r\n\r\n.remind-icon {\r\n  cursor: pointer;\r\n}\r\n\r\n.delete-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  padding: 10rpx;\r\n  border-radius: 50%;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.delete-wrapper:active {\r\n  background-color: rgba(255, 107, 107, 0.1);\r\n}\r\n\r\n.delete-icon {\r\n  cursor: pointer;\r\n}\r\n\r\n.bottom-actions {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 20rpx;\r\n}\r\n\r\n.reminder-status {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10rpx;\r\n  font-size: 26rpx;\r\n  color: #FFA500;\r\n  \r\n  iconify-icon {\r\n    color: #FFCC66;\r\n  }\r\n}\r\n\r\n.add-anniversary-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10rpx;\r\n  background-color: #FFCC66;\r\n  color: #8B6914;\r\n  font-size: 28rpx;\r\n  padding: 15rpx 30rpx;\r\n  border-radius: 40rpx;\r\n  cursor: pointer;\r\n  box-shadow: 0 8rpx 16rpx rgba(255, 204, 102, 0.3); /* 添加阴影 */\r\n}\r\n\r\n.add-anniversary-btn:active {\r\n  opacity: 0.8;\r\n  background-color: #FFD4A3; /* 修改点击时的背景色 */\r\n  box-shadow: 0 4rpx 10rpx rgba(255, 204, 102, 0.2); /* 调整点击时的阴影 */\r\n}\r\n\r\n/* 弹窗样式 */\r\n.modal-mask {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n}\r\n\r\n.modal {\r\n  background: white;\r\n  border-radius: 16rpx;\r\n  width: 600rpx;\r\n  padding: 40rpx 30rpx;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 36rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  text-align: center;\r\n  display: block;\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.form-item {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.form-label {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  margin-bottom: 15rpx;\r\n}\r\n\r\n.form-input {\r\n  width: 100%;\r\n  height: 80rpx;\r\n  border: 2rpx solid #eee;\r\n  border-radius: 12rpx;\r\n  padding: 0 20rpx;\r\n  box-sizing: border-box;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.date-picker {\r\n  line-height: 80rpx;\r\n  color: #999;\r\n}\r\n\r\n.icon-selector {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20rpx;\r\n}\r\n\r\n.icon-option {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2rpx solid #eee;\r\n  cursor: pointer;\r\n  \r\n  &.selected {\r\n    border-color: #FFCC66;\r\n    background-color: rgba(255, 204, 102, 0.1);\r\n  }\r\n}\r\n\r\n.checkbox-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15rpx;\r\n}\r\n\r\n.checkbox-label {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 40rpx;\r\n  gap: 20rpx;\r\n}\r\n\r\n.btn {\r\n  flex: 1;\r\n  height: 80rpx;\r\n  border-radius: 12rpx;\r\n  font-size: 30rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: none;\r\n  \r\n  &.cancel-btn {\r\n    background-color: #f5f5f5;\r\n    color: #666;\r\n  }\r\n  \r\n  &.confirm-btn {\r\n    background-color: #FFCC66;\r\n    color: #8B6914;\r\n  }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/Administrator/Desktop/love_time - 副本/subPackages/record/pages/anniversary/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","wx"],"mappings":"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"}