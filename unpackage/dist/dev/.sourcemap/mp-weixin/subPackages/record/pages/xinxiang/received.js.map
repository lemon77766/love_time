{"version":3,"file":"received.js","sources":["subPackages/record/pages/xinxiang/received.vue","D:/softcaree/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFja2FnZXNccmVjb3JkXHBhZ2VzXHhpbnhpYW5nXHJlY2VpdmVkLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"received-page\" :style=\"{ paddingTop: containerPaddingTop }\">\n    <!-- Ëá™ÂÆö‰πâÂØºËà™Ê†è -->\n    <view class=\"custom-navbar\">\n      <!-- Ê∏êÂèòËÉåÊôØ -->\n      <view class=\"navbar-gradient-bg\"></view>\n      <!-- Áä∂ÊÄÅÊ†èÂç†‰Ωç -->\n      <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\n      <!-- ÂØºËà™Ê†èÂÜÖÂÆπ -->\n      <view class=\"navbar-content\" :style=\"{ height: navBarHeight + 'px' }\">\n        <view class=\"navbar-left\" @click=\"goBack\">\n          <text class=\"back-icon\">‚Üê</text>\n        </view>\n        <view class=\"navbar-title\">\n          <text class=\"title-text\">Êî∂‰ø°ËÆ∞ÂΩï</text>\n        </view>\n        <view class=\"navbar-right\"></view>\n      </view>\n    </view>\n\n    <!-- ‰ø°‰ª∂ÂàóË°® -->\n    <view v-if=\"letters.length > 0\" class=\"letter-list\">\n      <view \n        v-for=\"(letter, index) in letters\" \n        :key=\"letter.id || index\"\n        class=\"letter-card\"\n        @click=\"viewLetter(letter, index)\"\n      >\n        <!-- Áº©Áï•ÂõæÈ¢ÑËßà -->\n        <view class=\"card-preview\">\n          <image \n            class=\"preview-bg\" \n            :src=\"getLetterBackground(letter)\" \n            mode=\"aspectFill\"\n          ></image>\n          <view class=\"preview-overlay\" :style=\"{ opacity: 1 - letter.opacity / 100 }\"></view>\n          <view class=\"preview-badge\">\n            <text class=\"badge-text\">{{ letter.style === 'custom' ? 'Ëá™ÂÆö‰πâ' : 'Ê†∑Âºè' + letter.style }}</text>\n          </view>\n        </view>\n\n        <!-- ‰ø°‰ª∂‰ø°ÊÅØ -->\n        <view class=\"card-info\">\n          <text class=\"card-title\">{{ letter.title }}</text>\n          <view class=\"card-meta\">\n            <text class=\"meta-item\">üìÖ ÈÄÅËææ: {{ letter.deliveryDate }}</text>\n            <text class=\"meta-item\">üìù {{ letter.sentAt || letter.createTime }}</text>\n            <view class=\"meta-item\">\n              <text class=\"status-badge status-sent\">Â∑≤Êî∂Âà∞</text>\n            </view>\n          </view>\n          <view class=\"card-preview-content\">\n            <text class=\"preview-text\">{{ letter.content.slice(0, 50) }}{{ letter.content.length > 50 ? '...' : '' }}</text>\n          </view>\n        </view>\n\n        <!-- Êìç‰ΩúÊåâÈíÆ -->\n        <view class=\"card-actions\">\n          <view class=\"action-btn view\" @click.stop=\"viewLetter(letter, index)\">\n            <text>üëÅÔ∏è Êü•Áúã</text>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- Á©∫Áä∂ÊÄÅ -->\n    <view v-else class=\"empty-state\">\n      <text class=\"empty-icon\">üì¨</text>\n      <text class=\"empty-text\">ËøòÊ≤°ÊúâÊî∂Âà∞ÁöÑ‰ø°‰ª∂</text>\n    </view>\n\n    <!-- ‰ø°‰ª∂ËØ¶ÊÉÖÂºπÁ™ó -->\n    <view v-if=\"showDetailModal\" class=\"detail-modal-overlay\" @click=\"closeDetail\">\n      <view class=\"detail-modal-content\" @click.stop>\n        <text class=\"detail-modal-title\">‰ø°‰ª∂ËØ¶ÊÉÖ</text>\n        \n        <!-- ‰ø°‰ª∂ËûçÂêàÈ¢ÑËßà -->\n        <view class=\"letter-detail\">\n          <view class=\"letter-wrapper\">\n            <!-- Â∫ïÂõæÂ±Ç -->\n            <image \n              class=\"letter-bg\" \n              :src=\"getLetterBackground(currentLetter)\" \n              mode=\"aspectFill\"\n            ></image>\n            \n            <!-- ÈÄèÊòéÂ∫¶ÈÅÆÁΩ© -->\n            <view class=\"letter-overlay\" :style=\"{ opacity: 1 - currentLetter.opacity / 100 }\"></view>\n            \n            <!-- ‰ø°‰ª∂ÂÜÖÂÆπÂ±Ç -->\n            <view class=\"letter-content\">\n              <view class=\"letter-header\">\n                <text class=\"letter-title\" :class=\"getFontClass(currentLetter)\">{{ currentLetter.title }}</text>\n                <text class=\"letter-date\" :class=\"getFontClass(currentLetter)\">ÈÄÅËææÊó∂Èó¥Ôºö{{ currentLetter.deliveryDate }}</text>\n                <text v-if=\"currentLetter.sentAt\" class=\"letter-date\" :class=\"getFontClass(currentLetter)\">Êî∂Âà∞Êó∂Èó¥Ôºö{{ currentLetter.sentAt }}</text>\n              </view>\n              \n              <view class=\"letter-body\">\n                <text class=\"letter-text\" :class=\"getFontClass(currentLetter)\">{{ currentLetter.content }}</text>\n              </view>\n              \n              <view class=\"letter-footer\">\n                <text class=\"letter-info\" :class=\"getFontClass(currentLetter)\">‚Äî‚Äî Êù•Ëá™ÂØπÊñπÁöÑ‰ø°</text>\n                <text class=\"letter-time\" :class=\"getFontClass(currentLetter)\">ÂàõÂª∫‰∫é {{ currentLetter.createTime }}</text>\n              </view>\n            </view>\n          </view>\n        </view>\n\n        <view class=\"detail-modal-actions\">\n          <button class=\"detail-modal-btn close\" @click=\"closeDetail\">ÂÖ≥Èó≠</button>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { \n  getReceivedLetters,\n  getFutureLetterDetail\n} from '@/api/futureLetter.js';\n\nexport default {\n  data() {\n    return {\n      statusBarHeight: 0,\n      navBarHeight: 44,\n      screenWidth: 375,\n      letters: [],\n      showDetailModal: false,\n      currentLetter: null,\n      currentIndex: -1\n    };\n  },\n  computed: {\n    containerPaddingTop() {\n      const totalHeightPx = this.statusBarHeight + this.navBarHeight;\n      const pxToRpx = 750 / this.screenWidth;\n      const totalHeightRpx = totalHeightPx * pxToRpx;\n      return totalHeightRpx + 20 + 'rpx';\n    }\n  },\n  onLoad() {\n    this.getSystemInfo();\n    this.loadLetters();\n  },\n  onShow() {\n    this.loadLetters();\n  },\n  methods: {\n    goBack() {\n      uni.navigateBack();\n    },\n    getSystemInfo() {\n      const systemInfo = uni.getSystemInfoSync();\n      this.statusBarHeight = systemInfo.statusBarHeight || 0;\n      this.screenWidth = systemInfo.windowWidth || 375;\n      // #ifdef MP-WEIXIN\n      this.navBarHeight = 44;\n      // #endif\n      // #ifdef H5\n      this.navBarHeight = 44;\n      // #endif\n    },\n    // Âä†ËΩΩÊî∂Âà∞ÁöÑ‰ø°‰ª∂ÂàóË°®\n    async loadLetters() {\n      try {\n        const response = await getReceivedLetters();\n        \n        const backendLetters = this.extractLetterArray(response);\n        this.letters = backendLetters.map(letter => {\n          const opacityValue = Number(letter.backgroundOpacity);\n          const normalizedOpacity = isNaN(opacityValue)\n            ? 100\n            : opacityValue <= 1\n              ? opacityValue * 100\n              : opacityValue;\n          const deliveryDateRaw = letter.scheduledDate || letter.deliveryDate;\n          const createTimeRaw = letter.createdAt || letter.createTime;\n          const sentAtRaw = letter.sentAt;\n              \n          return {\n            id: letter.id,\n            title: letter.title,\n            content: letter.content,\n            deliveryDate: this.formatToMinute(deliveryDateRaw),\n            createTime: this.formatToMinute(createTimeRaw),\n            sentAt: this.formatToMinute(sentAtRaw),\n            status: letter.status,\n            style: this.getStyleFromBackground(letter.backgroundImage),\n            customImage: letter.backgroundImage,\n            opacity: Math.min(100, Math.max(0, normalizedOpacity)),\n            fontStyle: letter.fontStyle || letter.font_style || 'default',\n            _backendData: letter\n          };\n        });\n      } catch (error) {\n        console.error('Âä†ËΩΩÊî∂Âà∞ÁöÑ‰ø°‰ª∂Â§±Ë¥•', error);\n        this.letters = [];\n        \n        // ÊòæÁ§∫ÈîôËØØÊèêÁ§∫ÔºàÈùûÂÖ≥ÈîÆÈîôËØØÔºå‰∏çÈòªÂ°ûÁî®Êà∑Ôºâ\n        if (error.statusCode !== 401) {\n          // 401ÈîôËØØÁî±http.jsÁªü‰∏ÄÂ§ÑÁêÜÔºåËøôÈáå‰∏çÈáçÂ§çÊèêÁ§∫\n          uni.showToast({\n            title: 'Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n            icon: 'none'\n          });\n        }\n      }\n    },\n    \n    // ÂÖºÂÆπÂ§öÁßçÂìçÂ∫îÁªìÊûÑ\n    extractLetterArray(response) {\n      if (!response) return [];\n      \n      const candidates = [\n        response,\n        response?.data,\n        response?.letters,\n        response?.records,\n        response?.items,\n        response?.list,\n        response?.result,\n        response?.body,\n        response?.data?.letters,\n        response?.data?.records,\n        response?.data?.items,\n        response?.data?.list,\n        response?.data?.result,\n        response?.data?.content,\n        response?.data?.rows\n      ];\n      \n      for (const candidate of candidates) {\n        if (Array.isArray(candidate)) {\n          return candidate;\n        }\n      }\n      \n      return [];\n    },\n    \n    // Â∞ÜÊó∂Èó¥Áªü‰∏ÄÊ†ºÂºèÂåñÂà∞ÂàÜÈíü\n    formatToMinute(dateInput) {\n      if (!dateInput) return '--';\n      \n      const dateValue = dateInput instanceof Date ? dateInput : new Date(dateInput);\n      if (Number.isNaN(dateValue.getTime())) {\n        return typeof dateInput === 'string' ? dateInput : '--';\n      }\n      \n      const pad = num => (num < 10 ? `0${num}` : `${num}`);\n      const year = dateValue.getFullYear();\n      const month = pad(dateValue.getMonth() + 1);\n      const day = pad(dateValue.getDate());\n      const hours = pad(dateValue.getHours());\n      const minutes = pad(dateValue.getMinutes());\n      \n      return `${year}-${month}-${day} ${hours}:${minutes}`;\n    },\n    \n    // ‰ªéËÉåÊôØÂõæÁâáURLÊèêÂèñÊ†∑ÂºèID\n    getStyleFromBackground(backgroundImage) {\n      if (!backgroundImage) return 1;\n      // Â¶ÇÊûúÊòØËá™ÂÆö‰πâÂõæÁâáÔºåËøîÂõû'custom'\n      if (backgroundImage.includes('custom') || backgroundImage.startsWith('http')) {\n        return 'custom';\n      }\n      // ‰ªéË∑ØÂæÑ‰∏≠ÊèêÂèñÊ†∑ÂºèÁºñÂè∑ÔºåÂ¶Ç /static/xinxiang/xin1.jpg -> 1\n      const match = backgroundImage.match(/xin(\\d+)\\.jpg/);\n      return match ? parseInt(match[1]) : 1;\n    },\n    \n    // Ëé∑Âèñ‰ø°‰ª∂ËÉåÊôØÂõæ\n    getLetterBackground(letter) {\n      if (letter.style === 'custom') {\n        return letter.customImage;\n      }\n      return `/static/xinxiang/xin${letter.style}.jpg`;\n    },\n    \n    // Êü•Áúã‰ø°‰ª∂ËØ¶ÊÉÖ\n    async viewLetter(letter, index) {\n      try {\n        // ÊòæÁ§∫Âä†ËΩΩÊèêÁ§∫\n        uni.showLoading({ title: 'Âä†ËΩΩ‰∏≠...' });\n        \n        // Ë∞ÉÁî®ËØ¶ÊÉÖÊé•Âè£Ëé∑ÂèñÂÆåÊï¥‰ø°ÊÅØ\n        const response = await getFutureLetterDetail(letter.id);\n        \n        uni.hideLoading();\n        \n        // Â§ÑÁêÜÂìçÂ∫îÊï∞ÊçÆ\n        if (response && response.data) {\n          const detailData = response.data;\n          const detailDeliveryDate = detailData.scheduledDate || detailData.deliveryDate || letter.deliveryDate;\n          const detailCreateTime = detailData.createdAt || detailData.createTime || letter.createTime;\n          const detailSentAt = detailData.sentAt || letter.sentAt;\n          // ÂêàÂπ∂ËØ¶ÊÉÖÊï∞ÊçÆÂà∞ÂΩìÂâç‰ø°‰ª∂ÂØπË±°\n          this.currentLetter = {\n            ...letter,\n            ...detailData,\n            // Á°Æ‰øùÂ≠óÊÆµÊò†Â∞ÑÊ≠£Á°Æ\n            id: detailData.id || letter.id,\n            title: detailData.title || letter.title,\n            content: detailData.content || letter.content,\n            deliveryDate: this.formatToMinute(detailDeliveryDate),\n            createTime: this.formatToMinute(detailCreateTime),\n            sentAt: this.formatToMinute(detailSentAt),\n            status: detailData.status || letter.status,\n            style: this.getStyleFromBackground(detailData.backgroundImage || letter.backgroundImage),\n            customImage: detailData.backgroundImage || letter.customImage,\n            opacity: detailData.opacity !== undefined ? detailData.opacity : (letter.opacity || 100),\n            fontStyle: detailData.fontStyle || detailData.font_style || letter.fontStyle || 'default',\n            _backendData: detailData\n          };\n        } else {\n          // Â¶ÇÊûúËØ¶ÊÉÖÊé•Âè£Â§±Ë¥•Ôºå‰ΩøÁî®ÂàóË°®Êï∞ÊçÆ\n          this.currentLetter = letter;\n        }\n        \n        this.currentIndex = index;\n        this.showDetailModal = true;\n      } catch (error) {\n        uni.hideLoading();\n        console.error('Ëé∑Âèñ‰ø°‰ª∂ËØ¶ÊÉÖÂ§±Ë¥•', error);\n        \n        // Â¶ÇÊûúËØ¶ÊÉÖÊé•Âè£Â§±Ë¥•Ôºå‰ΩøÁî®ÂàóË°®Êï∞ÊçÆ‰Ωú‰∏∫ÈôçÁ∫ßÊñπÊ°à\n        this.currentLetter = letter;\n        this.currentIndex = index;\n        this.showDetailModal = true;\n        \n        // ÊòæÁ§∫ÈîôËØØÊèêÁ§∫ÔºàÈùûÈòªÂ°ûÔºâ\n        uni.showToast({\n          title: 'Âä†ËΩΩËØ¶ÊÉÖÂ§±Ë¥•ÔºåÊòæÁ§∫Âü∫Êú¨‰ø°ÊÅØ',\n          icon: 'none',\n          duration: 2000\n        });\n      }\n    },\n    \n    // Ëé∑ÂèñÂ≠ó‰ΩìÊ†∑ÂºèÁ±ª\n    getFontClass(letter) {\n      if (!letter) return 'font-style-default';\n      const fontStyle = letter.fontStyle || letter.font_style || 'default';\n      return `font-style-${fontStyle}`;\n    },\n    \n    // ÂÖ≥Èó≠ËØ¶ÊÉÖÂºπÁ™ó\n    closeDetail() {\n      this.showDetailModal = false;\n      this.currentLetter = null;\n      this.currentIndex = -1;\n    }\n  }\n};\n</script>\n\n<style>\n/* Ëá™ÂÆö‰πâÂØºËà™Ê†èÊ†∑Âºè */\n.custom-navbar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 9999;\n  background-color: #FFFAF4;\n  overflow: hidden;\n}\n\n.navbar-gradient-bg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 200%;\n  background: rgba(255, 255, 255, 0.7);\n  backdrop-filter: blur(15px);\n  -webkit-backdrop-filter: blur(15px);\n}\n\n.status-bar {\n  width: 100%;\n  background: transparent;\n  position: relative;\n  z-index: 1;\n}\n\n.navbar-content {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 30rpx;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1;\n}\n\n.navbar-title {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n}\n\n.title-text {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #4A4A4A;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n.navbar-left {\n  width: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.back-icon {\n  font-size: 50rpx;\n  font-weight: 600;\n  color: #4A4A4A;\n  line-height: 1;\n  cursor: pointer;\n  transition: opacity 0.3s;\n}\n\n.back-icon:active {\n  opacity: 0.6;\n}\n\n.navbar-right {\n  width: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.received-page {\n  min-height: 100vh;\n  background: #FFFAF4;\n  padding: 24rpx;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n/* ‰ø°‰ª∂ÂàóË°® */\n.letter-list {\n  display: flex;\n  flex-direction: column;\n  gap: 24rpx;\n}\n\n.letter-card {\n  background: #ffffff;\n  border-radius: 24rpx;\n  overflow: hidden;\n  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.06);\n  border: 1rpx solid #FFE6D0;\n}\n\n/* Áº©Áï•ÂõæÈ¢ÑËßà */\n.card-preview {\n  position: relative;\n  width: 100%;\n  height: 240rpx;\n  overflow: hidden;\n}\n\n.preview-bg {\n  width: 100%;\n  height: 100%;\n}\n\n.preview-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: #ffffff;\n}\n\n.preview-badge {\n  position: absolute;\n  top: 16rpx;\n  right: 16rpx;\n  background: rgba(255, 181, 194, 0.9);\n  padding: 8rpx 16rpx;\n  border-radius: 8rpx;\n}\n\n.badge-text {\n  font-size: 22rpx;\n  color: #ffffff;\n  font-weight: 600;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n/* Âç°Áâá‰ø°ÊÅØ */\n.card-info {\n  padding: 24rpx;\n  display: flex;\n  flex-direction: column;\n  gap: 12rpx;\n}\n\n.card-title {\n  font-size: 34rpx;\n  font-weight: 600;\n  color: #4A4A4A;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n.card-meta {\n  display: flex;\n  flex-direction: column;\n  gap: 8rpx;\n}\n\n.meta-item {\n  font-size: 24rpx;\n  color: #888888;\n  font-weight: 400;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n.status-badge {\n  display: inline-block;\n  padding: 4rpx 12rpx;\n  border-radius: 8rpx;\n  font-size: 22rpx;\n  font-weight: 600;\n  margin-top: 8rpx;\n}\n\n.status-sent {\n  background: #D4EDDA;\n  color: #155724;\n}\n\n.card-preview-content {\n  margin-top: 8rpx;\n  padding: 16rpx;\n  background: #FFFAF4;\n  border-radius: 12rpx;\n  border: 1rpx solid #FFE6D0;\n}\n\n.preview-text {\n  font-size: 26rpx;\n  color: #888888;\n  line-height: 1.6;\n  font-weight: 400;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n/* Êìç‰ΩúÊåâÈíÆ */\n.card-actions {\n  display: flex;\n  border-top: 1rpx solid #FFE6D0;\n}\n\n.action-btn {\n  flex: 1;\n  padding: 24rpx;\n  text-align: center;\n  font-size: 28rpx;\n  transition: background 0.3s;\n}\n\n.action-btn.view {\n  color: #FFB5C2;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n.action-btn:active {\n  background: #FFFAF4;\n}\n\n/* Á©∫Áä∂ÊÄÅ */\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 120rpx 0;\n}\n\n.empty-icon {\n  font-size: 120rpx;\n  margin-bottom: 24rpx;\n}\n\n.empty-text {\n  font-size: 28rpx;\n  color: #888888;\n  font-weight: 400;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n/* ËØ¶ÊÉÖÂºπÁ™ó */\n.detail-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n}\n\n.detail-modal-content {\n  width: 90%;\n  max-width: 650rpx;\n  background: #ffffff;\n  border-radius: 24rpx;\n  padding: 32rpx;\n  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.3);\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.detail-modal-title {\n  font-size: 34rpx;\n  font-weight: 600;\n  color: #4A4A4A;\n  display: block;\n  text-align: center;\n  margin-bottom: 24rpx;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n.letter-detail {\n  flex: 1;\n  overflow: hidden;\n  border-radius: 16rpx;\n  margin-bottom: 24rpx;\n}\n\n.letter-wrapper {\n  position: relative;\n  width: 100%;\n  height: 800rpx;\n  border-radius: 16rpx;\n  overflow: hidden;\n  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.1);\n}\n\n.letter-bg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n}\n\n.letter-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: #ffffff;\n  z-index: 1;\n}\n\n.letter-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 60rpx 40rpx;\n  display: flex;\n  flex-direction: column;\n  z-index: 2;\n  box-sizing: border-box;\n}\n\n.letter-header {\n  display: flex;\n  flex-direction: column;\n  gap: 12rpx;\n  margin-bottom: 40rpx;\n  padding-bottom: 24rpx;\n  border-bottom: 2rpx solid rgba(0, 0, 0, 0.1);\n}\n\n.letter-title {\n  font-size: 36rpx;\n  font-weight: 600;\n  color: #4A4A4A;\n}\n\n.letter-date {\n  font-size: 24rpx;\n  color: #888888;\n  font-weight: 400;\n}\n\n.letter-body {\n  flex: 1;\n  overflow-y: auto;\n  margin-bottom: 32rpx;\n}\n\n.letter-text {\n  font-size: 28rpx;\n  line-height: 2;\n  color: #4A4A4A;\n  white-space: pre-wrap;\n  word-break: break-all;\n  font-weight: 400;\n}\n\n.letter-footer {\n  display: flex;\n  flex-direction: column;\n  gap: 8rpx;\n  padding-top: 24rpx;\n  border-top: 2rpx solid rgba(0, 0, 0, 0.1);\n}\n\n.letter-info {\n  font-size: 24rpx;\n  color: #888888;\n  font-weight: 400;\n}\n\n.letter-time {\n  font-size: 22rpx;\n  color: #888888;\n  margin-top: 8rpx;\n  font-weight: 400;\n}\n\n/* Â≠ó‰ΩìÊ†∑ÂºèÁ±ª */\n.font-style-default {\n  font-family: 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n  letter-spacing: 0;\n}\n\n.font-style-mashanzheng {\n  font-family: 'MaShanZheng', 'Ma Shan Zheng', 'KaiTi', cursive;\n  letter-spacing: 2rpx;\n}\n\n.font-style-zcoolkuaile {\n  font-family: 'ZCOOLKuaiLe', 'ZCOOL KuaiLe', 'KaiTi', cursive;\n  letter-spacing: 1rpx;\n}\n\n.font-style-qingsong {\n  font-family: 'QingSong', 'KaiTi', 'STKaiti', cursive;\n  letter-spacing: 1.5rpx;\n}\n\n.font-style-zcoolxiaowei {\n  font-family: 'ZCOOLXiaoWei', 'ZCOOL XiaoWei', 'KaiTi', cursive;\n  letter-spacing: 1rpx;\n}\n\n.font-style-zcoolwenyi {\n  font-family: 'ZCOOLWenYi', 'ZCOOL WenYi', 'KaiTi', cursive;\n  letter-spacing: 1.5rpx;\n}\n\n.detail-modal-actions {\n  display: flex;\n  gap: 16rpx;\n}\n\n.detail-modal-btn {\n  flex: 1;\n  padding: 24rpx;\n  border-radius: 12rpx;\n  font-size: 28rpx;\n  font-weight: 600;\n}\n\n.detail-modal-btn.close {\n  background: linear-gradient(90deg, #FFB5C2 0%, #FFD4A3 100%);\n  color: #3d2a00;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n</style>\n\n","import MiniProgramPage from 'C:/Users/Administrator/Desktop/È°πÁõÆ/love_time_fu - ÂâØÊú¨(ÊâìÂåÖÂêéÂâØÊú¨)/subPackages/record/pages/xinxiang/received.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","getReceivedLetters","getFutureLetterDetail"],"mappings":";;;AA2HA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,cAAc;AAAA,MACd,aAAa;AAAA,MACb,SAAS,CAAE;AAAA,MACX,iBAAiB;AAAA,MACjB,eAAe;AAAA,MACf,cAAc;AAAA;EAEjB;AAAA,EACD,UAAU;AAAA,IACR,sBAAsB;AACpB,YAAM,gBAAgB,KAAK,kBAAkB,KAAK;AAClD,YAAM,UAAU,MAAM,KAAK;AAC3B,YAAM,iBAAiB,gBAAgB;AACvC,aAAO,iBAAiB,KAAK;AAAA,IAC/B;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,cAAa;AAClB,SAAK,YAAW;AAAA,EACjB;AAAA,EACD,SAAS;AACP,SAAK,YAAW;AAAA,EACjB;AAAA,EACD,SAAS;AAAA,IACP,SAAS;AACPA,oBAAG,MAAC,aAAY;AAAA,IACjB;AAAA,IACD,gBAAgB;AACd,YAAM,aAAaA,oBAAI;AACvB,WAAK,kBAAkB,WAAW,mBAAmB;AACrD,WAAK,cAAc,WAAW,eAAe;AAE7C,WAAK,eAAe;AAAA,IAKrB;AAAA;AAAA,IAED,MAAM,cAAc;AAClB,UAAI;AACF,cAAM,WAAW,MAAMC,iBAAAA;AAEvB,cAAM,iBAAiB,KAAK,mBAAmB,QAAQ;AACvD,aAAK,UAAU,eAAe,IAAI,YAAU;AAC1C,gBAAM,eAAe,OAAO,OAAO,iBAAiB;AACpD,gBAAM,oBAAoB,MAAM,YAAY,IACxC,MACA,gBAAgB,IACd,eAAe,MACf;AACN,gBAAM,kBAAkB,OAAO,iBAAiB,OAAO;AACvD,gBAAM,gBAAgB,OAAO,aAAa,OAAO;AACjD,gBAAM,YAAY,OAAO;AAEzB,iBAAO;AAAA,YACL,IAAI,OAAO;AAAA,YACX,OAAO,OAAO;AAAA,YACd,SAAS,OAAO;AAAA,YAChB,cAAc,KAAK,eAAe,eAAe;AAAA,YACjD,YAAY,KAAK,eAAe,aAAa;AAAA,YAC7C,QAAQ,KAAK,eAAe,SAAS;AAAA,YACrC,QAAQ,OAAO;AAAA,YACf,OAAO,KAAK,uBAAuB,OAAO,eAAe;AAAA,YACzD,aAAa,OAAO;AAAA,YACpB,SAAS,KAAK,IAAI,KAAK,KAAK,IAAI,GAAG,iBAAiB,CAAC;AAAA,YACrD,WAAW,OAAO,aAAa,OAAO,cAAc;AAAA,YACpD,cAAc;AAAA;QAElB,CAAC;AAAA,MACD,SAAO,OAAO;AACdD,sBAAc,MAAA,MAAA,SAAA,yDAAA,aAAa,KAAK;AAChC,aAAK,UAAU;AAGf,YAAI,MAAM,eAAe,KAAK;AAE5BA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACR,CAAC;AAAA,QACH;AAAA,MACF;AAAA,IACD;AAAA;AAAA,IAGD,mBAAmB,UAAU;;AAC3B,UAAI,CAAC;AAAU,eAAO;AAEtB,YAAM,aAAa;AAAA,QACjB;AAAA,QACA,qCAAU;AAAA,QACV,qCAAU;AAAA,QACV,qCAAU;AAAA,QACV,qCAAU;AAAA,QACV,qCAAU;AAAA,QACV,qCAAU;AAAA,QACV,qCAAU;AAAA,SACV,0CAAU,SAAV,mBAAgB;AAAA,SAChB,0CAAU,SAAV,mBAAgB;AAAA,SAChB,0CAAU,SAAV,mBAAgB;AAAA,SAChB,0CAAU,SAAV,mBAAgB;AAAA,SAChB,0CAAU,SAAV,mBAAgB;AAAA,SAChB,0CAAU,SAAV,mBAAgB;AAAA,SAChB,0CAAU,SAAV,mBAAgB;AAAA;AAGlB,iBAAW,aAAa,YAAY;AAClC,YAAI,MAAM,QAAQ,SAAS,GAAG;AAC5B,iBAAO;AAAA,QACT;AAAA,MACF;AAEA,aAAO;IACR;AAAA;AAAA,IAGD,eAAe,WAAW;AACxB,UAAI,CAAC;AAAW,eAAO;AAEvB,YAAM,YAAY,qBAAqB,OAAO,YAAY,IAAI,KAAK,SAAS;AAC5E,UAAI,OAAO,MAAM,UAAU,QAAS,CAAA,GAAG;AACrC,eAAO,OAAO,cAAc,WAAW,YAAY;AAAA,MACrD;AAEA,YAAM,MAAM,SAAQ,MAAM,KAAK,IAAI,GAAG,KAAK,GAAG,GAAG;AACjD,YAAM,OAAO,UAAU;AACvB,YAAM,QAAQ,IAAI,UAAU,SAAW,IAAE,CAAC;AAC1C,YAAM,MAAM,IAAI,UAAU,QAAS,CAAA;AACnC,YAAM,QAAQ,IAAI,UAAU,SAAU,CAAA;AACtC,YAAM,UAAU,IAAI,UAAU,WAAY,CAAA;AAE1C,aAAO,GAAG,IAAI,IAAI,KAAK,IAAI,GAAG,IAAI,KAAK,IAAI,OAAO;AAAA,IACnD;AAAA;AAAA,IAGD,uBAAuB,iBAAiB;AACtC,UAAI,CAAC;AAAiB,eAAO;AAE7B,UAAI,gBAAgB,SAAS,QAAQ,KAAK,gBAAgB,WAAW,MAAM,GAAG;AAC5E,eAAO;AAAA,MACT;AAEA,YAAM,QAAQ,gBAAgB,MAAM,eAAe;AACnD,aAAO,QAAQ,SAAS,MAAM,CAAC,CAAC,IAAI;AAAA,IACrC;AAAA;AAAA,IAGD,oBAAoB,QAAQ;AAC1B,UAAI,OAAO,UAAU,UAAU;AAC7B,eAAO,OAAO;AAAA,MAChB;AACA,aAAO,uBAAuB,OAAO,KAAK;AAAA,IAC3C;AAAA;AAAA,IAGD,MAAM,WAAW,QAAQ,OAAO;AAC9B,UAAI;AAEFA,sBAAAA,MAAI,YAAY,EAAE,OAAO,SAAU,CAAA;AAGnC,cAAM,WAAW,MAAME,iBAAAA,sBAAsB,OAAO,EAAE;AAEtDF,sBAAG,MAAC,YAAW;AAGf,YAAI,YAAY,SAAS,MAAM;AAC7B,gBAAM,aAAa,SAAS;AAC5B,gBAAM,qBAAqB,WAAW,iBAAiB,WAAW,gBAAgB,OAAO;AACzF,gBAAM,mBAAmB,WAAW,aAAa,WAAW,cAAc,OAAO;AACjF,gBAAM,eAAe,WAAW,UAAU,OAAO;AAEjD,eAAK,gBAAgB;AAAA,YACnB,GAAG;AAAA,YACH,GAAG;AAAA;AAAA,YAEH,IAAI,WAAW,MAAM,OAAO;AAAA,YAC5B,OAAO,WAAW,SAAS,OAAO;AAAA,YAClC,SAAS,WAAW,WAAW,OAAO;AAAA,YACtC,cAAc,KAAK,eAAe,kBAAkB;AAAA,YACpD,YAAY,KAAK,eAAe,gBAAgB;AAAA,YAChD,QAAQ,KAAK,eAAe,YAAY;AAAA,YACxC,QAAQ,WAAW,UAAU,OAAO;AAAA,YACpC,OAAO,KAAK,uBAAuB,WAAW,mBAAmB,OAAO,eAAe;AAAA,YACvF,aAAa,WAAW,mBAAmB,OAAO;AAAA,YAClD,SAAS,WAAW,YAAY,SAAY,WAAW,UAAW,OAAO,WAAW;AAAA,YACpF,WAAW,WAAW,aAAa,WAAW,cAAc,OAAO,aAAa;AAAA,YAChF,cAAc;AAAA;eAEX;AAEL,eAAK,gBAAgB;AAAA,QACvB;AAEA,aAAK,eAAe;AACpB,aAAK,kBAAkB;AAAA,MACvB,SAAO,OAAO;AACdA,sBAAG,MAAC,YAAW;AACfA,sBAAc,MAAA,MAAA,SAAA,yDAAA,YAAY,KAAK;AAG/B,aAAK,gBAAgB;AACrB,aAAK,eAAe;AACpB,aAAK,kBAAkB;AAGvBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,UACN,UAAU;AAAA,QACZ,CAAC;AAAA,MACH;AAAA,IACD;AAAA;AAAA,IAGD,aAAa,QAAQ;AACnB,UAAI,CAAC;AAAQ,eAAO;AACpB,YAAM,YAAY,OAAO,aAAa,OAAO,cAAc;AAC3D,aAAO,cAAc,SAAS;AAAA,IAC/B;AAAA;AAAA,IAGD,cAAc;AACZ,WAAK,kBAAkB;AACvB,WAAK,gBAAgB;AACrB,WAAK,eAAe;AAAA,IACtB;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnWA,GAAG,WAAW,eAAe;"}