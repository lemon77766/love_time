{"version":3,"file":"history.js","sources":["subPackages/record/pages/trajectory/history.vue","D:/softcaree/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFja2FnZXNccmVjb3JkXHBhZ2VzXHRyYWplY3RvcnlcaGlzdG9yeS52dWU"],"sourcesContent":["<template>\r\n  <view class=\"history-page\" :style=\"{ paddingTop: containerPaddingTop }\">\r\n    <!-- Ëá™ÂÆö‰πâÂØºËà™Ê†è -->\r\n    <view class=\"custom-navbar\">\r\n      <!-- Ê∏êÂèòËÉåÊôØ -->\r\n      <view class=\"navbar-gradient-bg\"></view>\r\n      <!-- Áä∂ÊÄÅÊ†èÂç†‰Ωç -->\r\n      <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\r\n      <!-- ÂØºËà™Ê†èÂÜÖÂÆπ -->\r\n      <view class=\"navbar-content\" :style=\"{ height: navBarHeight + 'px' }\">\r\n        <view class=\"navbar-back\" @click=\"goBack\">\r\n          <text class=\"back-icon\">‚Üê</text>\r\n        </view>\r\n        <view class=\"navbar-title\">\r\n          <text class=\"title-text\">ÂéÜÂè≤ËΩ®Ëøπ</text>\r\n        </view>\r\n        <view class=\"navbar-placeholder\"></view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ÂÜÖÂÆπÂå∫Âüü -->\r\n    <view class=\"content-area\">\r\n      <!-- Êó∂Èó¥ÈÄâÊã©Âç°Áâá -->\r\n      <view class=\"card date-card\">\r\n        <view class=\"card-header\">\r\n          <text class=\"card-title\">ÈÄâÊã©Êó∂Èó¥Âå∫Èó¥</text>\r\n        </view>\r\n        <view class=\"date-range-selector\">\r\n          <view class=\"date-item-wrapper\">\r\n            <text class=\"date-label-text\">ÂºÄÂßãÊó•Êúü</text>\r\n            <picker mode=\"date\" :value=\"startDate\" :start=\"startDateMin\" :end=\"startDateMax\" @change=\"onStartDateChange\">\r\n              <view class=\"date-item\">\r\n                <text class=\"date-value\" :class=\"{ placeholder: !startDate }\">\r\n                  {{ startDate || 'ËØ∑ÈÄâÊã©ÂºÄÂßãÊó•Êúü' }}\r\n                </text>\r\n                <text class=\"date-icon\">üìÖ</text>\r\n              </view>\r\n            </picker>\r\n          </view>\r\n          \r\n          <view class=\"date-arrow\">\r\n            <text class=\"arrow-icon\">‚Üí</text>\r\n          </view>\r\n          \r\n          <view class=\"date-item-wrapper\">\r\n            <text class=\"date-label-text\">ÁªìÊùüÊó•Êúü</text>\r\n            <picker mode=\"date\" :value=\"endDate\" :start=\"endDateMin\" :end=\"endDateMax\" @change=\"onEndDateChange\">\r\n              <view class=\"date-item\">\r\n                <text class=\"date-value\" :class=\"{ placeholder: !endDate }\">\r\n                  {{ endDate || 'ËØ∑ÈÄâÊã©ÁªìÊùüÊó•Êúü' }}\r\n                </text>\r\n                <text class=\"date-icon\">üìÖ</text>\r\n              </view>\r\n            </picker>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"date-actions\">\r\n          <button \r\n            class=\"btn-query\" \r\n            @click=\"loadHistoryTrajectory\" \r\n            :disabled=\"!startDate || !endDate || isLoadingHistory\"\r\n            :class=\"{ loading: isLoadingHistory }\"\r\n          >\r\n            <text v-if=\"!isLoadingHistory\" class=\"btn-text\">Êü•ËØ¢ËΩ®Ëøπ</text>\r\n            <text v-else class=\"btn-text\">Âä†ËΩΩ‰∏≠...</text>\r\n          </button>\r\n          <button \r\n            v-if=\"historyPoints.length > 0\" \r\n            class=\"btn-clear\" \r\n            @click=\"clearHistory\"\r\n          >\r\n            <text class=\"btn-text\">Ê∏ÖÈô§</text>\r\n          </button>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- ÁªüËÆ°‰ø°ÊÅØÂç°Áâá -->\r\n      <view class=\"card stats-card\" v-if=\"historyPoints.length > 0\">\r\n        <view class=\"stats-item\">\r\n          <text class=\"stats-icon\">üìç</text>\r\n          <view class=\"stats-content\">\r\n            <text class=\"stats-label\">ËΩ®ËøπÁÇπ</text>\r\n            <text class=\"stats-value\">{{ historyPoints.length }}</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"stats-divider\"></view>\r\n        <view class=\"stats-item\">\r\n          <text class=\"stats-icon\">üóìÔ∏è</text>\r\n          <view class=\"stats-content\">\r\n            <text class=\"stats-label\">Êó∂Èó¥ËåÉÂõ¥</text>\r\n            <text class=\"stats-value-small\">{{ startDate }} Ëá≥ {{ endDate }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- Âú∞ÂõæÂÆπÂô® -->\r\n      <view class=\"card map-container\">\r\n        <map\r\n          class=\"map\"\r\n          :latitude=\"mapCenter.latitude\"\r\n          :longitude=\"mapCenter.longitude\"\r\n          :scale=\"mapScale\"\r\n          :markers=\"mapMarkers\"\r\n          :polyline=\"mapPolyline\"\r\n          :show-location=\"false\"\r\n          :enable-zoom=\"true\"\r\n          :enable-scroll=\"true\"\r\n          @markertap=\"onMarkerTap\"\r\n        />\r\n        \r\n        <!-- Á©∫Áä∂ÊÄÅ -->\r\n        <view v-if=\"!isLoadingHistory && historyPoints.length === 0 && hasSearched\" class=\"empty-state\">\r\n          <view class=\"empty-icon\">üó∫Ô∏è</view>\r\n          <text class=\"empty-text\">ËØ•Êó∂Èó¥ÊÆµÂÜÖÊ≤°ÊúâËΩ®ËøπÁÇπ</text>\r\n          <text class=\"empty-hint\">ËØ∑ÈÄâÊã©ÂÖ∂‰ªñÊó∂Èó¥Âå∫Èó¥</text>\r\n        </view>\r\n        \r\n        <!-- Âä†ËΩΩÁä∂ÊÄÅ -->\r\n        <view v-if=\"isLoadingHistory\" class=\"loading-overlay\">\r\n          <view class=\"loading-spinner\"></view>\r\n          <text class=\"loading-text\">Ê≠£Âú®Âä†ËΩΩËΩ®Ëøπ...</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ËΩ®ËøπÁÇπËØ¶ÊÉÖÂºπÁ™ó -->\r\n    <view v-if=\"showDetail\" class=\"modal-mask\" @click=\"hidePointDetail\">\r\n      <view class=\"modal\" @click.stop>\r\n        <view class=\"modal-header\">\r\n          <text class=\"modal-title\">{{ currentPoint.location_name || currentPoint.locationName || currentPoint.title || 'Êú™Áü•Âú∞ÁÇπ' }}</text>\r\n          <text class=\"modal-date\">{{ formatPointDate(currentPoint) }}</text>\r\n        </view>\r\n        <view class=\"modal-content\">\r\n          <view v-if=\"currentPoint.address\" class=\"point-address\">\r\n            <text class=\"address-label\">üìç</text>\r\n            <text class=\"address-text\">{{ currentPoint.address }}</text>\r\n          </view>\r\n          <image v-if=\"currentPoint.photos && currentPoint.photos.length > 0\" :src=\"currentPoint.photos[0]\" class=\"point-image\" mode=\"aspectFill\" />\r\n          <image v-else-if=\"currentPoint.image\" :src=\"currentPoint.image\" class=\"point-image\" mode=\"aspectFill\" />\r\n          <text class=\"point-description\">{{ currentPoint.description || \"ÊöÇÊó†ÊèèËø∞\" }}</text>\r\n          <view v-if=\"currentPoint.visit_count || currentPoint.stay_duration\" class=\"point-meta\">\r\n            <text v-if=\"currentPoint.visit_count\" class=\"meta-text\">Âà∞ËÆøÊ¨°Êï∞Ôºö{{ currentPoint.visit_count }}</text>\r\n            <text v-if=\"currentPoint.stay_duration\" class=\"meta-text\">ÂÅúÁïôÊó∂ÈïøÔºö{{ formatDuration(currentPoint.stay_duration) }}</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"modal-actions\">\r\n          <button class=\"btn secondary\" @click=\"hidePointDetail\">ÂÖ≥Èó≠</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { getTrajectoryList } from '@/api/trajectory.js';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      statusBarHeight: 0,\r\n      navBarHeight: 54,\r\n      screenWidth: 375,\r\n      // ÂéÜÂè≤ËΩ®ËøπÁõ∏ÂÖ≥\r\n      startDate: '',  // ÂºÄÂßãÊó•Êúü\r\n      endDate: '',    // ÁªìÊùüÊó•Êúü\r\n      historyPoints: [],  // ÂéÜÂè≤ËΩ®ËøπÁÇπÂàóË°®\r\n      isLoadingHistory: false,  // ÊòØÂê¶Ê≠£Âú®Âä†ËΩΩÂéÜÂè≤ËΩ®Ëøπ\r\n      hasSearched: false,  // ÊòØÂê¶Â∑≤ÊêúÁ¥¢Ëøá\r\n      showDetail: false,\r\n      currentPoint: {},\r\n      // Âú∞ÂõæÁõ∏ÂÖ≥\r\n      mapCenter: {\r\n        latitude: 39.9042,  // ÈªòËÆ§Âåó‰∫¨\r\n        longitude: 116.4074\r\n      },\r\n      mapScale: 13,  // Âú∞ÂõæÁº©ÊîæÁ∫ßÂà´\r\n      mapMarkers: [],  // Âú∞ÂõæÊ†áËÆ∞ÁÇπ\r\n      mapPolyline: []  // Âú∞ÂõæË∑ØÁ∫ø\r\n    };\r\n  },\r\n  computed: {\r\n    containerPaddingTop() {\r\n      // Â∞ÜpxËΩ¨Êç¢‰∏∫rpx: rpx = px * 750 / screenWidth\r\n      // Ê∑ªÂä†20rpxÈ¢ùÂ§ñÈó¥Ë∑ù\r\n      const totalHeightPx = this.statusBarHeight + this.navBarHeight;\r\n      const pxToRpx = 750 / this.screenWidth;\r\n      const totalHeightRpx = totalHeightPx * pxToRpx;\r\n      return totalHeightRpx + 20 + 'rpx';\r\n    },\r\n    // ÂºÄÂßãÊó•ÊúüÈÄâÊã©Âô®ÁöÑÊúÄÂ∞èÊó•Êúü\r\n    startDateMin() {\r\n      return '2020-01-01';\r\n    },\r\n    // ÂºÄÂßãÊó•ÊúüÈÄâÊã©Âô®ÁöÑÊúÄÂ§ßÊó•Êúü\r\n    startDateMax() {\r\n      return this.endDate || this.formatDate(new Date());\r\n    },\r\n    // ÁªìÊùüÊó•ÊúüÈÄâÊã©Âô®ÁöÑÊúÄÂ∞èÊó•Êúü\r\n    endDateMin() {\r\n      return this.startDate || '2020-01-01';\r\n    },\r\n    // ÁªìÊùüÊó•ÊúüÈÄâÊã©Âô®ÁöÑÊúÄÂ§ßÊó•Êúü\r\n    endDateMax() {\r\n      return this.formatDate(new Date());\r\n    }\r\n  },\r\n  watch: {\r\n    // ÁõëÂê¨ÂéÜÂè≤ËΩ®ËøπÁÇπÂèòÂåñÔºåÊõ¥Êñ∞Âú∞Âõæ\r\n    historyPoints: {\r\n      handler() {\r\n        if (this.historyPoints.length > 0) {\r\n          this.updateHistoryMap();\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  onLoad() {\r\n    this.getSystemInfo();\r\n  },\r\n  methods: {\r\n    getSystemInfo() {\r\n      // ‰ΩøÁî®Êñ∞ÁöÑ API Êõø‰ª£Â∑≤ÂºÉÁî®ÁöÑ getSystemInfoSync\r\n      // #ifdef MP-WEIXIN\r\n      try {\r\n        // Â∞ùËØï‰ΩøÁî®Êñ∞ API\r\n        const windowInfo = wx.getWindowInfo && wx.getWindowInfo();\r\n        const deviceInfo = wx.getDeviceInfo && wx.getDeviceInfo();\r\n        \r\n        if (windowInfo && deviceInfo) {\r\n          this.statusBarHeight = windowInfo.statusBarHeight || 0;\r\n          this.screenWidth = windowInfo.windowWidth || 375;\r\n        } else {\r\n          // ÈôçÁ∫ßÂà∞Êóß API\r\n          const sysInfo = uni.getSystemInfoSync();\r\n          this.statusBarHeight = sysInfo.statusBarHeight || 0;\r\n          this.screenWidth = sysInfo.windowWidth || 375;\r\n        }\r\n      } catch (e) {\r\n        // Â¶ÇÊûúÊñ∞ API ‰∏çÊîØÊåÅÔºåÈôçÁ∫ßÂà∞Êóß API\r\n        const sysInfo = uni.getSystemInfoSync();\r\n        this.statusBarHeight = sysInfo.statusBarHeight || 0;\r\n        this.screenWidth = sysInfo.windowWidth || 375;\r\n      }\r\n      this.navBarHeight = 54;\r\n      // #endif\r\n      // #ifdef H5\r\n      const sysInfoH5 = uni.getSystemInfoSync();\r\n      this.statusBarHeight = sysInfoH5.statusBarHeight || 0;\r\n      this.screenWidth = sysInfoH5.windowWidth || 375;\r\n      this.navBarHeight = 54;\r\n      // #endif\r\n      // #ifndef MP-WEIXIN || H5\r\n      const sysInfoOther = uni.getSystemInfoSync();\r\n      this.statusBarHeight = sysInfoOther.statusBarHeight || 0;\r\n      this.screenWidth = sysInfoOther.windowWidth || 375;\r\n      this.navBarHeight = 54;\r\n      // #endif\r\n    },\r\n    \r\n    goBack() {\r\n      uni.navigateBack();\r\n    },\r\n    \r\n    showPointDetail(point) {\r\n      this.currentPoint = point;\r\n      this.showDetail = true;\r\n    },\r\n    \r\n    hidePointDetail() {\r\n      this.showDetail = false;\r\n      this.currentPoint = {};\r\n    },\r\n    \r\n    /**\r\n     * ÂºÄÂßãÊó•ÊúüÊîπÂèò\r\n     */\r\n    onStartDateChange(e) {\r\n      const selectedDate = e.detail.value;\r\n      if (this.endDate && selectedDate > this.endDate) {\r\n        uni.showToast({\r\n          title: 'ÂºÄÂßãÊó•Êúü‰∏çËÉΩÊôö‰∫éÁªìÊùüÊó•Êúü',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      this.startDate = selectedDate;\r\n    },\r\n    \r\n    /**\r\n     * ÁªìÊùüÊó•ÊúüÊîπÂèò\r\n     */\r\n    onEndDateChange(e) {\r\n      const selectedDate = e.detail.value;\r\n      if (this.startDate && selectedDate < this.startDate) {\r\n        uni.showToast({\r\n          title: 'ÁªìÊùüÊó•Êúü‰∏çËÉΩÊó©‰∫éÂºÄÂßãÊó•Êúü',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      this.endDate = selectedDate;\r\n    },\r\n    \r\n    /**\r\n     * Ê†ºÂºèÂåñÊó•Êúü‰∏∫ YYYY-MM-DD\r\n     */\r\n    formatDate(date) {\r\n      if (typeof date === 'string') {\r\n        return date;\r\n      }\r\n      const year = date.getFullYear();\r\n      const month = String(date.getMonth() + 1).padStart(2, '0');\r\n      const day = String(date.getDate()).padStart(2, '0');\r\n      return `${year}-${month}-${day}`;\r\n    },\r\n    \r\n    /**\r\n     * Âä†ËΩΩÂéÜÂè≤ËΩ®ËøπÁÇπ\r\n     */\r\n    async loadHistoryTrajectory() {\r\n      if (!this.startDate || !this.endDate) {\r\n        uni.showToast({\r\n          title: 'ËØ∑ÈÄâÊã©Êó∂Èó¥Âå∫Èó¥',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      if (this.startDate > this.endDate) {\r\n        uni.showToast({\r\n          title: 'ÂºÄÂßãÊó•Êúü‰∏çËÉΩÊôö‰∫éÁªìÊùüÊó•Êúü',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      this.isLoadingHistory = true;\r\n      this.hasSearched = true;\r\n      \r\n      try {\r\n        // Â¶ÇÊûúÁî®Êà∑ÈÄâÊã©‰∫ÜÊó∂Èó¥Âå∫Èó¥Ôºå‰ΩøÁî® start_date Âíå end_dateÔºõÂê¶Âàô‰ΩøÁî® period=30days\r\n        const params = this.startDate && this.endDate \r\n          ? {\r\n              start_date: this.startDate,\r\n              end_date: this.endDate,\r\n              showPartnerOnly: true,\r\n              limit: 1000  // Ëé∑ÂèñÊõ¥Â§öËΩ®ËøπÁÇπ\r\n            }\r\n          : {\r\n              period: '30days',\r\n              showPartnerOnly: true,\r\n              limit: 1000  // Ëé∑ÂèñÊõ¥Â§öËΩ®ËøπÁÇπ\r\n            };\r\n        \r\n        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');\r\n        console.log('üìÖ [ÂéÜÂè≤ËΩ®ËøπÊü•ËØ¢] ÂºÄÂßãÊü•ËØ¢');\r\n        console.log('ÈÄâÊã©ÁöÑÊó•ÊúüËåÉÂõ¥:', this.startDate, 'Ëá≥', this.endDate);\r\n        console.log('ËØ∑Ê±ÇÂèÇÊï∞:', JSON.stringify(params, null, 2));\r\n        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');\r\n        \r\n        const res = await getTrajectoryList(params);\r\n        \r\n        console.log('ËΩ®ËøπÁÇπÊü•ËØ¢ÂìçÂ∫î:', res);\r\n        console.log('ÈÄâÊã©ÁöÑÊó•ÊúüËåÉÂõ¥:', this.startDate, 'Ëá≥', this.endDate);\r\n        \r\n        const isSuccess = res && (res.success === true || res.code === 200);\r\n        const responseData = res?.data || res;\r\n        \r\n        if (isSuccess && responseData) {\r\n          // ÂÖºÂÆπÂ§öÁßçÊï∞ÊçÆÊ†ºÂºèÔºö\r\n          // 1. res.data.partnerTrajectories (Âè™ÊòæÁ§∫ÂØπÊñπËΩ®ËøπÔºåshowPartnerOnly=true)\r\n          // 2. res.data.points (Ê†áÂáÜÊ†ºÂºè)\r\n          // 3. res.data Áõ¥Êé•ÊòØÊï∞ÁªÑ (ÂêéÁ´ØËøîÂõûÊ†ºÂºè)\r\n          // 4. res.data.recordsÔºàÂàÜÈ°µÊ†ºÂºèÔºâ\r\n          let points = [];\r\n          \r\n          if (responseData.partnerTrajectories && Array.isArray(responseData.partnerTrajectories)) {\r\n            // ‰ºòÂÖà‰ΩøÁî® partnerTrajectoriesÔºàÂè™ÊòæÁ§∫ÂØπÊñπËΩ®ËøπÔºâ\r\n            points = responseData.partnerTrajectories;\r\n          } else if (responseData.records && Array.isArray(responseData.records)) {\r\n            points = responseData.records;\r\n          } else if (Array.isArray(responseData)) {\r\n            points = responseData;\r\n          } else if (responseData.points && Array.isArray(responseData.points)) {\r\n            points = responseData.points;\r\n          }\r\n          \r\n          // Â§ÑÁêÜÊó•ÊúüÊ†ºÂºèÂíåÂ≠óÊÆµÊò†Â∞Ñ\r\n          // ÂêéÁ´ØËøîÂõûÁöÑÊó•ÊúüÊ†ºÂºèÂèØËÉΩÊòØ \"Nov 5, 2025, 5:01:17 PM\"ÔºåÈúÄË¶ÅÂÖºÂÆπÂ§ÑÁêÜ\r\n          points = points.map(point => {\r\n            // Á°Æ‰øùÂ≠óÊÆµÂêçÂÖºÂÆπÔºàÂêåÊó∂ÊîØÊåÅ visitTime Âíå visit_timeÔºâ\r\n            if (point.visitTime && !point.visit_time) {\r\n              point.visit_time = point.visitTime;\r\n            }\r\n            if (point.visit_time && !point.visitTime) {\r\n              point.visitTime = point.visit_time;\r\n            }\r\n            \r\n            // ÂÖºÂÆπ placeName„ÄÅphotoUrl Á≠âÂ≠óÊÆµ\r\n            if (!point.location_name && !point.locationName) {\r\n              point.location_name = point.placeName || point.address || point.description || 'Êú™Áü•Âú∞ÁÇπ';\r\n              point.locationName = point.location_name;\r\n            } else if (point.locationName && !point.location_name) {\r\n              point.location_name = point.locationName;\r\n            } else if (point.location_name && !point.locationName) {\r\n              point.locationName = point.location_name;\r\n            }\r\n            \r\n            if (!point.photos && point.photoUrl) {\r\n              point.photos = [point.photoUrl];\r\n            }\r\n            \r\n            return point;\r\n          });\r\n          \r\n          console.log('Ëß£ÊûêÂêéÁöÑËΩ®ËøπÁÇπÊï∞Èáè:', points.length);\r\n          console.log('ËΩ®ËøπÁÇπÊï∞ÊçÆÁ§∫‰æã:', points[0]);\r\n          \r\n          // ÂâçÁ´Ø‰∫åÊ¨°ËøáÊª§ÔºöÁ°Æ‰øùÂè™ÊòæÁ§∫ÈÄâÊã©ÁöÑÊó∂Èó¥ËåÉÂõ¥ÂÜÖÁöÑËΩ®ËøπÁÇπÔºàÂèåÈáç‰øùÈöúÔºâ\r\n          if (this.startDate && this.endDate) {\r\n            const startDateObj = new Date(this.startDate + ' 00:00:00');\r\n            const endDateObj = new Date(this.endDate + ' 23:59:59');\r\n            \r\n            const filteredPoints = points.filter(point => {\r\n              const visitTime = this.parseTimeString(point.visit_time || point.visitTime);\r\n              if (!visitTime) return false;\r\n              \r\n              // Ê£ÄÊü•Êó∂Èó¥ÊòØÂê¶Âú®ÈÄâÊã©ÁöÑËåÉÂõ¥ÂÜÖ\r\n              return visitTime >= startDateObj && visitTime <= endDateObj;\r\n            });\r\n            \r\n            console.log(`ÂâçÁ´ØÊó∂Èó¥ËøáÊª§: ÂéüÂßã ${points.length} ‰∏™ÁÇπÔºåËøáÊª§Âêé ${filteredPoints.length} ‰∏™ÁÇπ`);\r\n            console.log(`Êó∂Èó¥ËåÉÂõ¥: ${this.startDate} 00:00:00 Ëá≥ ${this.endDate} 23:59:59`);\r\n            \r\n            this.historyPoints = filteredPoints;\r\n          } else {\r\n            this.historyPoints = points;\r\n          }\r\n          \r\n          // Êõ¥Êñ∞Âú∞ÂõæÊòæÁ§∫\r\n          if (this.historyPoints.length > 0) {\r\n            this.updateHistoryMap();\r\n            uni.showToast({\r\n              title: `Âä†ËΩΩ‰∫Ü ${this.historyPoints.length} ‰∏™ËΩ®ËøπÁÇπ`,\r\n              icon: 'success',\r\n              duration: 2000\r\n            });\r\n          } else {\r\n            uni.showToast({\r\n              title: 'ËØ•Êó∂Èó¥ÊÆµÂÜÖÊ≤°ÊúâËΩ®ËøπÁÇπ',\r\n              icon: 'none'\r\n            });\r\n            // ÈáçÁΩÆÂú∞Âõæ\r\n            this.mapMarkers = [];\r\n            this.mapPolyline = [];\r\n            this.mapCenter = {\r\n              latitude: 39.9042,\r\n              longitude: 116.4074\r\n            };\r\n            this.mapScale = 13;\r\n          }\r\n        } else {\r\n          const backendMsg = res?.msg || res?.message || responseData?.message;\r\n          throw new Error(backendMsg || 'Âä†ËΩΩÂ§±Ë¥•');\r\n        }\r\n      } catch (error) {\r\n        console.error('Âä†ËΩΩÂéÜÂè≤ËΩ®ËøπÂ§±Ë¥•:', error);\r\n        uni.showToast({\r\n          title: error.message || 'Âä†ËΩΩÂéÜÂè≤ËΩ®ËøπÂ§±Ë¥•',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n        this.historyPoints = [];\r\n        // ÈáçÁΩÆÂú∞Âõæ\r\n        this.mapMarkers = [];\r\n        this.mapPolyline = [];\r\n      } finally {\r\n        this.isLoadingHistory = false;\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * Ê∏ÖÈô§ÂéÜÂè≤ËΩ®Ëøπ\r\n     */\r\n    clearHistory() {\r\n      this.historyPoints = [];\r\n      this.startDate = '';\r\n      this.endDate = '';\r\n      this.hasSearched = false;\r\n      // ÈáçÁΩÆÂú∞Âõæ\r\n      this.mapMarkers = [];\r\n      this.mapPolyline = [];\r\n      this.mapCenter = {\r\n        latitude: 39.9042,\r\n        longitude: 116.4074\r\n      };\r\n      this.mapScale = 13;\r\n    },\r\n    \r\n    /**\r\n     * Êõ¥Êñ∞ÂéÜÂè≤ËΩ®ËøπÂú∞ÂõæÊòæÁ§∫\r\n     */\r\n    updateHistoryMap() {\r\n      if (this.historyPoints.length === 0) {\r\n        return;\r\n      }\r\n      \r\n      // ÊåâÊó∂Èó¥ÊéíÂ∫èËΩ®ËøπÁÇπ\r\n      const sortedPoints = [...this.historyPoints].sort((a, b) => {\r\n        const timeA = this.parseTimeString(a.visit_time || a.visitTime);\r\n        const timeB = this.parseTimeString(b.visit_time || b.visitTime);\r\n        \r\n        if (!timeA && !timeB) return 0;\r\n        if (!timeA) return 1;\r\n        if (!timeB) return -1;\r\n        \r\n        return timeA.getTime() - timeB.getTime();\r\n      });\r\n      \r\n      // ÂàõÂª∫Âú∞ÂõæÊ†áËÆ∞ÁÇπ\r\n      const markers = sortedPoints.map((point, index) => {\r\n        const latitude = point.latitude;\r\n        const longitude = point.longitude;\r\n        const locationName = point.location_name || point.locationName || point.address || 'Êú™Áü•Âú∞ÁÇπ';\r\n        const visitTime = point.visit_time || point.visitTime;\r\n        \r\n        return {\r\n          id: index + 100,\r\n          latitude: latitude,\r\n          longitude: longitude,\r\n          width: 30,\r\n          height: 30,\r\n          title: locationName,\r\n          callout: {\r\n            content: `${locationName}\\n${this.formatVisitTime(visitTime)}`,\r\n            color: '#333',\r\n            fontSize: 12,\r\n            borderRadius: 4,\r\n            bgColor: '#fff',\r\n            padding: 8,\r\n            display: 'BYCLICK'\r\n          },\r\n          pointData: point\r\n        };\r\n      });\r\n      \r\n      this.mapMarkers = markers;\r\n      \r\n      // ËÆ°ÁÆóÂú∞Âõæ‰∏≠ÂøÉÁÇπÂíåÁº©ÊîæÁ∫ßÂà´\r\n      if (markers.length > 0) {\r\n        // ËÆ°ÁÆóÊâÄÊúâÁÇπÁöÑËæπÁïå\r\n        const latitudes = markers.map(m => m.latitude);\r\n        const longitudes = markers.map(m => m.longitude);\r\n        const minLat = Math.min(...latitudes);\r\n        const maxLat = Math.max(...latitudes);\r\n        const minLon = Math.min(...longitudes);\r\n        const maxLon = Math.max(...longitudes);\r\n        \r\n        // ‰∏≠ÂøÉÁÇπ\r\n        this.mapCenter = {\r\n          latitude: (minLat + maxLat) / 2,\r\n          longitude: (minLon + maxLon) / 2\r\n        };\r\n        \r\n        // Ê†πÊçÆË¶ÜÁõñËåÉÂõ¥Ë∞ÉÊï¥Áº©ÊîæÁ∫ßÂà´\r\n        const latDiff = maxLat - minLat;\r\n        const lonDiff = maxLon - minLon;\r\n        const maxDiff = Math.max(latDiff, lonDiff);\r\n        \r\n        if (maxDiff < 0.01) {\r\n          this.mapScale = 16;\r\n        } else if (maxDiff < 0.1) {\r\n          this.mapScale = 14;\r\n        } else if (maxDiff < 1) {\r\n          this.mapScale = 12;\r\n        } else {\r\n          this.mapScale = 10;\r\n        }\r\n        \r\n        // ÂàõÂª∫ËΩ®ËøπËøûÁ∫øÔºàÊåâÊó∂Èó¥È°∫Â∫èÔºâ\r\n        if (sortedPoints.length > 1) {\r\n          const points = sortedPoints.map(point => ({\r\n            latitude: point.latitude,\r\n            longitude: point.longitude\r\n          }));\r\n          \r\n          this.mapPolyline = [{\r\n            points: points,\r\n            color: '#FF6B9D',\r\n            width: 4,\r\n            borderColor: '#fff',\r\n            borderWidth: 1,\r\n            arrowLine: true,\r\n            dottedLine: false\r\n          }];\r\n        } else {\r\n          this.mapPolyline = [];\r\n        }\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * Âú∞ÂõæÊ†áËÆ∞ÁÇπÁÇπÂáª‰∫ã‰ª∂\r\n     */\r\n    onMarkerTap(e) {\r\n      console.log('Ê†áËÆ∞ÁÇπÁÇπÂáª:', e);\r\n      if (e.detail) {\r\n        const markerId = e.detail.markerId;\r\n        const marker = this.mapMarkers.find(m => m.id === markerId);\r\n        if (marker && marker.pointData) {\r\n          this.showPointDetail(marker.pointData);\r\n        }\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * Ëß£ÊûêÊó∂Èó¥Â≠óÁ¨¶‰∏≤ÔºàÂÖºÂÆπÂ§öÁßçÊ†ºÂºèÔºâ\r\n     * ÊîØÊåÅÊ†ºÂºèÔºö\r\n     * - ISO Ê†ºÂºè: \"2025-11-05T17:01:17.000Z\"\r\n     * - Ê†áÂáÜÊ†ºÂºè: \"2025-11-05 17:01:17\"\r\n     * - Ëã±ÊñáÊ†ºÂºè: \"Nov 5, 2025, 5:01:17 PM\"\r\n     * - ÂÖ∂‰ªñÊ†áÂáÜ Date ÂèØËß£ÊûêÊ†ºÂºè\r\n     */\r\n    parseTimeString(timeStr) {\r\n      if (!timeStr) return null;\r\n      \r\n      if (timeStr instanceof Date) {\r\n        return timeStr;\r\n      }\r\n      \r\n      // ÂÖàÂ∞ùËØïÁõ¥Êé•Ëß£Êûê\r\n      let date = new Date(timeStr);\r\n      \r\n      if (!isNaN(date.getTime())) {\r\n        return date;\r\n      }\r\n      \r\n      // Â§ÑÁêÜ \"Nov 5, 2025, 5:01:17 PM\" Ê†ºÂºè\r\n      // ÂåπÈÖçÊ†ºÂºè: \"Nov 5, 2025, 5:01:17 PM\" Êàñ \"Nov 5, 2025, 5:01:17 PM\"\r\n      const englishFormat = /^([A-Za-z]{3})\\s+(\\d{1,2}),\\s+(\\d{4}),\\s+(\\d{1,2}):(\\d{2}):(\\d{2})\\s+(AM|PM)$/i;\r\n      const match = timeStr.match(englishFormat);\r\n      \r\n      if (match) {\r\n        const monthNames = {\r\n          'Jan': 0, 'Feb': 1, 'Mar': 2, 'Apr': 3, 'May': 4, 'Jun': 5,\r\n          'Jul': 6, 'Aug': 7, 'Sep': 8, 'Oct': 9, 'Nov': 10, 'Dec': 11\r\n        };\r\n        \r\n        const month = monthNames[match[1]];\r\n        const day = parseInt(match[2], 10);\r\n        const year = parseInt(match[3], 10);\r\n        let hour = parseInt(match[4], 10);\r\n        const minute = parseInt(match[5], 10);\r\n        const second = parseInt(match[6], 10);\r\n        const ampm = match[7].toUpperCase();\r\n        \r\n        // ËΩ¨Êç¢ 12 Â∞èÊó∂Âà∂Âà∞ 24 Â∞èÊó∂Âà∂\r\n        if (ampm === 'PM' && hour !== 12) {\r\n          hour += 12;\r\n        } else if (ampm === 'AM' && hour === 12) {\r\n          hour = 0;\r\n        }\r\n        \r\n        // ÂàõÂª∫Êó•ÊúüÂØπË±°Ôºà‰ΩøÁî® UTCÔºåÁÑ∂ÂêéËΩ¨Êç¢‰∏∫Êú¨Âú∞Êó∂Èó¥Ôºâ\r\n        date = new Date(year, month, day, hour, minute, second);\r\n        \r\n        if (!isNaN(date.getTime())) {\r\n          return date;\r\n        }\r\n      }\r\n      \r\n      // Â∞ùËØïÂÖ∂‰ªñÊ†áÂáÜÂåñÂ§ÑÁêÜ\r\n      const normalized = timeStr.replace(/,\\s*(\\d{1,2}:\\d{2}:\\d{2})/, ' $1');\r\n      date = new Date(normalized);\r\n      \r\n      if (!isNaN(date.getTime())) {\r\n        return date;\r\n      }\r\n      \r\n      console.warn('Êó†Ê≥ïËß£ÊûêÊó∂Èó¥Â≠óÁ¨¶‰∏≤:', timeStr);\r\n      return null;\r\n    },\r\n    \r\n    /**\r\n     * Ê†ºÂºèÂåñËÆøÈóÆÊó∂Èó¥\r\n     */\r\n    formatVisitTime(timeStr) {\r\n      if (!timeStr) return '';\r\n      const date = this.parseTimeString(timeStr);\r\n      if (!date) return timeStr;\r\n      \r\n      const month = date.getMonth() + 1;\r\n      const day = date.getDate();\r\n      const hour = date.getHours();\r\n      const minute = date.getMinutes();\r\n      return `${month}-${day} ${hour}:${minute.toString().padStart(2, '0')}`;\r\n    },\r\n    \r\n    /**\r\n     * Ê†ºÂºèÂåñËΩ®ËøπÁÇπÊó•Êúü\r\n     */\r\n    formatPointDate(point) {\r\n      if (point.visit_time || point.visitTime) {\r\n        const date = this.parseTimeString(point.visit_time || point.visitTime);\r\n        if (!date) return '';\r\n        \r\n        const year = date.getFullYear();\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const day = String(date.getDate()).padStart(2, '0');\r\n        const hour = String(date.getHours()).padStart(2, '0');\r\n        const minute = String(date.getMinutes()).padStart(2, '0');\r\n        return `${year}-${month}-${day} ${hour}:${minute}`;\r\n      }\r\n      return point.date || 'Êú™Áü•Êó•Êúü';\r\n    },\r\n    \r\n    /**\r\n     * Ê†ºÂºèÂåñÂÅúÁïôÊó∂Èïø\r\n     */\r\n    formatDuration(minutes) {\r\n      if (!minutes) return '';\r\n      if (minutes < 60) {\r\n        return `${minutes}ÂàÜÈíü`;\r\n      } else if (minutes < 1440) {\r\n        const hours = Math.floor(minutes / 60);\r\n        const mins = minutes % 60;\r\n        return mins > 0 ? `${hours}Â∞èÊó∂${mins}ÂàÜÈíü` : `${hours}Â∞èÊó∂`;\r\n      } else {\r\n        const days = Math.floor(minutes / 1440);\r\n        const hours = Math.floor((minutes % 1440) / 60);\r\n        return hours > 0 ? `${days}Â§©${hours}Â∞èÊó∂` : `${days}Â§©`;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.history-page {\r\n  min-height: 100vh;\r\n  background-color: #FFFAF4;\r\n  padding-bottom: 40rpx;\r\n}\r\n\r\n/* Ëá™ÂÆö‰πâÂØºËà™Ê†èÊ†∑Âºè */\r\n.custom-navbar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 9999;\r\n  background-color: #FFFAF4;\r\n  overflow: hidden;\r\n}\r\n.navbar-gradient-bg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 200%;\r\n  background: rgba(255, 255, 255, 0.7);\r\n  backdrop-filter: blur(15px);\r\n  -webkit-backdrop-filter: blur(15px);\r\n}\r\n.status-bar {\r\n  width: 100%;\r\n  background: transparent;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n.navbar-content {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 30rpx;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n.navbar-back {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 30rpx;\r\n  background: rgba(255, 255, 255, 0.7);\r\n  backdrop-filter: blur(15px);\r\n  -webkit-backdrop-filter: blur(15px);\r\n  cursor: pointer;\r\n}\r\n.navbar-back:active {\r\n  opacity: 0.6;\r\n}\r\n.back-icon {\r\n  font-size: 36rpx;\r\n  color: #4A4A4A;\r\n  font-weight: 600;\r\n}\r\n.navbar-title {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n}\r\n.title-text {\r\n  font-size: 36rpx;\r\n  font-weight: 500;\r\n  color: #4A4A4A;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.navbar-placeholder {\r\n  width: 60rpx;\r\n}\r\n\r\n/* ÂÜÖÂÆπÂå∫Âüü */\r\n.content-area {\r\n  padding: 30rpx 24rpx;\r\n}\r\n\r\n/* Âç°ÁâáÈÄöÁî®Ê†∑Âºè - glass-cardÈ£éÊ†º */\r\n.card {\r\n  background: rgba(255, 255, 255, 0.7);\r\n  backdrop-filter: blur(15px);\r\n  -webkit-backdrop-filter: blur(15px);\r\n  border-radius: 16rpx;\r\n  margin-bottom: 32rpx;\r\n  box-shadow: 0 8rpx 12rpx rgba(0, 0, 0, 0.04), inset 0 0 0 2rpx rgba(255,255,255,0.5);\r\n  overflow: hidden;\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.card-header {\r\n  padding: 32rpx 30rpx 24rpx;\r\n}\r\n\r\n.card-title {\r\n  font-size: 32rpx;\r\n  font-weight: 500;\r\n  color: #4A4A4A;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n.card-body {\r\n  padding: 0 30rpx 32rpx;\r\n}\r\n\r\n/* Êó∂Èó¥ÈÄâÊã©Âç°Áâá */\r\n.date-card {\r\n  padding: 0;\r\n}\r\n.date-range-selector {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 20rpx;\r\n  margin-bottom: 24rpx;\r\n  padding: 0 30rpx;\r\n}\r\n.date-item-wrapper {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12rpx;\r\n  align-items: center;\r\n}\r\n.date-label-text {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  padding-left: 0;\r\n  text-align: center;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.date-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 16rpx;\r\n  padding: 24rpx 20rpx;\r\n  background: rgba(255, 255, 255, 0.7);\r\n  backdrop-filter: blur(15px);\r\n  -webkit-backdrop-filter: blur(15px);\r\n  border-radius: 16rpx;\r\n  box-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.04), inset 0 0 0 1rpx rgba(255,255,255,0.5);\r\n  cursor: pointer;\r\n}\r\n.date-item:active {\r\n  transform: scale(0.98);\r\n}\r\n.date-value {\r\n  font-size: 28rpx;\r\n  color: #4A4A4A;\r\n  font-weight: 500;\r\n  flex: none;\r\n  text-align: center;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.date-value.placeholder {\r\n  color: #999;\r\n}\r\n.date-icon {\r\n  font-size: 28rpx;\r\n  margin-left: 0;\r\n}\r\n.date-arrow {\r\n  padding-bottom: 48rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.arrow-icon {\r\n  font-size: 32rpx;\r\n  color: #666;\r\n  font-weight: 600;\r\n}\r\n.date-actions {\r\n  display: flex;\r\n  gap: 20rpx;\r\n  padding: 0 30rpx;\r\n  padding-bottom: 32rpx;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.btn-query {\r\n  flex: 1;\r\n  max-width: 240rpx;\r\n  padding: 12rpx 20rpx;\r\n  background: linear-gradient(135deg, #FF9EBC 0%, #D9ACFF 100%);\r\n  color: #ffffff;\r\n  border-radius: 40rpx;\r\n  font-size: 22rpx;\r\n  font-weight: 500;\r\n  border: none;\r\n  box-shadow: 0 6rpx 18rpx rgba(255, 158, 188, 0.3);\r\n  transition: all 0.3s ease;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.btn-query:active {\r\n  transform: scale(0.95);\r\n  box-shadow: 0 4rpx 12rpx rgba(255, 158, 188, 0.2);\r\n}\r\n.btn-query:disabled {\r\n  background: #e0e0e0;\r\n  color: #999;\r\n  box-shadow: none;\r\n}\r\n.btn-query.loading {\r\n  opacity: 0.7;\r\n}\r\n.btn-clear {\r\n  padding: 18rpx 32rpx;\r\n  background: linear-gradient(135deg, #FF9EBC 0%, #D9ACFF 100%);\r\n  color: #ffffff;\r\n  border-radius: 14rpx;\r\n  font-size: 26rpx;\r\n  font-weight: 500;\r\n  border: none;\r\n  box-shadow: 0 6rpx 18rpx rgba(255, 158, 188, 0.3);\r\n  transition: all 0.2s ease;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.btn-clear:active {\r\n  transform: scale(0.98);\r\n}\r\n.btn-text {\r\n  font-size: 22rpx;\r\n  font-weight: 500;\r\n  line-height: 1;\r\n  text-align: center;\r\n}\r\n\r\n/* ÁªüËÆ°‰ø°ÊÅØÂç°Áâá */\r\n.stats-card {\r\n  padding: 32rpx 30rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 30rpx;\r\n}\r\n.stats-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n  flex: 1;\r\n}\r\n.stats-icon {\r\n  font-size: 40rpx;\r\n}\r\n.stats-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6rpx;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n.stats-label {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.stats-value {\r\n  font-size: 32rpx;\r\n  font-weight: 700;\r\n  color: #FF6B6B;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.stats-value-small {\r\n  font-size: 26rpx;\r\n  font-weight: 500;\r\n  color: #4A4A4A;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.stats-divider {\r\n  width: 1rpx;\r\n  height: 60rpx;\r\n  background: #F0F0F0;\r\n}\r\n\r\n/* Âú∞ÂõæÂÆπÂô® */\r\n.map-container {\r\n  position: relative;\r\n  height: 700rpx;\r\n  padding: 0;\r\n  overflow: hidden;\r\n}\r\n.map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n/* Á©∫Áä∂ÊÄÅ */\r\n.empty-state {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: rgba(255, 250, 244, 0.95);\r\n  backdrop-filter: blur(15px);\r\n  -webkit-backdrop-filter: blur(15px);\r\n  z-index: 10;\r\n}\r\n.empty-icon {\r\n  font-size: 100rpx;\r\n  margin-bottom: 30rpx;\r\n  opacity: 0.5;\r\n}\r\n.empty-text {\r\n  font-size: 30rpx;\r\n  color: #4A4A4A;\r\n  margin-bottom: 12rpx;\r\n  font-weight: 500;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.empty-hint {\r\n  font-size: 26rpx;\r\n  color: #666;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n/* Âä†ËΩΩÁä∂ÊÄÅ */\r\n.loading-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: rgba(255, 250, 244, 0.95);\r\n  backdrop-filter: blur(15px);\r\n  -webkit-backdrop-filter: blur(15px);\r\n  z-index: 10;\r\n}\r\n.loading-spinner {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  border: 4rpx solid #f0f0f0;\r\n  border-top-color: #FF6B6B;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 20rpx;\r\n}\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n.loading-text {\r\n  font-size: 26rpx;\r\n  color: #4A4A4A;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n\r\n/* ÂºπÁ™óÊ†∑Âºè */\r\n.modal-mask {\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 999;\r\n  backdrop-filter: blur(8rpx);\r\n  -webkit-backdrop-filter: blur(8rpx);\r\n}\r\n.modal {\r\n  width: 86%;\r\n  max-width: 600rpx;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(20px);\r\n  -webkit-backdrop-filter: blur(20px);\r\n  border-radius: 16rpx;\r\n  padding: 40rpx 32rpx;\r\n  box-shadow: 0 20rpx 60rpx rgba(0, 0, 0, 0.15), inset 0 0 0 2rpx rgba(255,255,255,0.5);\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\n.modal-header {\r\n  margin-bottom: 24rpx;\r\n  padding-bottom: 20rpx;\r\n  border-bottom: 1rpx solid #F0F0F0;\r\n}\r\n.modal-title {\r\n  font-size: 36rpx;\r\n  font-weight: 500;\r\n  color: #4A4A4A;\r\n  display: block;\r\n  margin-bottom: 12rpx;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.modal-date {\r\n  font-size: 26rpx;\r\n  color: #666;\r\n  display: block;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.modal-content {\r\n  margin-bottom: 24rpx;\r\n}\r\n.point-address {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n  margin-bottom: 20rpx;\r\n  padding: 16rpx;\r\n  background: rgba(255, 255, 255, 0.7);\r\n  backdrop-filter: blur(15px);\r\n  -webkit-backdrop-filter: blur(15px);\r\n  border-radius: 12rpx;\r\n  box-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.04), inset 0 0 0 1rpx rgba(255,255,255,0.5);\r\n}\r\n.address-label {\r\n  font-size: 28rpx;\r\n}\r\n.address-text {\r\n  font-size: 28rpx;\r\n  color: #4A4A4A;\r\n  flex: 1;\r\n  line-height: 1.5;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.point-image {\r\n  width: 100%;\r\n  height: 300rpx;\r\n  border-radius: 16rpx;\r\n  margin-bottom: 20rpx;\r\n  object-fit: cover;\r\n}\r\n.point-description {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  line-height: 1.8;\r\n  margin-top: 16rpx;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.point-meta {\r\n  margin-top: 20rpx;\r\n  padding-top: 20rpx;\r\n  border-top: 1rpx solid #F0F0F0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12rpx;\r\n}\r\n.meta-text {\r\n  font-size: 26rpx;\r\n  color: #666;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 16rpx;\r\n  padding-top: 20rpx;\r\n  border-top: 1rpx solid #F0F0F0;\r\n}\r\n.btn {\r\n  padding: 18rpx 36rpx;\r\n  border-radius: 16rpx;\r\n  font-size: 28rpx;\r\n  border: none;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\r\n}\r\n.btn.secondary {\r\n  background: linear-gradient(135deg, #FFB6C1 0%, #FFD700 100%);\r\n  color: #ffffff;\r\n  font-weight: 500;\r\n  box-shadow: 0 4rpx 12rpx rgba(255, 182, 193, 0.4);\r\n  transition: all 0.2s ease;\r\n}\r\n.btn.secondary:active {\r\n  transform: scale(0.98);\r\n}\r\n</style>\r\n\r\n","import MiniProgramPage from 'C:/Users/Administrator/Desktop/love_time - ÂâØÊú¨/subPackages/record/pages/trajectory/history.vue'\nwx.createPage(MiniProgramPage)"],"names":["wx","uni","getTrajectoryList"],"mappings":";;;AA6JA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,cAAc;AAAA,MACd,aAAa;AAAA;AAAA,MAEb,WAAW;AAAA;AAAA,MACX,SAAS;AAAA;AAAA,MACT,eAAe,CAAE;AAAA;AAAA,MACjB,kBAAkB;AAAA;AAAA,MAClB,aAAa;AAAA;AAAA,MACb,YAAY;AAAA,MACZ,cAAc,CAAE;AAAA;AAAA,MAEhB,WAAW;AAAA,QACT,UAAU;AAAA;AAAA,QACV,WAAW;AAAA,MACZ;AAAA,MACD,UAAU;AAAA;AAAA,MACV,YAAY,CAAE;AAAA;AAAA,MACd,aAAa,CAAC;AAAA;AAAA;EAEjB;AAAA,EACD,UAAU;AAAA,IACR,sBAAsB;AAGpB,YAAM,gBAAgB,KAAK,kBAAkB,KAAK;AAClD,YAAM,UAAU,MAAM,KAAK;AAC3B,YAAM,iBAAiB,gBAAgB;AACvC,aAAO,iBAAiB,KAAK;AAAA,IAC9B;AAAA;AAAA,IAED,eAAe;AACb,aAAO;AAAA,IACR;AAAA;AAAA,IAED,eAAe;AACb,aAAO,KAAK,WAAW,KAAK,WAAW,oBAAI,KAAI,CAAE;AAAA,IAClD;AAAA;AAAA,IAED,aAAa;AACX,aAAO,KAAK,aAAa;AAAA,IAC1B;AAAA;AAAA,IAED,aAAa;AACX,aAAO,KAAK,WAAW,oBAAI,KAAM,CAAA;AAAA,IACnC;AAAA,EACD;AAAA,EACD,OAAO;AAAA;AAAA,IAEL,eAAe;AAAA,MACb,UAAU;AACR,YAAI,KAAK,cAAc,SAAS,GAAG;AACjC,eAAK,iBAAgB;AAAA,QACvB;AAAA,MACD;AAAA,MACD,MAAM;AAAA,IACR;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,cAAa;AAAA,EACnB;AAAA,EACD,SAAS;AAAA,IACP,gBAAgB;AAGd,UAAI;AAEF,cAAM,aAAaA,cAAE,KAAC,iBAAiBA,cAAE,KAAC,cAAa;AACvD,cAAM,aAAaA,cAAE,KAAC,iBAAiBA,cAAE,KAAC,cAAa;AAEvD,YAAI,cAAc,YAAY;AAC5B,eAAK,kBAAkB,WAAW,mBAAmB;AACrD,eAAK,cAAc,WAAW,eAAe;AAAA,eACxC;AAEL,gBAAM,UAAUC,oBAAI;AACpB,eAAK,kBAAkB,QAAQ,mBAAmB;AAClD,eAAK,cAAc,QAAQ,eAAe;AAAA,QAC5C;AAAA,MACF,SAAS,GAAG;AAEV,cAAM,UAAUA,oBAAI;AACpB,aAAK,kBAAkB,QAAQ,mBAAmB;AAClD,aAAK,cAAc,QAAQ,eAAe;AAAA,MAC5C;AACA,WAAK,eAAe;AAAA,IAcrB;AAAA,IAED,SAAS;AACPA,oBAAG,MAAC,aAAY;AAAA,IACjB;AAAA,IAED,gBAAgB,OAAO;AACrB,WAAK,eAAe;AACpB,WAAK,aAAa;AAAA,IACnB;AAAA,IAED,kBAAkB;AAChB,WAAK,aAAa;AAClB,WAAK,eAAe;IACrB;AAAA;AAAA;AAAA;AAAA,IAKD,kBAAkB,GAAG;AACnB,YAAM,eAAe,EAAE,OAAO;AAC9B,UAAI,KAAK,WAAW,eAAe,KAAK,SAAS;AAC/CA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AACD;AAAA,MACF;AACA,WAAK,YAAY;AAAA,IAClB;AAAA;AAAA;AAAA;AAAA,IAKD,gBAAgB,GAAG;AACjB,YAAM,eAAe,EAAE,OAAO;AAC9B,UAAI,KAAK,aAAa,eAAe,KAAK,WAAW;AACnDA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AACD;AAAA,MACF;AACA,WAAK,UAAU;AAAA,IAChB;AAAA;AAAA;AAAA;AAAA,IAKD,WAAW,MAAM;AACf,UAAI,OAAO,SAAS,UAAU;AAC5B,eAAO;AAAA,MACT;AACA,YAAM,OAAO,KAAK;AAClB,YAAM,QAAQ,OAAO,KAAK,SAAQ,IAAK,CAAC,EAAE,SAAS,GAAG,GAAG;AACzD,YAAM,MAAM,OAAO,KAAK,QAAS,CAAA,EAAE,SAAS,GAAG,GAAG;AAClD,aAAO,GAAG,IAAI,IAAI,KAAK,IAAI,GAAG;AAAA,IAC/B;AAAA;AAAA;AAAA;AAAA,IAKD,MAAM,wBAAwB;AAC5B,UAAI,CAAC,KAAK,aAAa,CAAC,KAAK,SAAS;AACpCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AACD;AAAA,MACF;AAEA,UAAI,KAAK,YAAY,KAAK,SAAS;AACjCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AACD;AAAA,MACF;AAEA,WAAK,mBAAmB;AACxB,WAAK,cAAc;AAEnB,UAAI;AAEF,cAAM,SAAS,KAAK,aAAa,KAAK,UAClC;AAAA,UACE,YAAY,KAAK;AAAA,UACjB,UAAU,KAAK;AAAA,UACf,iBAAiB;AAAA,UACjB,OAAO;AAAA;AAAA,QACT,IACA;AAAA,UACE,QAAQ;AAAA,UACR,iBAAiB;AAAA,UACjB,OAAO;AAAA;AAAA;AAGbA,sBAAAA,MAAA,MAAA,OAAA,0DAAY,0CAA0C;AACtDA,sBAAAA,MAAA,MAAA,OAAA,0DAAY,kBAAkB;AAC9BA,sBAAAA,MAAA,MAAA,OAAA,0DAAY,YAAY,KAAK,WAAW,KAAK,KAAK,OAAO;AACzDA,sBAAAA,MAAY,MAAA,OAAA,0DAAA,SAAS,KAAK,UAAU,QAAQ,MAAM,CAAC,CAAC;AACpDA,sBAAAA,MAAA,MAAA,OAAA,0DAAY,0CAA0C;AAEtD,cAAM,MAAM,MAAMC,iCAAkB,MAAM;AAE1CD,sBAAA,MAAA,MAAA,OAAA,0DAAY,YAAY,GAAG;AAC3BA,sBAAAA,MAAA,MAAA,OAAA,0DAAY,YAAY,KAAK,WAAW,KAAK,KAAK,OAAO;AAEzD,cAAM,YAAY,QAAQ,IAAI,YAAY,QAAQ,IAAI,SAAS;AAC/D,cAAM,gBAAe,2BAAK,SAAQ;AAElC,YAAI,aAAa,cAAc;AAM7B,cAAI,SAAS,CAAA;AAEb,cAAI,aAAa,uBAAuB,MAAM,QAAQ,aAAa,mBAAmB,GAAG;AAEvF,qBAAS,aAAa;AAAA,UACxB,WAAW,aAAa,WAAW,MAAM,QAAQ,aAAa,OAAO,GAAG;AACtE,qBAAS,aAAa;AAAA,UACxB,WAAW,MAAM,QAAQ,YAAY,GAAG;AACtC,qBAAS;AAAA,UACX,WAAW,aAAa,UAAU,MAAM,QAAQ,aAAa,MAAM,GAAG;AACpE,qBAAS,aAAa;AAAA,UACxB;AAIA,mBAAS,OAAO,IAAI,WAAS;AAE3B,gBAAI,MAAM,aAAa,CAAC,MAAM,YAAY;AACxC,oBAAM,aAAa,MAAM;AAAA,YAC3B;AACA,gBAAI,MAAM,cAAc,CAAC,MAAM,WAAW;AACxC,oBAAM,YAAY,MAAM;AAAA,YAC1B;AAGA,gBAAI,CAAC,MAAM,iBAAiB,CAAC,MAAM,cAAc;AAC/C,oBAAM,gBAAgB,MAAM,aAAa,MAAM,WAAW,MAAM,eAAe;AAC/E,oBAAM,eAAe,MAAM;AAAA,YAC3B,WAAS,MAAM,gBAAgB,CAAC,MAAM,eAAe;AACrD,oBAAM,gBAAgB,MAAM;AAAA,YAC5B,WAAS,MAAM,iBAAiB,CAAC,MAAM,cAAc;AACrD,oBAAM,eAAe,MAAM;AAAA,YAC7B;AAEA,gBAAI,CAAC,MAAM,UAAU,MAAM,UAAU;AACnC,oBAAM,SAAS,CAAC,MAAM,QAAQ;AAAA,YAChC;AAEA,mBAAO;AAAA,UACT,CAAC;AAEDA,wBAAA,MAAA,MAAA,OAAA,0DAAY,cAAc,OAAO,MAAM;AACvCA,wBAAY,MAAA,MAAA,OAAA,0DAAA,YAAY,OAAO,CAAC,CAAC;AAGjC,cAAI,KAAK,aAAa,KAAK,SAAS;AAClC,kBAAM,eAAe,oBAAI,KAAK,KAAK,YAAY,WAAW;AAC1D,kBAAM,aAAa,oBAAI,KAAK,KAAK,UAAU,WAAW;AAEtD,kBAAM,iBAAiB,OAAO,OAAO,WAAS;AAC5C,oBAAM,YAAY,KAAK,gBAAgB,MAAM,cAAc,MAAM,SAAS;AAC1E,kBAAI,CAAC;AAAW,uBAAO;AAGvB,qBAAO,aAAa,gBAAgB,aAAa;AAAA,YACnD,CAAC;AAEDA,0BAAAA,MAAY,MAAA,OAAA,0DAAA,cAAc,OAAO,MAAM,WAAW,eAAe,MAAM,KAAK;AAC5EA,0BAAAA,MAAA,MAAA,OAAA,0DAAY,SAAS,KAAK,SAAS,eAAe,KAAK,OAAO,WAAW;AAEzE,iBAAK,gBAAgB;AAAA,iBAChB;AACL,iBAAK,gBAAgB;AAAA,UACvB;AAGA,cAAI,KAAK,cAAc,SAAS,GAAG;AACjC,iBAAK,iBAAgB;AACrBA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO,OAAO,KAAK,cAAc,MAAM;AAAA,cACvC,MAAM;AAAA,cACN,UAAU;AAAA,YACZ,CAAC;AAAA,iBACI;AACLA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACR,CAAC;AAED,iBAAK,aAAa;AAClB,iBAAK,cAAc;AACnB,iBAAK,YAAY;AAAA,cACf,UAAU;AAAA,cACV,WAAW;AAAA;AAEb,iBAAK,WAAW;AAAA,UAClB;AAAA,eACK;AACL,gBAAM,cAAa,2BAAK,SAAO,2BAAK,aAAW,6CAAc;AAC7D,gBAAM,IAAI,MAAM,cAAc,MAAM;AAAA,QACtC;AAAA,MACA,SAAO,OAAO;AACdA,sBAAA,MAAA,MAAA,SAAA,0DAAc,aAAa,KAAK;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO,MAAM,WAAW;AAAA,UACxB,MAAM;AAAA,UACN,UAAU;AAAA,QACZ,CAAC;AACD,aAAK,gBAAgB;AAErB,aAAK,aAAa;AAClB,aAAK,cAAc;MACrB,UAAU;AACR,aAAK,mBAAmB;AAAA,MAC1B;AAAA,IACD;AAAA;AAAA;AAAA;AAAA,IAKD,eAAe;AACb,WAAK,gBAAgB;AACrB,WAAK,YAAY;AACjB,WAAK,UAAU;AACf,WAAK,cAAc;AAEnB,WAAK,aAAa;AAClB,WAAK,cAAc;AACnB,WAAK,YAAY;AAAA,QACf,UAAU;AAAA,QACV,WAAW;AAAA;AAEb,WAAK,WAAW;AAAA,IACjB;AAAA;AAAA;AAAA;AAAA,IAKD,mBAAmB;AACjB,UAAI,KAAK,cAAc,WAAW,GAAG;AACnC;AAAA,MACF;AAGA,YAAM,eAAe,CAAC,GAAG,KAAK,aAAa,EAAE,KAAK,CAAC,GAAG,MAAM;AAC1D,cAAM,QAAQ,KAAK,gBAAgB,EAAE,cAAc,EAAE,SAAS;AAC9D,cAAM,QAAQ,KAAK,gBAAgB,EAAE,cAAc,EAAE,SAAS;AAE9D,YAAI,CAAC,SAAS,CAAC;AAAO,iBAAO;AAC7B,YAAI,CAAC;AAAO,iBAAO;AACnB,YAAI,CAAC;AAAO,iBAAO;AAEnB,eAAO,MAAM,QAAO,IAAK,MAAM,QAAO;AAAA,MACxC,CAAC;AAGD,YAAM,UAAU,aAAa,IAAI,CAAC,OAAO,UAAU;AACjD,cAAM,WAAW,MAAM;AACvB,cAAM,YAAY,MAAM;AACxB,cAAM,eAAe,MAAM,iBAAiB,MAAM,gBAAgB,MAAM,WAAW;AACnF,cAAM,YAAY,MAAM,cAAc,MAAM;AAE5C,eAAO;AAAA,UACL,IAAI,QAAQ;AAAA,UACZ;AAAA,UACA;AAAA,UACA,OAAO;AAAA,UACP,QAAQ;AAAA,UACR,OAAO;AAAA,UACP,SAAS;AAAA,YACP,SAAS,GAAG,YAAY;AAAA,EAAK,KAAK,gBAAgB,SAAS,CAAC;AAAA,YAC5D,OAAO;AAAA,YACP,UAAU;AAAA,YACV,cAAc;AAAA,YACd,SAAS;AAAA,YACT,SAAS;AAAA,YACT,SAAS;AAAA,UACV;AAAA,UACD,WAAW;AAAA;MAEf,CAAC;AAED,WAAK,aAAa;AAGlB,UAAI,QAAQ,SAAS,GAAG;AAEtB,cAAM,YAAY,QAAQ,IAAI,OAAK,EAAE,QAAQ;AAC7C,cAAM,aAAa,QAAQ,IAAI,OAAK,EAAE,SAAS;AAC/C,cAAM,SAAS,KAAK,IAAI,GAAG,SAAS;AACpC,cAAM,SAAS,KAAK,IAAI,GAAG,SAAS;AACpC,cAAM,SAAS,KAAK,IAAI,GAAG,UAAU;AACrC,cAAM,SAAS,KAAK,IAAI,GAAG,UAAU;AAGrC,aAAK,YAAY;AAAA,UACf,WAAW,SAAS,UAAU;AAAA,UAC9B,YAAY,SAAS,UAAU;AAAA;AAIjC,cAAM,UAAU,SAAS;AACzB,cAAM,UAAU,SAAS;AACzB,cAAM,UAAU,KAAK,IAAI,SAAS,OAAO;AAEzC,YAAI,UAAU,MAAM;AAClB,eAAK,WAAW;AAAA,QAClB,WAAW,UAAU,KAAK;AACxB,eAAK,WAAW;AAAA,QAClB,WAAW,UAAU,GAAG;AACtB,eAAK,WAAW;AAAA,eACX;AACL,eAAK,WAAW;AAAA,QAClB;AAGA,YAAI,aAAa,SAAS,GAAG;AAC3B,gBAAM,SAAS,aAAa,IAAI,YAAU;AAAA,YACxC,UAAU,MAAM;AAAA,YAChB,WAAW,MAAM;AAAA,UAClB,EAAC;AAEF,eAAK,cAAc,CAAC;AAAA,YAClB;AAAA,YACA,OAAO;AAAA,YACP,OAAO;AAAA,YACP,aAAa;AAAA,YACb,aAAa;AAAA,YACb,WAAW;AAAA,YACX,YAAY;AAAA,UACd,CAAC;AAAA,eACI;AACL,eAAK,cAAc;QACrB;AAAA,MACF;AAAA,IACD;AAAA;AAAA;AAAA;AAAA,IAKD,YAAY,GAAG;AACbA,oBAAA,MAAA,MAAA,OAAA,0DAAY,UAAU,CAAC;AACvB,UAAI,EAAE,QAAQ;AACZ,cAAM,WAAW,EAAE,OAAO;AAC1B,cAAM,SAAS,KAAK,WAAW,KAAK,OAAK,EAAE,OAAO,QAAQ;AAC1D,YAAI,UAAU,OAAO,WAAW;AAC9B,eAAK,gBAAgB,OAAO,SAAS;AAAA,QACvC;AAAA,MACF;AAAA,IACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUD,gBAAgB,SAAS;AACvB,UAAI,CAAC;AAAS,eAAO;AAErB,UAAI,mBAAmB,MAAM;AAC3B,eAAO;AAAA,MACT;AAGA,UAAI,OAAO,IAAI,KAAK,OAAO;AAE3B,UAAI,CAAC,MAAM,KAAK,QAAS,CAAA,GAAG;AAC1B,eAAO;AAAA,MACT;AAIA,YAAM,gBAAgB;AACtB,YAAM,QAAQ,QAAQ,MAAM,aAAa;AAEzC,UAAI,OAAO;AACT,cAAM,aAAa;AAAA,UACjB,OAAO;AAAA,UAAG,OAAO;AAAA,UAAG,OAAO;AAAA,UAAG,OAAO;AAAA,UAAG,OAAO;AAAA,UAAG,OAAO;AAAA,UACzD,OAAO;AAAA,UAAG,OAAO;AAAA,UAAG,OAAO;AAAA,UAAG,OAAO;AAAA,UAAG,OAAO;AAAA,UAAI,OAAO;AAAA;AAG5D,cAAM,QAAQ,WAAW,MAAM,CAAC,CAAC;AACjC,cAAM,MAAM,SAAS,MAAM,CAAC,GAAG,EAAE;AACjC,cAAM,OAAO,SAAS,MAAM,CAAC,GAAG,EAAE;AAClC,YAAI,OAAO,SAAS,MAAM,CAAC,GAAG,EAAE;AAChC,cAAM,SAAS,SAAS,MAAM,CAAC,GAAG,EAAE;AACpC,cAAM,SAAS,SAAS,MAAM,CAAC,GAAG,EAAE;AACpC,cAAM,OAAO,MAAM,CAAC,EAAE,YAAW;AAGjC,YAAI,SAAS,QAAQ,SAAS,IAAI;AAChC,kBAAQ;AAAA,QACV,WAAW,SAAS,QAAQ,SAAS,IAAI;AACvC,iBAAO;AAAA,QACT;AAGA,eAAO,IAAI,KAAK,MAAM,OAAO,KAAK,MAAM,QAAQ,MAAM;AAEtD,YAAI,CAAC,MAAM,KAAK,QAAS,CAAA,GAAG;AAC1B,iBAAO;AAAA,QACT;AAAA,MACF;AAGA,YAAM,aAAa,QAAQ,QAAQ,6BAA6B,KAAK;AACrE,aAAO,IAAI,KAAK,UAAU;AAE1B,UAAI,CAAC,MAAM,KAAK,QAAS,CAAA,GAAG;AAC1B,eAAO;AAAA,MACT;AAEAA,oBAAA,MAAA,MAAA,QAAA,0DAAa,cAAc,OAAO;AAClC,aAAO;AAAA,IACR;AAAA;AAAA;AAAA;AAAA,IAKD,gBAAgB,SAAS;AACvB,UAAI,CAAC;AAAS,eAAO;AACrB,YAAM,OAAO,KAAK,gBAAgB,OAAO;AACzC,UAAI,CAAC;AAAM,eAAO;AAElB,YAAM,QAAQ,KAAK,SAAQ,IAAK;AAChC,YAAM,MAAM,KAAK;AACjB,YAAM,OAAO,KAAK;AAClB,YAAM,SAAS,KAAK;AACpB,aAAO,GAAG,KAAK,IAAI,GAAG,IAAI,IAAI,IAAI,OAAO,SAAU,EAAC,SAAS,GAAG,GAAG,CAAC;AAAA,IACrE;AAAA;AAAA;AAAA;AAAA,IAKD,gBAAgB,OAAO;AACrB,UAAI,MAAM,cAAc,MAAM,WAAW;AACvC,cAAM,OAAO,KAAK,gBAAgB,MAAM,cAAc,MAAM,SAAS;AACrE,YAAI,CAAC;AAAM,iBAAO;AAElB,cAAM,OAAO,KAAK;AAClB,cAAM,QAAQ,OAAO,KAAK,SAAQ,IAAK,CAAC,EAAE,SAAS,GAAG,GAAG;AACzD,cAAM,MAAM,OAAO,KAAK,QAAS,CAAA,EAAE,SAAS,GAAG,GAAG;AAClD,cAAM,OAAO,OAAO,KAAK,SAAU,CAAA,EAAE,SAAS,GAAG,GAAG;AACpD,cAAM,SAAS,OAAO,KAAK,WAAY,CAAA,EAAE,SAAS,GAAG,GAAG;AACxD,eAAO,GAAG,IAAI,IAAI,KAAK,IAAI,GAAG,IAAI,IAAI,IAAI,MAAM;AAAA,MAClD;AACA,aAAO,MAAM,QAAQ;AAAA,IACtB;AAAA;AAAA;AAAA;AAAA,IAKD,eAAe,SAAS;AACtB,UAAI,CAAC;AAAS,eAAO;AACrB,UAAI,UAAU,IAAI;AAChB,eAAO,GAAG,OAAO;AAAA,MACnB,WAAW,UAAU,MAAM;AACzB,cAAM,QAAQ,KAAK,MAAM,UAAU,EAAE;AACrC,cAAM,OAAO,UAAU;AACvB,eAAO,OAAO,IAAI,GAAG,KAAK,KAAK,IAAI,OAAO,GAAG,KAAK;AAAA,aAC7C;AACL,cAAM,OAAO,KAAK,MAAM,UAAU,IAAI;AACtC,cAAM,QAAQ,KAAK,MAAO,UAAU,OAAQ,EAAE;AAC9C,eAAO,QAAQ,IAAI,GAAG,IAAI,IAAI,KAAK,OAAO,GAAG,IAAI;AAAA,MACnD;AAAA,IACF;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/tBA,GAAG,WAAW,eAAe;"}